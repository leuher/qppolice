if(!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=re.type(e);return"function"!==i&&!re.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t,i){if(re.isFunction(t))return re.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return re.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(me.test(t))return re.filter(t,e,i);t=re.filter(t,e)}return re.grep(e,function(e){return J.call(t,e)>-1!==i})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e){var t={};return re.each(e.match(xe)||[],function(e,i){t[i]=!0}),t}function a(){X.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a),re.ready()}function s(){this.expando=re.expando+s.uid++}function l(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Ee,"-$&").toLowerCase(),i=e.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:De.test(i)?re.parseJSON(i):i)}catch(e){}Te.set(e,t,i)}else i=void 0;return i}function c(e,t,i,n){var o,r=1,a=20,s=n?function(){return n.cur()}:function(){return re.css(e,t,"")},l=s(),c=i&&i[3]||(re.cssNumber[t]?"":"px"),d=(re.cssNumber[t]||"px"!==c&&+l)&&Ae.exec(re.css(e,t));if(d&&d[3]!==c){c=c||d[3],i=i||[],d=+l||1;do r=r||".5",d/=r,re.style(e,t,d+c);while(r!==(r=s()/l)&&1!==r&&--a)}return i&&(d=+d||+l||0,o=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=o)),o}function d(e,t){var i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&re.nodeName(e,t)?re.merge([e],i):i}function u(e,t){for(var i=0,n=e.length;n>i;i++)Se.set(e[i],"globalEval",!t||Se.get(t[i],"globalEval"))}function p(e,t,i,n,o){for(var r,a,s,l,c,p,h=t.createDocumentFragment(),f=[],m=0,g=e.length;g>m;m++)if(r=e[m],r||0===r)if("object"===re.type(r))re.merge(f,r.nodeType?[r]:r);else if(Fe.test(r)){for(a=a||h.appendChild(t.createElement("div")),s=(Pe.exec(r)||["",""])[1].toLowerCase(),l=Le[s]||Le._default,a.innerHTML=l[1]+re.htmlPrefilter(r)+l[2],p=l[0];p--;)a=a.lastChild;re.merge(f,a.childNodes),a=h.firstChild,a.textContent=""}else f.push(t.createTextNode(r));for(h.textContent="",m=0;r=f[m++];)if(n&&re.inArray(r,n)>-1)o&&o.push(r);else if(c=re.contains(r.ownerDocument,r),a=d(h.appendChild(r),"script"),c&&u(a),i)for(p=0;r=a[p++];)Ne.test(r.type||"")&&i.push(r);return h}function h(){return!0}function f(){return!1}function m(){try{return X.activeElement}catch(e){}}function g(e,t,i,n,o,r){var a,s;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(s in t)g(e,s,i,n,t[s],r);return e}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),o===!1)o=f;else if(!o)return e;return 1===r&&(a=o,o=function(e){return re().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=re.guid++)),e.each(function(){re.event.add(this,t,o,n,i)})}function y(e,t){return re.nodeName(e,"table")&&re.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function v(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var i,n,o,r,a,s,l,c;if(1===t.nodeType){if(Se.hasData(e)&&(r=Se.access(e),a=Se.set(t,r),c=r.events)){delete a.handle,a.events={};for(o in c)for(i=0,n=c[o].length;n>i;i++)re.event.add(t,o,c[o][i])}Te.hasData(e)&&(s=Te.access(e),l=re.extend({},s),Te.set(t,l))}}function x(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Me.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function _(e,t,i,n){t=K.apply([],t);var o,r,a,s,l,c,u=0,h=e.length,f=h-1,m=t[0],g=re.isFunction(m);if(g||h>1&&"string"==typeof m&&!ne.checkClone&&ze.test(m))return e.each(function(o){var r=e.eq(o);g&&(t[0]=m.call(this,o,r.html())),_(r,t,i,n)});if(h&&(o=p(t,e[0].ownerDocument,!1,e,n),r=o.firstChild,1===o.childNodes.length&&(o=r),r||n)){for(a=re.map(d(o,"script"),v),s=a.length;h>u;u++)l=o,u!==f&&(l=re.clone(l,!0,!0),s&&re.merge(a,d(l,"script"))),i.call(e[u],l,u);if(s)for(c=a[a.length-1].ownerDocument,re.map(a,b),u=0;s>u;u++)l=a[u],Ne.test(l.type||"")&&!Se.access(l,"globalEval")&&re.contains(c,l)&&(l.src?re._evalUrl&&re._evalUrl(l.src):re.globalEval(l.textContent.replace(Ue,"")))}return e}function k(e,t,i){for(var n,o=t?re.filter(t,e):e,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||re.cleanData(d(n)),n.parentNode&&(i&&re.contains(n.ownerDocument,n)&&u(d(n,"script")),n.parentNode.removeChild(n));return e}function C(e,t){var i=re(t.createElement(e)).appendTo(t.body),n=re.css(i[0],"display");return i.detach(),n}function S(e){var t=X,i=Ve[e];return i||(i=C(e,t),"none"!==i&&i||(We=(We||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=We[0].contentDocument,t.write(),t.close(),i=C(e,t),We.detach()),Ve[e]=i),i}function T(e,t,i){var n,o,r,a,s=e.style;return i=i||Qe(e),a=i?i.getPropertyValue(t)||i[t]:void 0,""!==a&&void 0!==a||re.contains(e.ownerDocument,e)||(a=re.style(e,t)),i&&!ne.pixelMarginRight()&&Xe.test(a)&&Ge.test(t)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r),void 0!==a?a+"":a}function D(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function E(e){if(e in nt)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=it.length;i--;)if(e=it[i]+t,e in nt)return e}function R(e,t,i){var n=Ae.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function A(e,t,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=re.css(e,i+Oe[r],!0,o)),n?("content"===i&&(a-=re.css(e,"padding"+Oe[r],!0,o)),"margin"!==i&&(a-=re.css(e,"border"+Oe[r]+"Width",!0,o))):(a+=re.css(e,"padding"+Oe[r],!0,o),"padding"!==i&&(a+=re.css(e,"border"+Oe[r]+"Width",!0,o)));return a}function O(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=Qe(e),a="border-box"===re.css(e,"boxSizing",!1,r);if(0>=o||null==o){if(o=T(e,t,r),(0>o||null==o)&&(o=e.style[t]),Xe.test(o))return o;n=a&&(ne.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+A(e,t,i||(a?"border":"content"),n,r)+"px"}function I(e,t){for(var i,n,o,r=[],a=0,s=e.length;s>a;a++)n=e[a],n.style&&(r[a]=Se.get(n,"olddisplay"),i=n.style.display,t?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&Ie(n)&&(r[a]=Se.access(n,"olddisplay",S(n.nodeName)))):(o=Ie(n),"none"===i&&o||Se.set(n,"olddisplay",o?i:re.css(n,"display"))));for(a=0;s>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function M(e,t,i,n,o){return new M.prototype.init(e,t,i,n,o)}function P(){return e.setTimeout(function(){ot=void 0}),ot=re.now()}function N(e,t){var i,n=0,o={height:e};for(t=t?1:0;4>n;n+=2-t)i=Oe[n],o["margin"+i]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function L(e,t,i){for(var n,o=(j.tweeners[t]||[]).concat(j.tweeners["*"]),r=0,a=o.length;a>r;r++)if(n=o[r].call(i,t,e))return n}function F(e,t,i){var n,o,r,a,s,l,c,d,u=this,p={},h=e.style,f=e.nodeType&&Ie(e),m=Se.get(e,"fxshow");i.queue||(s=re._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,re.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],c=re.css(e,"display"),d="none"===c?Se.get(e,"olddisplay")||S(e.nodeName):c,"inline"===d&&"none"===re.css(e,"float")&&(h.display="inline-block")),i.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],at.exec(o)){if(delete t[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;f=!0}p[n]=m&&m[n]||re.style(e,n)}else c=void 0;if(re.isEmptyObject(p))"inline"===("none"===c?S(e.nodeName):c)&&(h.display=c);else{m?"hidden"in m&&(f=m.hidden):m=Se.access(e,"fxshow",{}),r&&(m.hidden=!f),f?re(e).show():u.done(function(){re(e).hide()}),u.done(function(){var t;Se.remove(e,"fxshow");for(t in p)re.style(e,t,p[t])});for(n in p)a=L(f?m[n]:0,n,u),n in m||(m[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function $(e,t){var i,n,o,r,a;for(i in e)if(n=re.camelCase(i),o=t[n],r=e[i],re.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),a=re.cssHooks[n],a&&"expand"in a){r=a.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=o)}else t[n]=o}function j(e,t,i){var n,o,r=0,a=j.prefilters.length,s=re.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=ot||P(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,r=1-n,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(r);return s.notifyWith(e,[c,r,i]),1>r&&l?i:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:re.extend({},t),opts:re.extend(!0,{specialEasing:{},easing:re.easing._default},i),originalProperties:t,originalOptions:i,startTime:ot||P(),duration:i.duration,tweens:[],createTween:function(t,i){var n=re.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)c.tweens[i].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),d=c.props;for($(d,c.opts.specialEasing);a>r;r++)if(n=j.prefilters[r].call(c,e,d,c.opts))return re.isFunction(n.stop)&&(re._queueHooks(c.elem,c.opts.queue).stop=re.proxy(n.stop,n)),n;return re.map(d,L,c),re.isFunction(c.opts.start)&&c.opts.start.call(e,c),re.fx.timer(re.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return e.getAttribute&&e.getAttribute("class")||""}function B(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,r=t.toLowerCase().match(xe)||[];if(re.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Y(e,t,i,n){function o(s){var l;return r[s]=!0,re.each(e[s]||[],function(e,s){var c=s(t,i,n);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=e===Tt;return o(t.dataTypes[0])||!r["*"]&&o("*")}function z(e,t){var i,n,o=re.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&re.extend(!0,e,n),e}function q(e,t,i){for(var n,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function U(e,t,i,n){var o,r,a,s,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=d.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(r=s[0],d.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function W(e,t,i,n){var o;if(re.isArray(t))re.each(t,function(t,o){i||At.test(e)?n(e,o):W(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,i,n)});else if(i||"object"!==re.type(t))n(e,t);else for(o in t)W(e+"["+o+"]",t[o],i,n)}function V(e){return re.isWindow(e)?e:9===e.nodeType&&e.defaultView}var G=[],X=e.document,Q=G.slice,K=G.concat,Z=G.push,J=G.indexOf,ee={},te=ee.toString,ie=ee.hasOwnProperty,ne={},oe="2.2.4",re=function(e,t){return new re.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([\da-z])/gi,ce=function(e,t){return t.toUpperCase()};re.fn=re.prototype={jquery:oe,constructor:re,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Q.call(this)},pushStack:function(e){var t=re.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return re.each(this,e)},map:function(e){return this.pushStack(re.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:G.sort,splice:G.splice},re.extend=re.fn.extend=function(){var e,t,i,n,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||re.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)i=a[t],n=e[t],a!==n&&(c&&n&&(re.isPlainObject(n)||(o=re.isArray(n)))?(o?(o=!1,r=i&&re.isArray(i)?i:[]):r=i&&re.isPlainObject(i)?i:{},a[t]=re.extend(c,r,n)):void 0!==n&&(a[t]=n));return a},re.extend({expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===re.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!re.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==re.type(e)||e.nodeType||re.isWindow(e))return!1;if(e.constructor&&!ie.call(e,"constructor")&&!ie.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ie.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=re.trim(e),e&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(se,"ms-").replace(le,ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,o=0;if(i(e))for(n=e.length;n>o&&t.call(e[o],o,e[o])!==!1;o++);else for(o in e)if(t.call(e[o],o,e[o])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?re.merge(n,"string"==typeof e?[e]:e):Z.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:J.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;i>n;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n,o=[],r=0,a=e.length,s=!i;a>r;r++)n=!t(e[r],r),n!==s&&o.push(e[r]);return o},map:function(e,t,n){var o,r,a=0,s=[];if(i(e))for(o=e.length;o>a;a++)r=t(e[a],a,n),null!=r&&s.push(r);else for(a in e)r=t(e[a],a,n),null!=r&&s.push(r);return K.apply([],s)},guid:1,proxy:function(e,t){var i,n,o;return"string"==typeof t&&(i=e[t],t=e,e=i),re.isFunction(e)?(n=Q.call(arguments,2),o=function(){return e.apply(t||this,n.concat(Q.call(arguments)))},o.guid=e.guid=e.guid||re.guid++,o):void 0},now:Date.now,support:ne}),"function"==typeof Symbol&&(re.fn[Symbol.iterator]=G[Symbol.iterator]),re.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var de=function(e){function t(e,t,i,n){var o,r,a,s,l,c,u,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return i;if(!n&&((t?t.ownerDocument||t:H)!==I&&O(t),t=t||I,P)){if(11!==m&&(c=ye.exec(e)))if(o=c[1]){if(9===m){if(!(a=t.getElementById(o)))return i;if(a.id===o)return i.push(a),i}else if(f&&(a=f.getElementById(o))&&$(t,a)&&a.id===o)return i.push(a),i}else{if(c[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((o=c[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(o)),i}if(x.qsa&&!U[e+" "]&&(!N||!N.test(e))){if(1!==m)f=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=j),u=S(e),r=u.length,l=pe.test(s)?"#"+s:"[id='"+s+"']";r--;)u[r]=l+" "+p(u[r]);h=u.join(","),f=ve.test(e)&&d(t.parentNode)||t}if(h)try{return Z.apply(i,f.querySelectorAll(h)),i}catch(e){}finally{s===j&&t.removeAttribute("id")}}}return D(e.replace(se,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>_.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[j]=!0,e}function o(e){var t=I.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=i.length;n--;)_.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var o,r=e([],i.length,t),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function p(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function h(e,t,i){var n=t.dir,o=i&&"parentNode"===n,r=Y++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r)}:function(t,i,a){var s,l,c,d=[B,r];if(a){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||o){if(c=t[j]||(t[j]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(s=l[n])&&s[0]===B&&s[1]===r)return d[2]=s[2];if(l[n]=d,d[2]=e(t,i,a))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var o=0,r=i.length;r>o;o++)t(e,i[o],n);return n}function g(e,t,i,n,o){for(var r,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(i&&!i(r,n,o)||(a.push(r),c&&t.push(s)));return a}function y(e,t,i,o,r,a){return o&&!o[j]&&(o=y(o)),r&&!r[j]&&(r=y(r,a)),n(function(n,a,s,l){var c,d,u,p=[],h=[],f=a.length,y=n||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!n&&t?y:g(y,p,e,s,l),b=i?r||(n?e:f||o)?[]:a:v;if(i&&i(v,b,s,l),o)for(c=g(b,h),o(c,[],s,l),d=c.length;d--;)(u=c[d])&&(b[h[d]]=!(v[h[d]]=u));if(n){if(r||e){if(r){for(c=[],d=b.length;d--;)(u=b[d])&&c.push(v[d]=u);r(null,b=[],c,l)}for(d=b.length;d--;)(u=b[d])&&(c=r?ee(n,u):p[d])>-1&&(n[c]=!(a[c]=u))}}else b=g(b===a?b.splice(f,b.length):b),r?r(null,a,b,l):Z.apply(a,b)})}function v(e){for(var t,i,n,o=e.length,r=_.relative[e[0].type],a=r||_.relative[" "],s=r?1:0,l=h(function(e){return e===t},a,!0),c=h(function(e){return ee(t,e)>-1},a,!0),d=[function(e,i,n){var o=!r&&(n||i!==E)||((t=i).nodeType?l(e,i,n):c(e,i,n));return t=null,o}];o>s;s++)if(i=_.relative[e[s].type])d=[h(f(d),i)];else{if(i=_.filter[e[s].type].apply(null,e[s].matches),i[j]){for(n=++s;o>n&&!_.relative[e[n].type];n++);return y(s>1&&f(d),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),i,n>s&&v(e.slice(s,n)),o>n&&v(e=e.slice(n)),o>n&&p(e))}d.push(i)}return f(d)}function b(e,i){var o=i.length>0,r=e.length>0,a=function(n,a,s,l,c){var d,u,p,h=0,f="0",m=n&&[],y=[],v=E,b=n||r&&_.find.TAG("*",c),w=B+=null==v?1:Math.random()||.1,x=b.length;for(c&&(E=a===I||a||c);f!==x&&null!=(d=b[f]);f++){if(r&&d){for(u=0,a||d.ownerDocument===I||(O(d),s=!P);p=e[u++];)if(p(d,a||I,s)){l.push(d);break}c&&(B=w)}o&&((d=!p&&d)&&h--,n&&m.push(d))}if(h+=f,o&&f!==h){for(u=0;p=i[u++];)p(m,y,a,s);if(n){if(h>0)for(;f--;)m[f]||y[f]||(y[f]=Q.call(l));y=g(y)}Z.apply(l,y),c&&!n&&y.length>0&&h+i.length>1&&t.uniqueSort(l)}return c&&(B=w,E=v),m};return o?n(a):a}var w,x,_,k,C,S,T,D,E,R,A,O,I,M,P,N,L,F,$,j="sizzle"+1*new Date,H=e.document,B=0,Y=0,z=i(),q=i(),U=i(),W=function(e,t){return e===t&&(A=!0),0},V=1<<31,G={}.hasOwnProperty,X=[],Q=X.pop,K=X.push,Z=X.push,J=X.slice,ee=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ie+"*\\]",re=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ie+"+","g"),se=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),ce=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),ue=new RegExp(re),pe=new RegExp("^"+ne+"$"),he={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),xe=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},_e=function(){O()};try{Z.apply(X=J.call(H.childNodes),H.childNodes),X[H.childNodes.length].nodeType}catch(e){Z={apply:X.length?function(e,t){K.apply(e,J.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}x=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:H;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,M=I.documentElement,P=!C(I),(i=I.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",_e,!1):i.attachEvent&&i.attachEvent("onunload",_e)),x.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=o(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ge.test(I.getElementsByClassName),x.getById=o(function(e){return M.appendChild(e).id=j,!I.getElementsByName||!I.getElementsByName(j).length}),x.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var i=t.getElementById(e);return i?[i]:[]}},_.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),_.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},_.find.CLASS=x.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&P?t.getElementsByClassName(e):void 0},L=[],N=[],(x.qsa=ge.test(I.querySelectorAll))&&(o(function(e){M.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+j+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||N.push(".#.+[+~]")}),o(function(e){var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(x.matchesSelector=ge.test(F=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(e){x.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),L.push("!=",re)}),N=N.length&&new RegExp(N.join("|")),L=L.length&&new RegExp(L.join("|")),t=ge.test(M.compareDocumentPosition),$=t||ge.test(M.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return A=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===I||e.ownerDocument===H&&$(H,e)?-1:t===I||t.ownerDocument===H&&$(H,t)?1:R?ee(R,e)-ee(R,t):0:4&i?-1:1)}:function(e,t){if(e===t)return A=!0,0;var i,n=0,o=e.parentNode,r=t.parentNode,s=[e],l=[t];if(!o||!r)return e===I?-1:t===I?1:o?-1:r?1:R?ee(R,e)-ee(R,t):0;if(o===r)return a(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++;return n?a(s[n],l[n]):s[n]===H?-1:l[n]===H?1:0},I):I},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==I&&O(e),i=i.replace(de,"='$1']"),x.matchesSelector&&P&&!U[i+" "]&&(!L||!L.test(i))&&(!N||!N.test(i)))try{var n=F.call(e,i);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&O(e),$(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&O(e);var i=_.attrHandle[t.toLowerCase()],n=i&&G.call(_.attrHandle,t.toLowerCase())?i(e,t,!P):void 0;return void 0!==n?n:x.attributes||!P?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,o=0;if(A=!x.detectDuplicates,R=!x.sortStable&&e.slice(0),e.sort(W),A){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return R=null,e},k=t.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=k(t);return i},_=t.selectors={cacheLength:50,createPseudo:n,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ue.test(i)&&(t=S(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(o){var r=t.attr(o,e);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(ae," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var c,d,u,p,h,f,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s,b=!1;if(g){if(r){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&v){for(p=g,u=p[j]||(p[j]={}),d=u[p.uniqueID]||(u[p.uniqueID]={}),c=d[e]||[],h=c[0]===B&&c[1],b=h&&c[2],p=h&&g.childNodes[h];p=++h&&p&&p[m]||(b=h=0)||f.pop();)if(1===p.nodeType&&++b&&p===t){d[e]=[B,h,b];break}}else if(v&&(p=t,u=p[j]||(p[j]={}),d=u[p.uniqueID]||(u[p.uniqueID]={}),c=d[e]||[],h=c[0]===B&&c[1],b=h),b===!1)for(;(p=++h&&p&&p[m]||(b=h=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++b||(v&&(u=p[j]||(p[j]={}),d=u[p.uniqueID]||(u[p.uniqueID]={}),d[e]=[B,b]),p!==t)););return b-=o,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(e,i){var o,r=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[j]?r(i):r.length>1?(o=[e,e,"",i],_.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,o=r(e,i),a=o.length;a--;)n=ee(e,o[a]),e[n]=!(t[n]=o[a])}):function(e){return r(e,0,o)}):r}},pseudos:{not:n(function(e){var t=[],i=[],o=T(e.replace(se,"$1"));return o[j]?n(function(e,t,i,n){for(var r,a=o(e,null,n,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))}):function(e,n,r){return t[0]=e,o(t,null,r,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(we,xe),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var i;do if(i=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){
for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=l(w);return u.prototype=_.filters=_.pseudos,_.setFilters=new u,S=t.tokenize=function(e,i){var n,o,r,a,s,l,c,d=q[e+" "];if(d)return i?0:d.slice(0);for(s=e,l=[],c=_.preFilter;s;){n&&!(o=le.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=ce.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(se," ")}),s=s.slice(n.length));for(a in _.filter)!(o=he[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return i?s.length:s?t.error(e):q(e,l).slice(0)},T=t.compile=function(e,t){var i,n=[],o=[],r=U[e+" "];if(!r){for(t||(t=S(e)),i=t.length;i--;)r=v(t[i]),r[j]?n.push(r):o.push(r);r=U(e,b(o,n)),r.selector=e}return r},D=t.select=function(e,t,i,n){var o,r,a,s,l,c="function"==typeof e&&e,u=!n&&S(e=c.selector||e);if(i=i||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&x.getById&&9===t.nodeType&&P&&_.relative[r[1].type]){if(t=(_.find.ID(a.matches[0].replace(we,xe),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=he.needsContext.test(e)?0:r.length;o--&&(a=r[o],!_.relative[s=a.type]);)if((l=_.find[s])&&(n=l(a.matches[0].replace(we,xe),ve.test(r[0].type)&&d(t.parentNode)||t))){if(r.splice(o,1),e=n.length&&p(r),!e)return Z.apply(i,n),i;break}}return(c||T(e,u))(n,t,!P,i,!t||ve.test(e)&&d(t.parentNode)||t),i},x.sortStable=j.split("").sort(W).join("")===j,x.detectDuplicates=!!A,O(),x.sortDetached=o(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);re.find=de,re.expr=de.selectors,re.expr[":"]=re.expr.pseudos,re.uniqueSort=re.unique=de.uniqueSort,re.text=de.getText,re.isXMLDoc=de.isXML,re.contains=de.contains;var ue=function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&re(e).is(i))break;n.push(e)}return n},pe=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},he=re.expr.match.needsContext,fe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;re.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?re.find.matchesSelector(n,e)?[n]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},re.fn.extend({find:function(e){var t,i=this.length,n=[],o=this;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;i>t;t++)if(re.contains(o[t],this))return!0}));for(t=0;i>t;t++)re.find(e,o[t],n);return n=this.pushStack(i>1?re.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&he.test(e)?re(e):e||[],!1).length}});var ge,ye=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ve=re.fn.init=function(e,t,i){var n,o;if(!e)return this;if(i=i||ge,"string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ye.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),fe.test(n[1])&&re.isPlainObject(t))for(n in t)re.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return o=X.getElementById(n[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?void 0!==i.ready?i.ready(e):e(re):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this))};ve.prototype=re.fn,ge=re(X);var be=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};re.fn.extend({has:function(e){var t=re(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(re.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,r=[],a=he.test(e)||"string"!=typeof e?re(e,t||this.context):0;o>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&re.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?re.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?J.call(re(e),this[0]):J.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.uniqueSort(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ue(e,"parentNode")},parentsUntil:function(e,t,i){return ue(e,"parentNode",i)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return ue(e,"nextSibling")},prevAll:function(e){return ue(e,"previousSibling")},nextUntil:function(e,t,i){return ue(e,"nextSibling",i)},prevUntil:function(e,t,i){return ue(e,"previousSibling",i)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||re.merge([],e.childNodes)}},function(e,t){re.fn[e]=function(i,n){var o=re.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=re.filter(n,o)),this.length>1&&(we[e]||re.uniqueSort(o),be.test(e)&&o.reverse()),this.pushStack(o)}});var xe=/\S+/g;re.Callbacks=function(e){e="string"==typeof e?r(e):re.extend({},e);var t,i,n,o,a=[],s=[],l=-1,c=function(){for(o=e.once,n=t=!0;s.length;l=-1)for(i=s.shift();++l<a.length;)a[l].apply(i[0],i[1])===!1&&e.stopOnFalse&&(l=a.length,i=!1);e.memory||(i=!1),t=!1,o&&(a=i?[]:"")},d={add:function(){return a&&(i&&!t&&(l=a.length-1,s.push(i)),function t(i){re.each(i,function(i,n){re.isFunction(n)?e.unique&&d.has(n)||a.push(n):n&&n.length&&"string"!==re.type(n)&&t(n)})}(arguments),i&&!t&&c()),this},remove:function(){return re.each(arguments,function(e,t){for(var i;(i=re.inArray(t,a,i))>-1;)a.splice(i,1),l>=i&&l--}),this},has:function(e){return e?re.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=i="",this},disabled:function(){return!a},lock:function(){return o=s=[],i||(a=i=""),this},locked:function(){return!!o},fireWith:function(e,i){return o||(i=i||[],i=[e,i.slice?i.slice():i],s.push(i),t||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},re.extend({Deferred:function(e){var t=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return re.Deferred(function(i){re.each(t,function(t,r){var a=re.isFunction(e[t])&&e[t];o[r[1]](function(){var e=a&&a.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?re.extend(e,n):n}},o={};return n.pipe=n.then,re.each(t,function(e,r){var a=r[2],s=r[3];n[r[1]]=a.add,s&&a.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=a.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,n,o=0,r=Q.call(arguments),a=r.length,s=1!==a||e&&re.isFunction(e.promise)?a:0,l=1===s?e:re.Deferred(),c=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?Q.call(arguments):o,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);a>o;o++)r[o]&&re.isFunction(r[o].promise)?r[o].promise().progress(c(o,i,t)).done(c(o,n,r)).fail(l.reject):--s;return s||l.resolveWith(n,r),l.promise()}});var _e;re.fn.ready=function(e){return re.ready.promise().done(e),this},re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){(e===!0?--re.readyWait:re.isReady)||(re.isReady=!0,e!==!0&&--re.readyWait>0||(_e.resolveWith(X,[re]),re.fn.triggerHandler&&(re(X).triggerHandler("ready"),re(X).off("ready"))))}}),re.ready.promise=function(t){return _e||(_e=re.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?e.setTimeout(re.ready):(X.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a))),_e.promise(t)},re.ready.promise();var ke=function(e,t,i,n,o,r,a){var s=0,l=e.length,c=null==i;if("object"===re.type(i)){o=!0;for(s in i)ke(e,t,s,i[s],!0,r,a)}else if(void 0!==n&&(o=!0,re.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(re(e),i)})),t))for(;l>s;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return o?e:c?t.call(e):l?t(e[0],i):r},Ce=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={register:function(e,t){var i=t||{};return e.nodeType?e[this.expando]=i:Object.defineProperty(e,this.expando,{value:i,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ce(e))return{};var t=e[this.expando];return t||(t={},Ce(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,o=this.cache(e);if("string"==typeof t)o[t]=i;else for(n in t)o[n]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?(n=this.get(e,t),void 0!==n?n:this.get(e,re.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,o,r=e[this.expando];if(void 0!==r){if(void 0===t)this.register(e);else{re.isArray(t)?n=t.concat(t.map(re.camelCase)):(o=re.camelCase(t),t in r?n=[t,o]:(n=o,n=n in r?[n]:n.match(xe)||[])),i=n.length;for(;i--;)delete r[n[i]]}(void 0===t||re.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!re.isEmptyObject(t)}};var Se=new s,Te=new s,De=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/[A-Z]/g;re.extend({hasData:function(e){return Te.hasData(e)||Se.hasData(e)},data:function(e,t,i){return Te.access(e,t,i)},removeData:function(e,t){Te.remove(e,t)},_data:function(e,t,i){return Se.access(e,t,i)},_removeData:function(e,t){Se.remove(e,t)}}),re.fn.extend({data:function(e,t){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=Te.get(r),1===r.nodeType&&!Se.get(r,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=re.camelCase(n.slice(5)),l(r,n,o[n])));Se.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Te.set(this,e)}):ke(this,function(t){var i,n;if(r&&void 0===t){if(i=Te.get(r,e)||Te.get(r,e.replace(Ee,"-$&").toLowerCase()),void 0!==i)return i;if(n=re.camelCase(e),i=Te.get(r,n),void 0!==i)return i;if(i=l(r,n,void 0),void 0!==i)return i}else n=re.camelCase(e),this.each(function(){var i=Te.get(this,n);Te.set(this,n,t),e.indexOf("-")>-1&&void 0!==i&&Te.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Te.remove(this,e)})}}),re.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=Se.get(e,t),i&&(!n||re.isArray(i)?n=Se.access(e,t,re.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=re.queue(e,t),n=i.length,o=i.shift(),r=re._queueHooks(e,t),a=function(){re.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Se.get(e,i)||Se.access(e,i,{empty:re.Callbacks("once memory").add(function(){Se.remove(e,[t+"queue",i])})})}}),re.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?re.queue(this[0],e):void 0===t?this:this.each(function(){var i=re.queue(this,e,t);re._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=re.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)i=Se.get(r[a],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(t)}});var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),Oe=["Top","Right","Bottom","Left"],Ie=function(e,t){return e=t||e,"none"===re.css(e,"display")||!re.contains(e.ownerDocument,e)},Me=/^(?:checkbox|radio)$/i,Pe=/<([\w:-]+)/,Ne=/^$|\/(?:java|ecma)script/i,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td;var Fe=/<|&#?\w+;/;!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement("div")),i=X.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var $e=/^key/,je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,He=/^([^.]*)(?:\.(.+)|)/;re.event={global:{},add:function(e,t,i,n,o){var r,a,s,l,c,d,u,p,h,f,m,g=Se.get(e);if(g)for(i.handler&&(r=i,i=r.handler,o=r.selector),i.guid||(i.guid=re.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return"undefined"!=typeof re&&re.event.triggered!==t.type?re.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(xe)||[""],c=t.length;c--;)s=He.exec(t[c])||[],h=m=s[1],f=(s[2]||"").split(".").sort(),h&&(u=re.event.special[h]||{},h=(o?u.delegateType:u.bindType)||h,u=re.event.special[h]||{},d=re.extend({type:h,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&re.expr.match.needsContext.test(o),namespace:f.join(".")},r),(p=l[h])||(p=l[h]=[],p.delegateCount=0,u.setup&&u.setup.call(e,n,f,a)!==!1||e.addEventListener&&e.addEventListener(h,a)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),re.event.global[h]=!0)},remove:function(e,t,i,n,o){var r,a,s,l,c,d,u,p,h,f,m,g=Se.hasData(e)&&Se.get(e);if(g&&(l=g.events)){for(t=(t||"").match(xe)||[""],c=t.length;c--;)if(s=He.exec(t[c])||[],h=m=s[1],f=(s[2]||"").split(".").sort(),h){for(u=re.event.special[h]||{},h=(n?u.delegateType:u.bindType)||h,p=l[h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=p.length;r--;)d=p[r],!o&&m!==d.origType||i&&i.guid!==d.guid||s&&!s.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(p.splice(r,1),d.selector&&p.delegateCount--,u.remove&&u.remove.call(e,d));a&&!p.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||re.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)re.event.remove(e,h+t[c],i,n,!0);re.isEmptyObject(l)&&Se.remove(e,"handle events")}},dispatch:function(e){e=re.event.fix(e);var t,i,n,o,r,a=[],s=Q.call(arguments),l=(Se.get(this,"events")||{})[e.type]||[],c=re.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=re.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(r.namespace)||(e.handleObj=r,e.data=r.data,n=((re.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(n=[],i=0;s>i;i++)r=t[i],o=r.selector+" ",void 0===n[o]&&(n[o]=r.needsContext?re(o,this).index(l)>-1:re.find(o,this,null,[l]).length),n[o]&&n.push(r);n.length&&a.push({elem:l,handlers:n})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,r=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||X,n=i.documentElement,o=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[re.expando])return e;var t,i,n,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=je.test(o)?this.mouseHooks:$e.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new re.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&re.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},re.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},re.Event=function(e,t){return this instanceof re.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:f):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),void(this[re.expando]=!0)):new re.Event(e,t)},re.Event.prototype={constructor:re.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){re.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===n||re.contains(n,o))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),re.fn.extend({on:function(e,t,i,n){return g(this,e,t,i,n)},one:function(e,t,i,n){return g(this,e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,re(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=f),this.each(function(){re.event.remove(this,e,i,t)})}});var Be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ye=/<script|<style|<link/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^true\/(.*)/,Ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;re.extend({htmlPrefilter:function(e){return e.replace(Be,"<$1></$2>")},clone:function(e,t,i){var n,o,r,a,s=e.cloneNode(!0),l=re.contains(e.ownerDocument,e);if(!(ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(a=d(s),r=d(e),n=0,o=r.length;o>n;n++)x(r[n],a[n]);if(t)if(i)for(r=r||d(e),a=a||d(s),n=0,o=r.length;o>n;n++)w(r[n],a[n]);else w(e,s);return a=d(s,"script"),a.length>0&&u(a,!l&&d(e,"script")),s},cleanData:function(e){for(var t,i,n,o=re.event.special,r=0;void 0!==(i=e[r]);r++)if(Ce(i)){if(t=i[Se.expando]){if(t.events)for(n in t.events)o[n]?re.event.remove(i,n):re.removeEvent(i,n,t.handle);i[Se.expando]=void 0}i[Te.expando]&&(i[Te.expando]=void 0)}}}),re.fn.extend({domManip:_,detach:function(e){return k(this,e,!0)},remove:function(e){return k(this,e)},text:function(e){return ke(this,function(e){return void 0===e?re.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(re.cleanData(d(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return ke(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ye.test(e)&&!Le[(Pe.exec(e)||["",""])[1].toLowerCase()]){e=re.htmlPrefilter(e);try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(re.cleanData(d(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return _(this,arguments,function(t){var i=this.parentNode;re.inArray(this,e)<0&&(re.cleanData(d(this)),i&&i.replaceChild(t,this))},e)}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){re.fn[e]=function(e){for(var i,n=[],o=re(e),r=o.length-1,a=0;r>=a;a++)i=a===r?this:this.clone(!0),re(o[a])[t](i),Z.apply(n,i.get());return this.pushStack(n)}});var We,Ve={HTML:"block",BODY:"block"},Ge=/^margin/,Xe=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),Qe=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},Ke=function(e,t,i,n){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];o=i.apply(e,n||[]);for(r in t)e.style[r]=a[r];return o},Ze=X.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ze.appendChild(a);var t=e.getComputedStyle(s);i="1%"!==t.top,r="2px"===t.marginLeft,n="4px"===t.width,s.style.marginRight="50%",o="4px"===t.marginRight,Ze.removeChild(a)}var i,n,o,r,a=X.createElement("div"),s=X.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),re.extend(ne,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==n&&t(),n},pixelMarginRight:function(){return null==n&&t(),o},reliableMarginLeft:function(){return null==n&&t(),r},reliableMarginRight:function(){var t,i=s.appendChild(X.createElement("div"));return i.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",s.style.width="1px",Ze.appendChild(a),t=!parseFloat(e.getComputedStyle(i).marginRight),Ze.removeChild(a),s.removeChild(i),t}}))}();var Je=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},it=["Webkit","O","Moz","ms"],nt=X.createElement("div").style;re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=T(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=re.camelCase(t),l=e.style;return t=re.cssProps[s]||(re.cssProps[s]=E(s)||s),a=re.cssHooks[t]||re.cssHooks[s],void 0===i?a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:l[t]:(r=typeof i,"string"===r&&(o=Ae.exec(i))&&o[1]&&(i=c(e,t,o),r="number"),void(null!=i&&i===i&&("number"===r&&(i+=o&&o[3]||(re.cssNumber[s]?"":"px")),ne.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l[t]=i))))}},css:function(e,t,i,n){var o,r,a,s=re.camelCase(t);return t=re.cssProps[s]||(re.cssProps[s]=E(s)||s),a=re.cssHooks[t]||re.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,i)),void 0===o&&(o=T(e,t,n)),"normal"===o&&t in tt&&(o=tt[t]),""===i||i?(r=parseFloat(o),i===!0||isFinite(r)?r||0:o):o}}),re.each(["height","width"],function(e,t){re.cssHooks[t]={get:function(e,i,n){return i?Je.test(re.css(e,"display"))&&0===e.offsetWidth?Ke(e,et,function(){return O(e,t,n)}):O(e,t,n):void 0},set:function(e,i,n){var o,r=n&&Qe(e),a=n&&A(e,t,n,"border-box"===re.css(e,"boxSizing",!1,r),r);return a&&(o=Ae.exec(i))&&"px"!==(o[3]||"px")&&(e.style[t]=i,i=re.css(e,t)),R(e,i,a)}}}),re.cssHooks.marginLeft=D(ne.reliableMarginLeft,function(e,t){return t?(parseFloat(T(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),re.cssHooks.marginRight=D(ne.reliableMarginRight,function(e,t){return t?Ke(e,{display:"inline-block"},T,[e,"marginRight"]):void 0}),re.each({margin:"",padding:"",border:"Width"},function(e,t){re.cssHooks[e+t]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[e+Oe[n]+t]=r[n]||r[n-2]||r[0];return o}},Ge.test(e)||(re.cssHooks[e+t].set=R)}),re.fn.extend({css:function(e,t){return ke(this,function(e,t,i){var n,o,r={},a=0;if(re.isArray(t)){for(n=Qe(e),o=t.length;o>a;a++)r[t[a]]=re.css(e,t[a],!1,n);return r}return void 0!==i?re.style(e,t,i):re.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ie(this)?re(this).show():re(this).hide()})}}),re.Tween=M,M.prototype={constructor:M,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||re.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(re.cssNumber[i]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,i=M.propHooks[this.prop];return this.options.duration?this.pos=t=re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=re.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[re.cssProps[e.prop]]&&!re.cssHooks[e.prop]?e.elem[e.prop]=e.now:re.style(e.elem,e.prop,e.now+e.unit)}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},re.fx=M.prototype.init,re.fx.step={};var ot,rt,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;re.Animation=re.extend(j,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return c(i.elem,e,Ae.exec(t),i),i}]},tweener:function(e,t){re.isFunction(e)?(t=e,e=["*"]):e=e.match(xe);for(var i,n=0,o=e.length;o>n;n++)i=e[n],j.tweeners[i]=j.tweeners[i]||[],j.tweeners[i].unshift(t)},prefilters:[F],prefilter:function(e,t){t?j.prefilters.unshift(e):j.prefilters.push(e)}}),re.speed=function(e,t,i){var n=e&&"object"==typeof e?re.extend({},e):{complete:i||!i&&t||re.isFunction(e)&&e,duration:e,easing:i&&t||t&&!re.isFunction(t)&&t};return n.duration=re.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in re.fx.speeds?re.fx.speeds[n.duration]:re.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){re.isFunction(n.old)&&n.old.call(this),n.queue&&re.dequeue(this,n.queue)},n},re.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ie).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=re.isEmptyObject(e),r=re.speed(t,i,n),a=function(){var t=j(this,re.extend({},e),r);(o||Se.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=re.timers,a=Se.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&st.test(o)&&n(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(i),t=!1,r.splice(o,1));!t&&i||re.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=Se.get(this),n=i[e+"queue"],o=i[e+"queueHooks"],r=re.timers,a=n?n.length:0;for(i.finish=!0,re.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),re.each(["toggle","show","hide"],function(e,t){var i=re.fn[t];re.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(N(t,!0),e,n,o)}}),re.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){re.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),re.timers=[],re.fx.tick=function(){var e,t=0,i=re.timers;for(ot=re.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);
i.length||re.fx.stop(),ot=void 0},re.fx.timer=function(e){re.timers.push(e),e()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){rt||(rt=e.setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){e.clearInterval(rt),rt=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(t,i){return t=re.fx?re.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var o=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(o)}})},function(){var e=X.createElement("input"),t=X.createElement("select"),i=t.appendChild(X.createElement("option"));e.type="checkbox",ne.checkOn=""!==e.value,ne.optSelected=i.selected,t.disabled=!0,ne.optDisabled=!i.disabled,e=X.createElement("input"),e.value="t",e.type="radio",ne.radioValue="t"===e.value}();var lt,ct=re.expr.attrHandle;re.fn.extend({attr:function(e,t){return ke(this,re.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof e.getAttribute?re.prop(e,t,i):(1===r&&re.isXMLDoc(e)||(t=t.toLowerCase(),o=re.attrHooks[t]||(re.expr.match.bool.test(t)?lt:void 0)),void 0!==i?null===i?void re.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):o&&"get"in o&&null!==(n=o.get(e,t))?n:(n=re.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&re.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,o=0,r=t&&t.match(xe);if(r&&1===e.nodeType)for(;i=r[o++];)n=re.propFix[i]||i,re.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)}}),lt={set:function(e,t,i){return t===!1?re.removeAttr(e,i):e.setAttribute(i,i),i}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ct[t]||re.find.attr;ct[t]=function(e,t,n){var o,r;return n||(r=ct[t],ct[t]=o,o=null!=i(e,t,n)?t.toLowerCase():null,ct[t]=r),o}});var dt=/^(?:input|select|textarea|button)$/i,ut=/^(?:a|area)$/i;re.fn.extend({prop:function(e,t){return ke(this,re.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[re.propFix[e]||e]})}}),re.extend({prop:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&re.isXMLDoc(e)||(t=re.propFix[t]||t,o=re.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=re.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||ut.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ne.optSelected||(re.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;re.fn.extend({addClass:function(e){var t,i,n,o,r,a,s,l=0;if(re.isFunction(e))return this.each(function(t){re(this).addClass(e.call(this,t,H(this)))});if("string"==typeof e&&e)for(t=e.match(xe)||[];i=this[l++];)if(o=H(i),n=1===i.nodeType&&(" "+o+" ").replace(pt," ")){for(a=0;r=t[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=re.trim(n),o!==s&&i.setAttribute("class",s)}return this},removeClass:function(e){var t,i,n,o,r,a,s,l=0;if(re.isFunction(e))return this.each(function(t){re(this).removeClass(e.call(this,t,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(xe)||[];i=this[l++];)if(o=H(i),n=1===i.nodeType&&(" "+o+" ").replace(pt," ")){for(a=0;r=t[a++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s=re.trim(n),o!==s&&i.setAttribute("class",s)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):re.isFunction(e)?this.each(function(i){re(this).toggleClass(e.call(this,i,H(this),t),t)}):this.each(function(){var t,n,o,r;if("string"===i)for(n=0,o=re(this),r=e.match(xe)||[];t=r[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==i||(t=H(this),t&&Se.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Se.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+H(i)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var ht=/\r/g,ft=/[\x20\t\r\n\f]+/g;re.fn.extend({val:function(e){var t,i,n,o=this[0];return arguments.length?(n=re.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=n?e.call(this,i,re(this).val()):e,null==o?o="":"number"==typeof o?o+="":re.isArray(o)&&(o=re.map(o,function(e){return null==e?"":e+""})),t=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=re.valHooks[o.type]||re.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(ht,""):null==i?"":i)):void 0}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,"value");return null!=t?t:re.trim(re.text(e)).replace(ft," ")}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,a=r?null:[],s=r?o+1:n.length,l=0>o?s:r?o:0;s>l;l++)if(i=n[l],(i.selected||l===o)&&(ne.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!re.nodeName(i.parentNode,"optgroup"))){if(t=re(i).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,r=re.makeArray(t),a=o.length;a--;)n=o[a],(n.selected=re.inArray(re.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(e.selectedIndex=-1),r}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){return re.isArray(t)?e.checked=re.inArray(re(e).val(),t)>-1:void 0}},ne.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;re.extend(re.event,{trigger:function(t,i,n,o){var r,a,s,l,c,d,u,p=[n||X],h=ie.call(t,"type")?t.type:t,f=ie.call(t,"namespace")?t.namespace.split("."):[];if(a=s=n=n||X,3!==n.nodeType&&8!==n.nodeType&&!mt.test(h+re.event.triggered)&&(h.indexOf(".")>-1&&(f=h.split("."),h=f.shift(),f.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[re.expando]?t:new re.Event(h,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:re.makeArray(i,[t]),u=re.event.special[h]||{},o||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!o&&!u.noBubble&&!re.isWindow(n)){for(l=u.delegateType||h,mt.test(l+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(n.ownerDocument||X)&&p.push(s.defaultView||s.parentWindow||e)}for(r=0;(a=p[r++])&&!t.isPropagationStopped();)t.type=r>1?l:u.bindType||h,d=(Se.get(a,"events")||{})[t.type]&&Se.get(a,"handle"),d&&d.apply(a,i),d=c&&a[c],d&&d.apply&&Ce(a)&&(t.result=d.apply(a,i),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||u._default&&u._default.apply(p.pop(),i)!==!1||!Ce(n)||c&&re.isFunction(n[h])&&!re.isWindow(n)&&(s=n[c],s&&(n[c]=null),re.event.triggered=h,n[h](),re.event.triggered=void 0,s&&(n[c]=s)),t.result}},simulate:function(e,t,i){var n=re.extend(new re.Event,i,{type:e,isSimulated:!0});re.event.trigger(n,null,t)}}),re.fn.extend({trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?re.event.trigger(e,t,i,!0):void 0}}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){re.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ne.focusin="onfocusin"in e,ne.focusin||re.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){re.event.simulate(t,e.target,re.event.fix(e))};re.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=Se.access(n,t);o||n.addEventListener(e,i,!0),Se.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=Se.access(n,t)-1;o?Se.access(n,t,o):(n.removeEventListener(e,i,!0),Se.remove(n,t))}}});var gt=e.location,yt=re.now(),vt=/\?/;re.parseJSON=function(e){return JSON.parse(e+"")},re.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+t),i};var bt=/#.*$/,wt=/([?&])_=[^&]*/,xt=/^(.*?):[ \t]*([^\r\n]*)$/gm,_t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kt=/^(?:GET|HEAD)$/,Ct=/^\/\//,St={},Tt={},Dt="*/".concat("*"),Et=X.createElement("a");Et.href=gt.href,re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:_t.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,re.ajaxSettings),t):z(re.ajaxSettings,e)},ajaxPrefilter:B(St),ajaxTransport:B(Tt),ajax:function(t,i){function n(t,i,n,s){var c,u,v,b,x,k=i;2!==w&&(w=2,l&&e.clearTimeout(l),o=void 0,a=s||"",_.readyState=t>0?4:0,c=t>=200&&300>t||304===t,n&&(b=q(p,_,n)),b=U(p,b,_,c),c?(p.ifModified&&(x=_.getResponseHeader("Last-Modified"),x&&(re.lastModified[r]=x),x=_.getResponseHeader("etag"),x&&(re.etag[r]=x)),204===t||"HEAD"===p.type?k="nocontent":304===t?k="notmodified":(k=b.state,u=b.data,v=b.error,c=!v)):(v=k,!t&&k||(k="error",0>t&&(t=0))),_.status=t,_.statusText=(i||k)+"",c?m.resolveWith(h,[u,k,_]):m.rejectWith(h,[_,k,v]),_.statusCode(y),y=void 0,d&&f.trigger(c?"ajaxSuccess":"ajaxError",[_,p,c?u:v]),g.fireWith(h,[_,k]),d&&(f.trigger("ajaxComplete",[_,p]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var o,r,a,s,l,c,d,u,p=re.ajaxSetup({},i),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?re(h):re.event,m=re.Deferred(),g=re.Callbacks("once memory"),y=p.statusCode||{},v={},b={},w=0,x="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=xt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=b[i]=b[i]||e,v[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)y[t]=[y[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||x;return o&&o.abort(t),n(0,t),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,p.url=((t||p.url||gt.href)+"").replace(bt,"").replace(Ct,gt.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=re.trim(p.dataType||"*").toLowerCase().match(xe)||[""],null==p.crossDomain){c=X.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Et.protocol+"//"+Et.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=re.param(p.data,p.traditional)),Y(St,p,i,_),2===w)return _;d=re.event&&p.global,d&&0===re.active++&&re.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!kt.test(p.type),r=p.url,p.hasContent||(p.data&&(r=p.url+=(vt.test(r)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wt.test(r)?r.replace(wt,"$1_="+yt++):r+(vt.test(r)?"&":"?")+"_="+yt++)),p.ifModified&&(re.lastModified[r]&&_.setRequestHeader("If-Modified-Since",re.lastModified[r]),re.etag[r]&&_.setRequestHeader("If-None-Match",re.etag[r])),(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dt+"; q=0.01":""):p.accepts["*"]);for(u in p.headers)_.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(p.beforeSend.call(h,_,p)===!1||2===w))return _.abort();x="abort";for(u in{success:1,error:1,complete:1})_[u](p[u]);if(o=Y(Tt,p,i,_)){if(_.readyState=1,d&&f.trigger("ajaxSend",[_,p]),2===w)return _;p.async&&p.timeout>0&&(l=e.setTimeout(function(){_.abort("timeout")},p.timeout));try{w=1,o.send(v,n)}catch(e){if(!(2>w))throw e;n(-1,e)}}else n(-1,"No Transport");return _},getJSON:function(e,t,i){return re.get(e,t,i,"json")},getScript:function(e,t){return re.get(e,void 0,t,"script")}}),re.each(["get","post"],function(e,t){re[t]=function(e,i,n,o){return re.isFunction(i)&&(o=o||n,n=i,i=void 0),re.ajax(re.extend({url:e,type:t,dataType:o,data:i,success:n},re.isPlainObject(e)&&e))}}),re._evalUrl=function(e){return re.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},re.fn.extend({wrapAll:function(e){var t;return re.isFunction(e)?this.each(function(t){re(this).wrapAll(e.call(this,t))}):(this[0]&&(t=re(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return re.isFunction(e)?this.each(function(t){re(this).wrapInner(e.call(this,t))}):this.each(function(){var t=re(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=re.isFunction(e);return this.each(function(i){re(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(e){return!re.expr.filters.visible(e)},re.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Rt=/%20/g,At=/\[\]$/,Ot=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;re.param=function(e,t){var i,n=[],o=function(e,t){t=re.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){o(this.name,this.value)});else for(i in e)W(i,e[i],t,o);return n.join("&").replace(Rt,"+")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&Mt.test(this.nodeName)&&!It.test(e)&&(this.checked||!Me.test(e))}).map(function(e,t){var i=re(this).val();return null==i?null:re.isArray(i)?re.map(i,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:i.replace(Ot,"\r\n")}}).get()}}),re.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Pt={0:200,1223:204},Nt=re.ajaxSettings.xhr();ne.cors=!!Nt&&"withCredentials"in Nt,ne.ajax=Nt=!!Nt,re.ajaxTransport(function(t){var i,n;return ne.cors||Nt&&!t.crossDomain?{send:function(o,r){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);i=function(e){return function(){i&&(i=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Pt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=i(),n=s.onerror=i("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}:void 0}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),re.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,o){t=re("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&o("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Lt=[],Ft=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Lt.pop()||re.expando+"_"+yt++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(t,i,n){var o,r,a,s=t.jsonp!==!1&&(Ft.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ft.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=re.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ft,"$1"+o):t.jsonp!==!1&&(t.url+=(vt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||re.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},n.always(function(){void 0===r?re(e).removeProp(o):e[o]=r,t[o]&&(t.jsonpCallback=i.jsonpCallback,Lt.push(o)),a&&re.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),re.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||X;var n=fe.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=p([e],t,o),o&&o.length&&re(o).remove(),re.merge([],n.childNodes))};var $t=re.fn.load;re.fn.load=function(e,t,i){if("string"!=typeof e&&$t)return $t.apply(this,arguments);var n,o,r,a=this,s=e.indexOf(" ");return s>-1&&(n=re.trim(e.slice(s)),e=e.slice(0,s)),re.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&re.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(n?re("<div>").append(re.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.filters.animated=function(e){return re.grep(re.timers,function(t){return e===t.elem}).length},re.offset={setOffset:function(e,t,i){var n,o,r,a,s,l,c,d=re.css(e,"position"),u=re(e),p={};"static"===d&&(e.style.position="relative"),s=u.offset(),r=re.css(e,"top"),l=re.css(e,"left"),c=("absolute"===d||"fixed"===d)&&(r+l).indexOf("auto")>-1,c?(n=u.position(),a=n.top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),re.isFunction(t)&&(t=t.call(e,i,re.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+o),"using"in t?t.using.call(e,p):u.css(p)}},re.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){re.offset.setOffset(this,e,t)});var t,i,n=this[0],o={top:0,left:0},r=n&&n.ownerDocument;return r?(t=r.documentElement,re.contains(t,n)?(o=n.getBoundingClientRect(),i=V(r),{top:o.top+i.pageYOffset-t.clientTop,left:o.left+i.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===re.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),re.nodeName(e[0],"html")||(n=e.offset()),n.top+=re.css(e[0],"borderTopWidth",!0),n.left+=re.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-re.css(i,"marginTop",!0),left:t.left-n.left-re.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===re.css(e,"position");)e=e.offsetParent;return e||Ze})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;re.fn[e]=function(n){return ke(this,function(e,n,o){var r=V(e);return void 0===o?r?r[t]:e[n]:void(r?r.scrollTo(i?r.pageXOffset:o,i?o:r.pageYOffset):e[n]=o)},e,n,arguments.length)}}),re.each(["top","left"],function(e,t){re.cssHooks[t]=D(ne.pixelPosition,function(e,i){return i?(i=T(e,t),Xe.test(i)?re(e).position()[t]+"px":i):void 0})}),re.each({Height:"height",Width:"width"},function(e,t){re.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){re.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||o===!0?"margin":"border");return ke(this,function(t,i,n){var o;return re.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?re.css(t,i,a):re.style(t,i,n,a)},t,r?n:void 0,r,null)}})}),re.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},size:function(){return this.length}}),re.fn.andSelf=re.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return re});var jt=e.jQuery,Ht=e.$;return re.noConflict=function(t){return e.$===re&&(e.$=Ht),t&&e.jQuery===re&&(e.jQuery=jt),re},t||(e.jQuery=e.$=re),re}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof t&&o[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){a.detach().trigger("closed.bs.alert").remove()}var o=e(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=e("#"===r?[]:r);t&&t.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.button"),r="object"==typeof t&&t;o||n.data("bs.button",o=new i(this,r)),"toggle"==t?o.toggle():t&&o.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(e.proxy(function(){n[o](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target).closest(".btn");t.call(n,"toggle"),e(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.carousel"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),a="string"==typeof t?t:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof t?o.to(t):a?o[a]():r.interval&&o.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t),n="prev"==e&&0===i||"next"==e&&i==this.$items.length-1;if(n&&!this.options.wrap)return t;var o="prev"==e?-1:1,r=(i+o)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(t,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(t,o),a=this.interval,s="next"==t?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([t,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var o=function(i){var n,o=e(this),r=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=e.extend({},r.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),t.call(r,a),s&&r.data("bs.carousel").to(s),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),+function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),o=i.data("bs.collapse"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!o&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),t||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");
if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var o=e(n);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=e(this);o.attr("data-target")||n.preventDefault();var r=t(o),a=r.data("bs.collapse"),s=a?"toggle":o.data();i.call(r,s)})}(jQuery),+function(e){"use strict";function t(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function i(i){i&&3===i.which||(e(o).remove(),e(r).each(function(){var n=e(this),o=t(n),r={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(o[0],i.target)||(o.trigger(i=e.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(e.Event("hidden.bs.dropdown",r)))))}))}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof t&&n[t].call(i)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var r=t(o),a=r.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",i);var s={relatedTarget:this};if(r.trigger(n=e.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=e(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var o=t(n),a=o.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&o.find(r).trigger("focus"),n.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var c=l.index(i.target);38==i.which&&c>0&&c--,40==i.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,n){return this.each(function(){var o=e(this),r=o.data("bs.modal"),a=e.extend({},i.DEFAULTS,o.data(),"object"==typeof t&&t);r||o.data("bs.modal",r=new i(this,a)),"string"==typeof t?r[t](n):a.show&&r.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&o;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),o=n.attr("href"),r=e(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(r,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tooltip"),r="object"==typeof t&&t;!o&&/destroy|hide/.test(t)||(o||n.data("bs.tooltip",o=new i(this,r)),"string"==typeof t&&o[t]())})}var i=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=r[0].offsetWidth,p=r[0].offsetHeight;if(c){var h=s,f=this.getPosition(this.$viewport);s="bottom"==s&&d.bottom+p>f.bottom?"top":"top"==s&&d.top-p<f.top?"bottom":"right"==s&&d.right+u>f.width?"left":"left"==s&&d.left-u<f.left?"right":s,r.removeClass(h).addClass(s)}var m=this.getCalculatedOffset(s,d,u,p);this.applyPlacement(m,s);var g=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=r&&(t.top=t.top+r-c);var d=this.getViewportAdjustedDelta(i,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(i),p=u?2*d.left-o+l:2*d.top-r+c,h=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(p,n[0][h],u)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=o.hoverState&&r.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),t&&t()}var o=this,r=e(this.$tip),a=e.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=window.SVGElement&&i instanceof window.SVGElement,a=n?{top:0,left:0}:r?null:t.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,s,l,a)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-r-a.scroll,l=t.top+r-a.scroll+n;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=t.left-r,d=t.left+r+i;c<a.left?o.left=a.left-c:d>a.right&&(o.left=a.left+a.width-d)}return o},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.popover"),r="object"==typeof t&&t;!o&&/destroy|hide/.test(t)||(o||n.data("bs.popover",o=new i(this,r)),"string"==typeof t&&o[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new t(this,r)),"string"==typeof i&&o[i]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),o=t.data("target")||t.attr("href"),r=/^#./.test(o)&&e(o);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return a!=(e=r[r.length-1])&&this.activate(e);if(a&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)a!=r[e]&&t>=o[e]&&(void 0===o[e+1]||t<o[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof t&&o[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),t.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=e(n);this.activate(t.closest("li"),i),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(t,n,o){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=n.find("> .active"),s=o&&e.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),a.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var o=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.affix"),r="object"==typeof t&&t;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return o<i&&"top";if("bottom"==this.affixed)return null!=i?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=e-n)&&"bottom";var s=null==this.affixed,l=s?o:r.top,c=s?a:t;return null!=i&&o<=i?"top":null!=n&&l+c>=e-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var s=this.getState(a,t,o,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-r})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),define("bootstrap",["jquery"],function(){}),require.config({urlArgs:"v="+requirejs.s.contexts._.config.config.site.version,packages:[{name:"moment",location:"../libs/moment",main:"moment"}],include:["css","layer","toastr","fast","backend","backend-init","table","form","dragsort","drag","drop","addtabs","selectpage"],paths:{lang:"empty:",form:"require-form",table:"require-table",upload:"require-upload",validator:"require-validator",drag:"jquery.drag.min",drop:"jquery.drop.min",echarts:"echarts.min","echarts-theme":"echarts-theme",adminlte:"adminlte","bootstrap-table-commonsearch":"bootstrap-table-commonsearch","bootstrap-table-template":"bootstrap-table-template",jquery:"../libs/jquery/dist/jquery.min",bootstrap:"../libs/bootstrap/dist/js/bootstrap.min","bootstrap-datetimepicker":"../libs/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min","bootstrap-daterangepicker":"../libs/bootstrap-daterangepicker/daterangepicker","bootstrap-select":"../libs/bootstrap-select/dist/js/bootstrap-select.min","bootstrap-select-lang":"../libs/bootstrap-select/dist/js/i18n/defaults-zh_CN","bootstrap-table":"../libs/bootstrap-table/dist/bootstrap-table.min","bootstrap-table-export":"../libs/bootstrap-table/dist/extensions/export/bootstrap-table-export.min","bootstrap-table-mobile":"../libs/bootstrap-table/dist/extensions/mobile/bootstrap-table-mobile","bootstrap-table-lang":"../libs/bootstrap-table/dist/locale/bootstrap-table-zh-CN",tableexport:"../libs/tableExport.jquery.plugin/tableExport.min",dragsort:"../libs/fastadmin-dragsort/jquery.dragsort",sortable:"../libs/Sortable/Sortable.min",addtabs:"../libs/fastadmin-addtabs/jquery.addtabs",slimscroll:"../libs/jquery-slimscroll/jquery.slimscroll","validator-core":"../libs/nice-validator/dist/jquery.validator","validator-lang":"../libs/nice-validator/dist/local/zh-CN",plupload:"../libs/plupload/js/plupload.min",toastr:"../libs/toastr/toastr",jstree:"../libs/jstree/dist/jstree.min",layer:"../libs/layer/dist/layer",cookie:"../libs/jquery.cookie/jquery.cookie",cxselect:"../libs/fastadmin-cxselect/js/jquery.cxselect",template:"../libs/art-template/dist/template-native",selectpage:"../libs/fastadmin-selectpage/selectpage",citypicker:"../libs/city-picker/dist/js/city-picker.min","citypicker-data":"../libs/city-picker/dist/js/city-picker.data"},shim:{addons:["backend"],bootstrap:["jquery"],"bootstrap-table":{deps:["bootstrap"],exports:"$.fn.bootstrapTable"},"bootstrap-table-lang":{deps:["bootstrap-table"],exports:"$.fn.bootstrapTable.defaults"},"bootstrap-table-export":{deps:["bootstrap-table","tableexport"],exports:"$.fn.bootstrapTable.defaults"},"bootstrap-table-mobile":{deps:["bootstrap-table"],exports:"$.fn.bootstrapTable.defaults"},"bootstrap-table-advancedsearch":{deps:["bootstrap-table"],exports:"$.fn.bootstrapTable.defaults"},"bootstrap-table-commonsearch":{deps:["bootstrap-table"],exports:"$.fn.bootstrapTable.defaults"},"bootstrap-table-template":{deps:["bootstrap-table","template"],exports:"$.fn.bootstrapTable.defaults"},tableexport:{deps:["jquery"],exports:"$.fn.extend"},slimscroll:{deps:["jquery"],exports:"$.fn.extend"},adminlte:{deps:["bootstrap","slimscroll"],exports:"$.AdminLTE"},"bootstrap-datetimepicker":["moment/locale/zh-cn"],"bootstrap-select":["css!../libs/bootstrap-select/dist/css/bootstrap-select.min.css"],"bootstrap-select-lang":["bootstrap-select"],jstree:["css!../libs/jstree/dist/themes/default/style.css"],plupload:{deps:["../libs/plupload/js/moxie.min"],exports:"plupload"},"validator-lang":["validator-core"],citypicker:["citypicker-data","css!../libs/city-picker/dist/css/city-picker.css"]},baseUrl:requirejs.s.contexts._.config.config.site.cdnurl+"/assets/js/",map:{"*":{css:"../libs/require-css/css.min"}},waitSeconds:30,charset:"utf-8"}),require(["jquery","bootstrap"],function(e,t){var i=requirejs.s.contexts._.config.config;window.Config=i;var n={};n.lang=i.moduleurl+"/ajax/lang?callback=define&controllername="+i.controllername,n["backend/"]="backend/",require.config({paths:n}),e(function(){require(["fast"],function(e){require(["backend","backend-init","addons"],function(e,t,n){i.jsname&&require([i.jsname],function(e){e[i.actionname]!=t&&e[i.actionname]()},function(e){console.error(e)})})})})}),define("require-backend",function(){}),define("../libs/require-css/css.min",[],function(){if("undefined"==typeof window)return{load:function(e,t,i){i()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,i=!1,n=!0;t[1]||t[7]?i=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]?n=!1:t[4]&&(i=parseInt(t[4])<18);var o={};o.pluginBuilder="./css-builder";var r,a,s,l=function(){r=document.createElement("style"),e.appendChild(r),a=r.styleSheet||r.sheet},c=0,d=[],u=function(e){a.addImport(e),r.onload=function(){p()},c++,31==c&&(l(),c=0)},p=function(){s();var e=d.shift();return e?(s=e[1],void u(e[0])):void(s=null)},h=function(e,t){if(a&&a.addImport||l(),a&&a.addImport)s?d.push([e,t]):(u(e),
s=t);else{r.textContent='@import "'+e+'";';var i=setInterval(function(){try{r.sheet.cssRules,clearInterval(i),t()}catch(e){}},10)}},f=function(t,i){var o=document.createElement("link");if(o.type="text/css",o.rel="stylesheet",n)o.onload=function(){o.onload=function(){},setTimeout(i,7)};else var r=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==o.href)return clearInterval(r),i()}},10);o.href=t,e.appendChild(o)};return o.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},o.load=function(e,t,n,o){(i?h:f)(t.toUrl(e+".css"),n)},o}),!function(e,t){"use strict";var i,n,o=e.layui&&layui.define,r={getPath:function(){var e=document.currentScript?document.currentScript.src:function(){for(var e,t=document.scripts,i=t.length-1,n=i;n>0;n--)if("interactive"===t[n].readyState){e=t[n].src;break}return e||t[i].src}();return e.substring(0,e.lastIndexOf("/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"],getStyle:function(t,i){var n=t.currentStyle?t.currentStyle:e.getComputedStyle(t,null);return n[n.getPropertyValue?"getPropertyValue":"getAttribute"](i)},link:function(t,i,n){if(a.path){var o=document.getElementsByTagName("head")[0],s=document.createElement("link");"string"==typeof i&&(n=i);var l=(n||t).replace(/\.|\//g,""),c="layuicss-"+l,d=0;s.rel="stylesheet",s.href=a.path+t,s.id=c,document.getElementById(c)||o.appendChild(s),"function"==typeof i&&!function t(){return++d>80?e.console&&console.error("layer.css: Invalid"):void(1989===parseInt(r.getStyle(document.getElementById(c),"width"))?i():setTimeout(t,100))}()}}},a={v:"3.1.1",ie:function(){var t=navigator.userAgent.toLowerCase();return!!(e.ActiveXObject||"ActiveXObject"in e)&&((t.match(/msie\s(\d+)/)||[])[1]||"11")}(),index:e.layer&&e.layer.v?1e5:0,path:r.getPath,config:function(e,t){return e=e||{},a.cache=r.config=i.extend({},r.config,e),a.path=r.config.path||a.path,"string"==typeof e.extend&&(e.extend=[e.extend]),r.config.path&&a.ready(),e.extend?(o?layui.addcss("modules/layer/"+e.extend):r.link("theme/"+e.extend),this):this},ready:function(e){var t="layer",i="",n=(o?"modules/layer/":"theme/")+"default/layer.css?v="+a.v+i;return o?layui.addcss(n,e,t):r.link(n,e,t),this},alert:function(e,t,n){var o="function"==typeof t;return o&&(n=t),a.open(i.extend({content:e,yes:n},o?{}:t))},confirm:function(e,t,n,o){var s="function"==typeof t;return s&&(o=n,n=t),a.open(i.extend({content:e,btn:r.btn,yes:n,btn2:o},s?{}:t))},msg:function(e,n,o){var s="function"==typeof n,c=r.config.skin,d=(c?c+" "+c+"-msg":"")||"layui-layer-msg",u=l.anim.length-1;return s&&(o=n),a.open(i.extend({content:e,time:3e3,shade:!1,skin:d,title:!1,closeBtn:!1,btn:!1,resize:!1,end:o},s&&!r.config.skin?{skin:d+" layui-layer-hui",anim:u}:function(){return n=n||{},(n.icon===-1||n.icon===t&&!r.config.skin)&&(n.skin=d+" "+(n.skin||"layui-layer-hui")),n}()))},load:function(e,t){return a.open(i.extend({type:3,icon:e||0,resize:!1,shade:.01},t))},tips:function(e,t,n){return a.open(i.extend({type:4,content:[e,t],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:210},n))}},s=function(e){var t=this;t.index=++a.index,t.config=i.extend({},t.config,r.config,e),document.body?t.creat():setTimeout(function(){t.creat()},30)};s.pt=s.prototype;var l=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];l.anim=["layer-anim-00","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],s.pt.config={type:0,shade:.3,fixed:!0,move:l[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,isOutAnim:!0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2},s.pt.vessel=function(e,t){var n=this,o=n.index,a=n.config,s=a.zIndex+o,c="object"==typeof a.title,d=a.maxmin&&(1===a.type||2===a.type),u=a.title?'<div class="layui-layer-title" style="'+(c?a.title[1]:"")+'">'+(c?a.title[0]:a.title)+"</div>":"";return a.zIndex=s,t([a.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+o+'" times="'+o+'" style="'+("z-index:"+(s-1)+"; ")+'"></div>':"",'<div class="'+l[0]+(" layui-layer-"+r.type[a.type])+(0!=a.type&&2!=a.type||a.shade?"":" layui-layer-border")+" "+(a.skin||"")+'" id="'+l[0]+o+'" type="'+r.type[a.type]+'" times="'+o+'" showtime="'+a.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+s+"; width:"+a.area[0]+";height:"+a.area[1]+(a.fixed?"":";position:absolute;")+'">'+(e&&2!=a.type?"":u)+'<div id="'+(a.id||"")+'" class="layui-layer-content'+(0==a.type&&a.icon!==-1?" layui-layer-padding":"")+(3==a.type?" layui-layer-loading"+a.icon:"")+'">'+(0==a.type&&a.icon!==-1?'<i class="layui-layer-ico layui-layer-ico'+a.icon+'"></i>':"")+(1==a.type&&e?"":a.content||"")+'</div><span class="layui-layer-setwin">'+function(){var e=d?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return a.closeBtn&&(e+='<a class="layui-layer-ico '+l[7]+" "+l[7]+(a.title?a.closeBtn:4==a.type?"1":"2")+'" href="javascript:;"></a>'),e}()+"</span>"+(a.btn?function(){var e="";"string"==typeof a.btn&&(a.btn=[a.btn]);for(var t=0,i=a.btn.length;t<i;t++)e+='<a class="'+l[6]+t+'">'+a.btn[t]+"</a>";return'<div class="'+l[6]+" layui-layer-btn-"+(a.btnAlign||"")+'">'+e+"</div>"}():"")+(a.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],u,i('<div class="layui-layer-move"></div>')),n},s.pt.creat=function(){var e=this,t=e.config,o=e.index,s=t.content,c="object"==typeof s,d=i("body");if(!t.id||!i("#"+t.id)[0]){switch("string"==typeof t.area&&(t.area="auto"===t.area?["",""]:[t.area,""]),t.shift&&(t.anim=t.shift),6==a.ie&&(t.fixed=!1),t.type){case 0:t.btn="btn"in t?t.btn:r.btn[0],a.closeAll("dialog");break;case 2:var s=t.content=c?t.content:[t.content||"http://layer.layui.com","auto"];t.content='<iframe scrolling="'+(t.content[1]||"auto")+'" allowtransparency="true" id="'+l[4]+o+'" name="'+l[4]+o+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+t.content[0]+'"></iframe>';break;case 3:delete t.title,delete t.closeBtn,t.icon===-1&&0===t.icon,a.closeAll("loading");break;case 4:c||(t.content=[t.content,"body"]),t.follow=t.content[1],t.content=t.content[0]+'<i class="layui-layer-TipsG"></i>',delete t.title,t.tips="object"==typeof t.tips?t.tips:[t.tips,!0],t.tipsMore||a.closeAll("tips")}if(e.vessel(c,function(n,a,u){d.append(n[0]),c?function(){2==t.type||4==t.type?function(){i("body").append(n[1])}():function(){s.parents("."+l[0])[0]||(s.data("display",s.css("display")).show().addClass("layui-layer-wrap").wrap(n[1]),i("#"+l[0]+o).find("."+l[5]).before(a))}()}():d.append(n[1]),i(".layui-layer-move")[0]||d.append(r.moveElem=u),e.layero=i("#"+l[0]+o),t.scrollbar||l.html.css("overflow","hidden").attr("layer-full",o)}).auto(o),i("#layui-layer-shade"+e.index).css({"background-color":t.shade[1]||"#000",opacity:t.shade[0]||t.shade}),2==t.type&&6==a.ie&&e.layero.find("iframe").attr("src",s[0]),4==t.type?e.tips():e.offset(),t.fixed&&n.on("resize",function(){e.offset(),(/^\d+%$/.test(t.area[0])||/^\d+%$/.test(t.area[1]))&&e.auto(o),4==t.type&&e.tips()}),t.time<=0||setTimeout(function(){a.close(e.index)},t.time),e.move().callback(),l.anim[t.anim]){var u="layer-anim "+l.anim[t.anim];e.layero.addClass(u).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i(this).removeClass(u)})}t.isOutAnim&&e.layero.data("isOutAnim",!0)}},s.pt.auto=function(e){var t=this,o=t.config,r=i("#"+l[0]+e);""===o.area[0]&&o.maxWidth>0&&(a.ie&&a.ie<8&&o.btn&&r.width(r.innerWidth()),r.outerWidth()>o.maxWidth&&r.width(o.maxWidth));var s=[r.innerWidth(),r.innerHeight()],c=r.find(l[1]).outerHeight()||0,d=r.find("."+l[6]).outerHeight()||0,u=function(e){e=r.find(e),e.height(s[1]-c-d-2*(0|parseFloat(e.css("padding-top"))))};switch(o.type){case 2:u("iframe");break;default:""===o.area[1]?o.maxHeight>0&&r.outerHeight()>o.maxHeight?(s[1]=o.maxHeight,u("."+l[5])):o.fixed&&s[1]>=n.height()&&(s[1]=n.height(),u("."+l[5])):u("."+l[5])}return t},s.pt.offset=function(){var e=this,t=e.config,i=e.layero,o=[i.outerWidth(),i.outerHeight()],r="object"==typeof t.offset;e.offsetTop=(n.height()-o[1])/2,e.offsetLeft=(n.width()-o[0])/2,r?(e.offsetTop=t.offset[0],e.offsetLeft=t.offset[1]||e.offsetLeft):"auto"!==t.offset&&("t"===t.offset?e.offsetTop=0:"r"===t.offset?e.offsetLeft=n.width()-o[0]:"b"===t.offset?e.offsetTop=n.height()-o[1]:"l"===t.offset?e.offsetLeft=0:"lt"===t.offset?(e.offsetTop=0,e.offsetLeft=0):"lb"===t.offset?(e.offsetTop=n.height()-o[1],e.offsetLeft=0):"rt"===t.offset?(e.offsetTop=0,e.offsetLeft=n.width()-o[0]):"rb"===t.offset?(e.offsetTop=n.height()-o[1],e.offsetLeft=n.width()-o[0]):e.offsetTop=t.offset),t.fixed||(e.offsetTop=/%$/.test(e.offsetTop)?n.height()*parseFloat(e.offsetTop)/100:parseFloat(e.offsetTop),e.offsetLeft=/%$/.test(e.offsetLeft)?n.width()*parseFloat(e.offsetLeft)/100:parseFloat(e.offsetLeft),e.offsetTop+=n.scrollTop(),e.offsetLeft+=n.scrollLeft()),i.attr("minLeft")&&(e.offsetTop=n.height()-(i.find(l[1]).outerHeight()||0),e.offsetLeft=i.css("left")),i.css({top:e.offsetTop,left:e.offsetLeft})},s.pt.tips=function(){var e=this,t=e.config,o=e.layero,r=[o.outerWidth(),o.outerHeight()],a=i(t.follow);a[0]||(a=i("body"));var s={width:a.outerWidth(),height:a.outerHeight(),top:a.offset().top,left:a.offset().left},c=o.find(".layui-layer-TipsG"),d=t.tips[0];t.tips[1]||c.remove(),s.autoLeft=function(){s.left+r[0]-n.width()>0?(s.tipLeft=s.left+s.width-r[0],c.css({right:12,left:"auto"})):s.tipLeft=s.left},s.where=[function(){s.autoLeft(),s.tipTop=s.top-r[1]-10,c.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",t.tips[1])},function(){s.tipLeft=s.left+s.width+10,s.tipTop=s.top,c.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",t.tips[1])},function(){s.autoLeft(),s.tipTop=s.top+s.height+10,c.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",t.tips[1])},function(){s.tipLeft=s.left-r[0]-10,s.tipTop=s.top,c.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",t.tips[1])}],s.where[d-1](),1===d?s.top-(n.scrollTop()+r[1]+16)<0&&s.where[2]():2===d?n.width()-(s.left+s.width+r[0]+16)>0||s.where[3]():3===d?s.top-n.scrollTop()+s.height+r[1]+16-n.height()>0&&s.where[0]():4===d&&r[0]+16-s.left>0&&s.where[1](),o.find("."+l[5]).css({"background-color":t.tips[1],"padding-right":t.closeBtn?"30px":""}),o.css({left:s.tipLeft-(t.fixed?n.scrollLeft():0),top:s.tipTop-(t.fixed?n.scrollTop():0)})},s.pt.move=function(){var e=this,t=e.config,o=i(document),s=e.layero,l=s.find(t.move),c=s.find(".layui-layer-resize"),d={};return t.move&&l.css("cursor","move"),l.on("mousedown",function(e){e.preventDefault(),t.move&&(d.moveStart=!0,d.offset=[e.clientX-parseFloat(s.css("left")),e.clientY-parseFloat(s.css("top"))],r.moveElem.css("cursor","move").show())}),c.on("mousedown",function(e){e.preventDefault(),d.resizeStart=!0,d.offset=[e.clientX,e.clientY],d.area=[s.outerWidth(),s.outerHeight()],r.moveElem.css("cursor","se-resize").show()}),o.on("mousemove",function(i){if(d.moveStart){var o=i.clientX-d.offset[0],r=i.clientY-d.offset[1],l="fixed"===s.css("position");if(i.preventDefault(),d.stX=l?0:n.scrollLeft(),d.stY=l?0:n.scrollTop(),!t.moveOut){var c=n.width()-s.outerWidth()+d.stX,u=n.height()-s.outerHeight()+d.stY;o<d.stX&&(o=d.stX),o>c&&(o=c),r<d.stY&&(r=d.stY),r>u&&(r=u)}s.css({left:o,top:r})}if(t.resize&&d.resizeStart){var o=i.clientX-d.offset[0],r=i.clientY-d.offset[1];i.preventDefault(),a.style(e.index,{width:d.area[0]+o,height:d.area[1]+r}),d.isResize=!0,t.resizing&&t.resizing(s)}}).on("mouseup",function(e){d.moveStart&&(delete d.moveStart,r.moveElem.hide(),t.moveEnd&&t.moveEnd(s)),d.resizeStart&&(delete d.resizeStart,r.moveElem.hide())}),e},s.pt.callback=function(){function e(){var e=o.cancel&&o.cancel(t.index,n);e===!1||a.close(t.index)}var t=this,n=t.layero,o=t.config;t.openLayer(),o.success&&(2==o.type?n.find("iframe").on("load",function(){o.success(n,t.index)}):o.success(n,t.index)),6==a.ie&&t.IE6(n),n.find("."+l[6]).children("a").on("click",function(){var e=i(this).index();if(0===e)o.yes?o.yes(t.index,n):o.btn1?o.btn1(t.index,n):a.close(t.index);else{var r=o["btn"+(e+1)]&&o["btn"+(e+1)](t.index,n);r===!1||a.close(t.index)}}),n.find("."+l[7]).on("click",e),o.shadeClose&&i("#layui-layer-shade"+t.index).on("click",function(){a.close(t.index)}),n.find(".layui-layer-min").on("click",function(){var e=o.min&&o.min(n);e===!1||a.min(t.index,o)}),n.find(".layui-layer-max").on("click",function(){i(this).hasClass("layui-layer-maxmin")?(a.restore(t.index),o.restore&&o.restore(n)):(a.full(t.index,o),setTimeout(function(){o.full&&o.full(n)},100))}),o.end&&(r.end[t.index]=o.end)},r.reselect=function(){i.each(i("select"),function(e,t){var n=i(this);n.parents("."+l[0])[0]||1==n.attr("layer")&&i("."+l[0]).length<1&&n.removeAttr("layer").show(),n=null})},s.pt.IE6=function(e){i("select").each(function(e,t){var n=i(this);n.parents("."+l[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide(),n=null})},s.pt.openLayer=function(){var e=this;a.zIndex=e.config.zIndex,a.setTop=function(e){var t=function(){a.zIndex++,e.css("z-index",a.zIndex+1)};return a.zIndex=parseInt(e[0].style.zIndex),e.on("mousedown",t),a.zIndex}},r.record=function(e){var t=[e.width(),e.height(),e.position().top,e.position().left+parseFloat(e.css("margin-left"))];e.find(".layui-layer-max").addClass("layui-layer-maxmin"),e.attr({area:t})},r.rescollbar=function(e){l.html.attr("layer-full")==e&&(l.html[0].style.removeProperty?l.html[0].style.removeProperty("overflow"):l.html[0].style.removeAttribute("overflow"),l.html.removeAttr("layer-full"))},e.layer=a,a.getChildFrame=function(e,t){return t=t||i("."+l[4]).attr("times"),i("#"+l[0]+t).find("iframe").contents().find(e)},a.getFrameIndex=function(e){return i("#"+e).parents("."+l[4]).attr("times")},a.iframeAuto=function(e){if(e){var t=a.getChildFrame("html",e).outerHeight(),n=i("#"+l[0]+e),o=n.find(l[1]).outerHeight()||0,r=n.find("."+l[6]).outerHeight()||0;n.css({height:t+o+r}),n.find("iframe").css({height:t})}},a.iframeSrc=function(e,t){i("#"+l[0]+e).find("iframe").attr("src",t)},a.style=function(e,t,n){var o=i("#"+l[0]+e),a=o.find(".layui-layer-content"),s=o.attr("type"),c=o.find(l[1]).outerHeight()||0,d=o.find("."+l[6]).outerHeight()||0;o.attr("minLeft"),s!==r.type[3]&&s!==r.type[4]&&(n||(parseFloat(t.width)<=260&&(t.width=260),parseFloat(t.height)-c-d<=64&&(t.height=64+c+d)),o.css(t),d=o.find("."+l[6]).outerHeight(),s===r.type[2]?o.find("iframe").css({height:parseFloat(t.height)-c-d}):a.css({height:parseFloat(t.height)-c-d-parseFloat(a.css("padding-top"))-parseFloat(a.css("padding-bottom"))}))},a.min=function(e,t){var o=i("#"+l[0]+e),s=o.find(l[1]).outerHeight()||0,c=o.attr("minLeft")||181*r.minIndex+"px",d=o.css("position");r.record(o),r.minLeft[0]&&(c=r.minLeft[0],r.minLeft.shift()),o.attr("position",d),a.style(e,{width:180,height:s,left:c,top:n.height()-s,position:"fixed",overflow:"hidden"},!0),o.find(".layui-layer-min").hide(),"page"===o.attr("type")&&o.find(l[4]).hide(),r.rescollbar(e),o.attr("minLeft")||r.minIndex++,o.attr("minLeft",c)},a.restore=function(e){var t=i("#"+l[0]+e),n=t.attr("area").split(",");t.attr("type"),a.style(e,{width:parseFloat(n[0]),height:parseFloat(n[1]),top:parseFloat(n[2]),left:parseFloat(n[3]),position:t.attr("position"),overflow:"visible"},!0),t.find(".layui-layer-max").removeClass("layui-layer-maxmin"),t.find(".layui-layer-min").show(),"page"===t.attr("type")&&t.find(l[4]).show(),r.rescollbar(e)},a.full=function(e){var t,o=i("#"+l[0]+e);r.record(o),l.html.attr("layer-full")||l.html.css("overflow","hidden").attr("layer-full",e),clearTimeout(t),t=setTimeout(function(){var t="fixed"===o.css("position");a.style(e,{top:t?0:n.scrollTop(),left:t?0:n.scrollLeft(),width:n.width(),height:n.height()},!0),o.find(".layui-layer-min").hide()},100)},a.title=function(e,t){var n=i("#"+l[0]+(t||a.index)).find(l[1]);n.html(e)},a.close=function(e){var t=i("#"+l[0]+e),n=t.attr("type"),o="layer-anim-close";if(t[0]){var s="layui-layer-wrap",c=function(){if(n===r.type[1]&&"object"===t.attr("conType")){t.children(":not(."+l[5]+")").remove();for(var o=t.find("."+s),a=0;a<2;a++)o.unwrap();o.css("display",o.data("display")).removeClass(s)}else{if(n===r.type[2])try{var c=i("#"+l[4]+e)[0];c.contentWindow.document.write(""),c.contentWindow.close(),t.find("."+l[5])[0].removeChild(c)}catch(e){}t[0].innerHTML="",t.remove()}"function"==typeof r.end[e]&&r.end[e](),delete r.end[e]};t.data("isOutAnim")&&t.addClass("layer-anim "+o),i("#layui-layer-moves, #layui-layer-shade"+e).remove(),6==a.ie&&r.reselect(),r.rescollbar(e),t.attr("minLeft")&&(r.minIndex--,r.minLeft.push(t.attr("minLeft"))),a.ie&&a.ie<10||!t.data("isOutAnim")?c():setTimeout(function(){c()},200)}},a.closeAll=function(e){i.each(i("."+l[0]),function(){var t=i(this),n=e?t.attr("type")===e:1;n&&a.close(t.attr("times")),n=null})};var c=a.cache||{},d=function(e){return c.skin?" "+c.skin+" "+c.skin+"-"+e:""};a.prompt=function(e,t){var o="";if(e=e||{},"function"==typeof e&&(t=e),e.area){var r=e.area;o='style="width: '+r[0]+"; height: "+r[1]+';"',delete e.area}var s,l=2==e.formType?'<textarea class="layui-layer-input"'+o+">"+(e.value||"")+"</textarea>":function(){return'<input type="'+(1==e.formType?"password":"text")+'" class="layui-layer-input" value="'+(e.value||"")+'">'}(),c=e.success;return delete e.success,a.open(i.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:l,skin:"layui-layer-prompt"+d("prompt"),maxWidth:n.width(),success:function(e){s=e.find(".layui-layer-input"),s.focus(),"function"==typeof c&&c(e)},resize:!1,yes:function(i){var n=s.val();""===n?s.focus():n.length>(e.maxlength||500)?a.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(e.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",s,{tips:1}):t&&t(n,i,s)}},e))},a.tab=function(e){e=e||{};var t=e.tab||{},n="layui-this",o=e.success;return delete e.success,a.open(i.extend({type:1,skin:"layui-layer-tab"+d("tab"),resize:!1,title:function(){var e=t.length,i=1,o="";if(e>0)for(o='<span class="'+n+'">'+t[0].title+"</span>";i<e;i++)o+="<span>"+t[i].title+"</span>";return o}(),content:'<ul class="layui-layer-tabmain">'+function(){var e=t.length,i=1,o="";if(e>0)for(o='<li class="layui-layer-tabli '+n+'">'+(t[0].content||"no content")+"</li>";i<e;i++)o+='<li class="layui-layer-tabli">'+(t[i].content||"no  content")+"</li>";return o}()+"</ul>",success:function(t){var r=t.find(".layui-layer-title").children(),a=t.find(".layui-layer-tabmain").children();r.on("mousedown",function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0;var o=i(this),r=o.index();o.addClass(n).siblings().removeClass(n),a.eq(r).show().siblings().hide(),"function"==typeof e.change&&e.change(r)}),"function"==typeof o&&o(t)}},e))},a.photos=function(t,n,o){function r(e,t,i){var n=new Image;return n.src=e,n.complete?t(n):(n.onload=function(){n.onload=null,t(n)},void(n.onerror=function(e){n.onerror=null,i(e)}))}var s={};if(t=t||{},t.photos){var l=t.photos.constructor===Object,c=l?t.photos:{},u=c.data||[],p=c.start||0;s.imgIndex=(0|p)+1,t.img=t.img||"img";var h=t.success;if(delete t.success,l){if(0===u.length)return a.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{var f=i(t.photos),m=function(){u=[],f.find(t.img).each(function(e){var t=i(this);t.attr("layer-index",e),u.push({alt:t.attr("alt"),pid:t.attr("layer-pid"),src:t.attr("layer-src")||t.attr("src"),thumb:t.attr("src")})})};if(m(),0===u.length)return;if(n||f.on("click",t.img,function(){var e=i(this),n=e.attr("layer-index");a.photos(i.extend(t,{photos:{start:n,data:u,tab:t.tab},full:t.full}),!0),m()}),!n)return}s.imgprev=function(e){s.imgIndex--,s.imgIndex<1&&(s.imgIndex=u.length),s.tabimg(e)},s.imgnext=function(e,t){s.imgIndex++,s.imgIndex>u.length&&(s.imgIndex=1,t)||s.tabimg(e)},s.keyup=function(e){if(!s.end){var t=e.keyCode;e.preventDefault(),37===t?s.imgprev(!0):39===t?s.imgnext(!0):27===t&&a.close(s.index)}},s.tabimg=function(e){if(!(u.length<=1))return c.start=s.imgIndex-1,a.close(s.index),a.photos(t,!0,e)},s.event=function(){s.bigimg.hover(function(){s.imgsee.show()},function(){s.imgsee.hide()}),s.bigimg.find(".layui-layer-imgprev").on("click",function(e){e.preventDefault(),s.imgprev()}),s.bigimg.find(".layui-layer-imgnext").on("click",function(e){e.preventDefault(),s.imgnext()}),i(document).on("keyup",s.keyup)},s.loadi=a.load(1,{shade:!("shade"in t)&&.9,scrollbar:!1}),r(u[p].src,function(n){a.close(s.loadi),s.index=a.open(i.extend({type:1,id:"layui-layer-photos",area:function(){var o=[n.width,n.height],r=[i(e).width()-100,i(e).height()-100];if(!t.full&&(o[0]>r[0]||o[1]>r[1])){var a=[o[0]/r[0],o[1]/r[1]];a[0]>a[1]?(o[0]=o[0]/a[0],o[1]=o[1]/a[0]):a[0]<a[1]&&(o[0]=o[0]/a[1],o[1]=o[1]/a[1])}return[o[0]+"px",o[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,isOutAnim:!1,skin:"layui-layer-photos"+d("photos"),content:'<div class="layui-layer-phimg"><img src="'+u[p].src+'" alt="'+(u[p].alt||"")+'" layer-pid="'+u[p].pid+'"><div class="layui-layer-imgsee">'+(u.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(o?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(u[p].alt||"")+"</a><em>"+s.imgIndex+"/"+u.length+"</em></span></div></div></div>",success:function(e,i){s.bigimg=e.find(".layui-layer-phimg"),s.imgsee=e.find(".layui-layer-imguide,.layui-layer-imgbar"),s.event(e),t.tab&&t.tab(u[p],e),"function"==typeof h&&h(e)},end:function(){s.end=!0,i(document).off("keyup",s.keyup)}},t))},function(){a.close(s.loadi),a.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){u.length>1&&s.imgnext(!0,!0)}})})}},r.run=function(t){i=t,n=i(e),l.html=i("html"),a.open=function(e){var t=new s(e);return t.index}},e.layui&&layui.define?(a.ready(),layui.define("jquery",function(t){a.path=layui.cache.dir,r.run(layui.$),e.layer=a,t("layer",a)})):"function"==typeof define&&define.amd?define("layer",["jquery"],function(){return r.run(e.jQuery),a}):function(){r.run(e.jQuery),a.ready()}()}(window),function(e){e("toastr",["jquery"],function(e){return function(){function t(e,t,i){return f({type:x.error,iconClass:m().iconClasses.error,message:e,optionsOverride:i,title:t})}function i(t,i){return t||(t=m()),y=e("#"+t.containerId),y.length?y:(i&&(y=u(t)),y)}function n(e,t,i){return f({type:x.info,iconClass:m().iconClasses.info,message:e,optionsOverride:i,title:t})}function o(e){v=e}function r(e,t,i){return f({type:x.success,iconClass:m().iconClasses.success,message:e,optionsOverride:i,title:t})}function a(e,t,i){return f({type:x.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:i,title:t})}function s(e,t){var n=m();y||i(n),d(e,n,t)||c(n)}function l(t){var n=m();return y||i(n),t&&0===e(":focus",t).length?void g(t):void(y.children().length&&y.remove())}function c(t){for(var i=y.children(),n=i.length-1;n>=0;n--)d(e(i[n]),t)}function d(t,i,n){var o=!(!n||!n.force)&&n.force;return!(!t||!o&&0!==e(":focus",t).length)&&(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){g(t)}}),!0)}function u(t){return y=e("<div/>").attr("id",t.containerId).addClass(t.positionClass),y.appendTo(e(t.target)),y}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function h(e){v&&v(e)}function f(t){function n(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(){l(),d(),u(),p(),f(),v(),c(),r()}function r(){var e="";switch(t.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}R.attr("aria-live",e)}function a(){T.closeOnHover&&R.hover(C,k),!T.onclick&&T.tapToDismiss&&R.click(_),T.closeButton&&M&&M.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),T.onCloseClick&&T.onCloseClick(e),_(!0)}),T.onclick&&R.click(function(e){T.onclick(e),_()})}function s(){R.hide(),R[T.showMethod]({duration:T.showDuration,easing:T.showEasing,complete:T.onShown}),T.timeOut>0&&(E=setTimeout(_,T.timeOut),P.maxHideTime=parseFloat(T.timeOut),P.hideEta=(new Date).getTime()+P.maxHideTime,T.progressBar&&(P.intervalId=setInterval(S,10)))}function l(){t.iconClass&&R.addClass(T.toastClass).addClass(D)}function c(){T.newestOnTop?y.prepend(R):y.append(R)}function d(){if(t.title){var e=t.title;T.escapeHtml&&(e=n(t.title)),A.append(e).addClass(T.titleClass),R.append(A)}}function u(){if(t.message){var e=t.message;T.escapeHtml&&(e=n(t.message)),O.append(e).addClass(T.messageClass),R.append(O)}}function p(){T.closeButton&&(M.addClass(T.closeClass).attr("role","button"),R.prepend(M))}function f(){T.progressBar&&(I.addClass(T.progressClass),R.prepend(I))}function v(){T.rtl&&R.addClass("rtl")}function x(e,t){if(e.preventDuplicates){if(t.message===b)return!0;b=t.message}return!1}function _(t){var i=t&&T.closeMethod!==!1?T.closeMethod:T.hideMethod,n=t&&T.closeDuration!==!1?T.closeDuration:T.hideDuration,o=t&&T.closeEasing!==!1?T.closeEasing:T.hideEasing;if(!e(":focus",R).length||t)return clearTimeout(P.intervalId),R[i]({duration:n,easing:o,complete:function(){g(R),clearTimeout(E),T.onHidden&&"hidden"!==N.state&&T.onHidden(),N.state="hidden",N.endTime=new Date,h(N)}})}function k(){(T.timeOut>0||T.extendedTimeOut>0)&&(E=setTimeout(_,T.extendedTimeOut),P.maxHideTime=parseFloat(T.extendedTimeOut),P.hideEta=(new Date).getTime()+P.maxHideTime)}function C(){clearTimeout(E),P.hideEta=0,R.stop(!0,!0)[T.showMethod]({duration:T.showDuration,easing:T.showEasing})}function S(){var e=(P.hideEta-(new Date).getTime())/P.maxHideTime*100;I.width(e+"%")}var T=m(),D=t.iconClass||T.iconClass;if("undefined"!=typeof t.optionsOverride&&(T=e.extend(T,t.optionsOverride),D=t.optionsOverride.iconClass||D),!x(T,t)){w++,y=i(T,!0);var E=null,R=e("<div/>"),A=e("<div/>"),O=e("<div/>"),I=e("<div/>"),M=e(T.closeHtml),P={intervalId:null,hideEta:null,maxHideTime:null},N={toastId:w,state:"visible",startTime:new Date,options:T,map:t};return o(),s(),a(),h(N),T.debug&&console&&console.log(N),R}}function m(){return e.extend({},p(),_.options)}function g(e){y||(y=i()),e.is(":visible")||(e.remove(),e=null,0===y.children().length&&(y.remove(),b=void 0))}var y,v,b,w=0,x={error:"error",info:"info",success:"success",warning:"warning"},_={clear:s,remove:l,error:t,getContainer:i,info:n,options:{},subscribe:o,success:r,version:"2.1.3",warning:a};return _}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)}),define("fast",["jquery","bootstrap","toastr","layer","lang"],function(e,t,i,n,o){var r={config:{toastr:{closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}},events:{onAjaxSuccess:function(e,t){var n="undefined"!=typeof e.data?e.data:null,o="undefined"!=typeof e.msg&&e.msg?e.msg:__("Operation completed");if("function"==typeof t){var r=t.call(this,n,e);if(r===!1)return}i.success(o)},onAjaxError:function(e,t){var n="undefined"!=typeof e.data?e.data:null;if("function"==typeof t){var o=t.call(this,n,e);if(o===!1)return}i.error(e.msg)},onAjaxResponse:function(t){try{var i="object"==typeof t?t:JSON.parse(t);i.hasOwnProperty("code")||e.extend(i,{code:-2,msg:t,data:null})}catch(e){var i={code:-1,msg:e.message,data:null}}return i}},api:{ajax:function(t,i,o){t="string"==typeof t?{url:t}:t;var a=n.load();t=e.extend({type:"POST",dataType:"json",success:function(e){n.close(a),e=r.events.onAjaxResponse(e),1===e.code?r.events.onAjaxSuccess(e,i):r.events.onAjaxError(e,o)},error:function(e){n.close(a);var t={code:e.status,msg:e.statusText,data:null};r.events.onAjaxError(t,o)}},t),e.ajax(t)},fixurl:function(e){if("/"!==e.substr(0,1)){var t=new RegExp("^(?:[a-z]+:)?//","i");t.test(e)||(e=Config.moduleurl+"/"+e)}else"/addons/"===e.substr(0,8)&&(e=Config.__PUBLIC__.replace(/(\/*$)/g,"")+e);return e},cdnurl:function(e){return/^(?:[a-z]+:)?\/\//i.test(e)?e:Config.upload.cdnurl+e},query:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=i.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},open:function(t,i,o){i=i?i:"",t=r.api.fixurl(t),t=t+(t.indexOf("?")>-1?"&":"?")+"dialog=1";var a=[e(window).width()>800?"800px":"95%",e(window).height()>600?"600px":"95%"];return o=e.extend({type:2,title:i,shadeClose:!0,shade:!1,maxmin:!0,moveOut:!0,area:a,content:t,zIndex:n.zIndex,success:function(t,i){var o=this;e(t).data("callback",o.callback),n.setTop(t);var a=n.getChildFrame("html",i),s=a.find(".layer-footer");if(r.api.layerfooter(t,i,o),s.size()>0){var l=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,c=s[0],d=new l(function(e){r.api.layerfooter(t,i,o),e.forEach(function(e){})}),u={attributes:!0,childList:!0,characterData:!0,subtree:!0};d.observe(c,u)}}},o?o:{}),(e(window).width()<480||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&top.$(".tab-pane.active").size()>0)&&(o.area=[top.$(".tab-pane.active").width()+"px",top.$(".tab-pane.active").height()+"px"],o.offset=[top.$(".tab-pane.active").scrollTop()+"px","0px"]),n.open(o)},close:function(e){var i=parent.Layer.getFrameIndex(window.name),n=parent.$("#layui-layer"+i).data("callback");parent.Layer.close(i),"function"==typeof n&&n.call(t,e)},layerfooter:function(t,i,o){var r=n.getChildFrame("html",i),a=r.find(".layer-footer");if(a.size()>0){e(".layui-layer-footer",t).remove();var s=e("<div />").addClass("layui-layer-btn layui-layer-footer");s.html(a.html()),0===e(".row",s).size()&&e(">",s).wrapAll("<div class='row'></div>"),s.insertAfter(t.find(".layui-layer-content")),s.on("click",".btn",function(){e(this).hasClass("disabled")||e(this).parent().hasClass("disabled")||e(".btn:eq("+e(this).index()+")",a).trigger("click")});var l=t.find(".layui-layer-title").outerHeight()||0,c=t.find(".layui-layer-btn").outerHeight()||0;e("iframe",t).height(t.height()-l-c)}if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var l=t.find(".layui-layer-title").outerHeight()||0,c=t.find(".layui-layer-btn").outerHeight()||0;e("iframe",t).parent().css("height",t.height()-l-c),e("iframe",t).css("height","100%")}},success:function(t,i){var o="function"==typeof t;return o&&(i=t),n.msg(__("Operation completed"),e.extend({offset:0,icon:1},o?{}:t),i)},error:function(t,i){var o="function"==typeof t;return o&&(i=t),n.msg(__("Operation failed"),e.extend({offset:0,icon:2
},o?{}:t),i)},toastr:i,layer:n},lang:function(){var e=arguments,t=e[0],i=1;if(t=t.toLowerCase(),"undefined"!=typeof o[t]){if("object"==typeof o[t])return o[t];t=o[t]}else if(t.indexOf(".")!==-1,1)t=e[0];else{for(var n=t.split("."),r=o[n[0]],i=1;i<n.length&&(r="undefined"!=typeof r[n[i]]?r[n[i]]:"","object"==typeof r);i++);if("object"==typeof r)return r;t=r}return t.replace(/%((%)|s|d)/g,function(t){var n=null;if(t[2])n=t[2];else{switch(n=e[i],t){case"%d":n=parseFloat(n),isNaN(n)&&(n=0)}i++}return n})},init:function(){e.ajaxSetup({beforeSend:function(e,t){t.url=r.api.fixurl(t.url)}}),n.config({skin:"layui-layer-fast"}),e(window).keyup(function(t){if(27==t.keyCode&&e(".layui-layer").size()>0){var i=0;e(".layui-layer").each(function(){i=Math.max(i,parseInt(e(this).attr("times")))}),i&&n.close(i)}}),i.options=r.config.toastr}};return window.Layer=n,window.Toastr=i,window.__=r.lang,window.Fast=r,r.init(),r}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment/moment",t):e.moment=t()}(this,function(){"use strict";function e(){return hn.apply(null,arguments)}function t(e){hn=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t;for(t in e)return!1;return!0}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var i in t)s(t,i)&&(e[i]=t[i]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,i,n){return gt(e,t,i,n,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function u(e){return null==e._pf&&(e._pf=d()),e._pf}function p(e){if(null==e._isValid){var t=u(e),i=fn.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function h(e){var t=c(NaN);return null!=e?l(u(t),e):u(t).userInvalidated=!0,t}function f(e){return void 0===e}function m(e,t){var i,n,o;if(f(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),f(t._i)||(e._i=t._i),f(t._f)||(e._f=t._f),f(t._l)||(e._l=t._l),f(t._strict)||(e._strict=t._strict),f(t._tzm)||(e._tzm=t._tzm),f(t._isUTC)||(e._isUTC=t._isUTC),f(t._offset)||(e._offset=t._offset),f(t._pf)||(e._pf=u(t)),f(t._locale)||(e._locale=t._locale),mn.length>0)for(i in mn)n=mn[i],o=t[n],f(o)||(e[n]=o);return e}function g(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),gn===!1&&(gn=!0,e.updateOffset(this),gn=!1)}function y(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function v(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=v(t)),i}function w(e,t,i){var n,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(n=0;n<o;n++)(i&&e[n]!==t[n]||!i&&b(e[n])!==b(t[n]))&&a++;return a+r}function x(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,i){var n=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),n){for(var o,r=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){o+="\n["+a+"] ";for(var s in arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];r.push(o)}x(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function k(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),yn[t]||(x(i),yn[t]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e){var t,i;for(i in e)t=e[i],C(t)?this[i]=t:this["_"+i]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(e,t){var i,o=l({},e);for(i in t)s(t,i)&&(n(e[i])&&n(t[i])?(o[i]={},l(o[i],e[i]),l(o[i],t[i])):null!=t[i]?o[i]=t[i]:delete o[i]);for(i in e)s(e,i)&&!s(t,i)&&n(e[i])&&(o[i]=l({},o[i]));return o}function D(e){null!=e&&this.set(e)}function E(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return C(n)?n.call(t,i):n}function R(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function A(){return this._invalidDate}function O(e){return this._ordinal.replace("%d",e)}function I(e,t,i,n){var o=this._relativeTime[i];return C(o)?o(e,t,i,n):o.replace(/%d/i,e)}function M(e,t){var i=this._relativeTime[e>0?"future":"past"];return C(i)?i(t):i.replace(/%s/i,t)}function P(e,t){var i=e.toLowerCase();Tn[i]=Tn[i+"s"]=Tn[t]=e}function N(e){return"string"==typeof e?Tn[e]||Tn[e.toLowerCase()]:void 0}function L(e){var t,i,n={};for(i in e)s(e,i)&&(t=N(i),t&&(n[t]=e[i]));return n}function F(e,t){Dn[e]=t}function $(e){var t=[];for(var i in e)t.push({unit:i,priority:Dn[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}function j(t,i){return function(n){return null!=n?(B(this,t,n),e.updateOffset(this,i),this):H(this,t)}}function H(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function B(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function Y(e){return e=N(e),C(this[e])?this[e]():this}function z(e,t){if("object"==typeof e){e=L(e);for(var i=$(e),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit])}else if(e=N(e),C(this[e]))return this[e](t);return this}function q(e,t,i){var n=""+Math.abs(e),o=t-n.length,r=e>=0;return(r?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function U(e,t,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(On[e]=o),t&&(On[t[0]]=function(){return q(o.apply(this,arguments),t[1],t[2])}),i&&(On[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,i,n=e.match(En);for(t=0,i=n.length;t<i;t++)On[n[t]]?n[t]=On[n[t]]:n[t]=W(n[t]);return function(t){var o,r="";for(o=0;o<i;o++)r+=n[o]instanceof Function?n[o].call(t,e):n[o];return r}}function G(e,t){return e.isValid()?(t=X(t,e.localeData()),An[t]=An[t]||V(t),An[t](e)):e.localeData().invalidDate()}function X(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Rn.lastIndex=0;n>=0&&Rn.test(e);)e=e.replace(Rn,i),Rn.lastIndex=0,n-=1;return e}function Q(e,t,i){Xn[e]=C(t)?t:function(e,n){return e&&i?i:t}}function K(e,t){return s(Xn,e)?Xn[e](t._strict,t._locale):new RegExp(Z(e))}function Z(e){return J(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,o){return t||i||n||o}))}function J(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,i){i[t]=b(e)}),i=0;i<e.length;i++)Qn[e[i]]=n}function te(e,t){ee(e,function(e,i,n,o){n._w=n._w||{},t(e,n._w,n,o)})}function ie(e,t,i){null!=t&&s(Qn,e)&&Qn[e](t,i._a,i,e)}function ne(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ao).test(t)?"format":"standalone"][e.month()]:this._months}function re(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ao.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function ae(e,t,i){var n,o,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=c([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===t?(o=bn.call(this._shortMonthsParse,a),o!==-1?o:null):(o=bn.call(this._longMonthsParse,a),o!==-1?o:null):"MMM"===t?(o=bn.call(this._shortMonthsParse,a),o!==-1?o:(o=bn.call(this._longMonthsParse,a),o!==-1?o:null)):(o=bn.call(this._longMonthsParse,a),o!==-1?o:(o=bn.call(this._shortMonthsParse,a),o!==-1?o:null))}function se(e,t,i){var n,o,r;if(this._monthsParseExact)return ae.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=c([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function le(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return i=Math.min(e.date(),ne(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function ce(t){return null!=t?(le(this,t),e.updateOffset(this,!0),this):H(this,"Month")}function de(){return ne(this.year(),this.month())}function ue(e){return this._monthsParseExact?(s(this,"_monthsRegex")||he.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=co),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(e){return this._monthsParseExact?(s(this,"_monthsRegex")||he.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=uo),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function he(){function e(e,t){return t.length-e.length}var t,i,n=[],o=[],r=[];for(t=0;t<12;t++)i=c([2e3,t]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(e),o.sort(e),r.sort(e),t=0;t<12;t++)n[t]=J(n[t]),o[t]=J(o[t]);for(t=0;t<24;t++)r[t]=J(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function fe(e){return me(e)?366:365}function me(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return me(this.year())}function ye(e,t,i,n,o,r,a){var s=new Date(e,t,i,n,o,r,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function ve(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function be(e,t,i){var n=7+t-i,o=(7+ve(e,0,n).getUTCDay()-t)%7;return-o+n-1}function we(e,t,i,n,o){var r,a,s=(7+i-n)%7,l=be(e,n,o),c=1+7*(t-1)+s+l;return c<=0?(r=e-1,a=fe(r)+c):c>fe(e)?(r=e+1,a=c-fe(e)):(r=e,a=c),{year:r,dayOfYear:a}}function xe(e,t,i){var n,o,r=be(e.year(),t,i),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?(o=e.year()-1,n=a+_e(o,t,i)):a>_e(e.year(),t,i)?(n=a-_e(e.year(),t,i),o=e.year()+1):(o=e.year(),n=a),{week:n,year:o}}function _e(e,t,i){var n=be(e,t,i),o=be(e+1,t,i);return(fe(e)-n+o)/7}function ke(e){return xe(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function Se(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function De(e){var t=xe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ee(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Re(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ae(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function Oe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ie(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Me(e,t,i){var n,o,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=c([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===t?(o=bn.call(this._weekdaysParse,a),o!==-1?o:null):"ddd"===t?(o=bn.call(this._shortWeekdaysParse,a),o!==-1?o:null):(o=bn.call(this._minWeekdaysParse,a),o!==-1?o:null):"dddd"===t?(o=bn.call(this._weekdaysParse,a),o!==-1?o:(o=bn.call(this._shortWeekdaysParse,a),o!==-1?o:(o=bn.call(this._minWeekdaysParse,a),o!==-1?o:null))):"ddd"===t?(o=bn.call(this._shortWeekdaysParse,a),o!==-1?o:(o=bn.call(this._weekdaysParse,a),o!==-1?o:(o=bn.call(this._minWeekdaysParse,a),o!==-1?o:null))):(o=bn.call(this._minWeekdaysParse,a),o!==-1?o:(o=bn.call(this._weekdaysParse,a),o!==-1?o:(o=bn.call(this._shortWeekdaysParse,a),o!==-1?o:null)))}function Pe(e,t,i){var n,o,r;if(this._weekdaysParseExact)return Me.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=c([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ee(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Fe(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Re(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function $e(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=yo),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function je(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vo),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function He(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bo),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Be(){function e(e,t){return t.length-e.length}var t,i,n,o,r,a=[],s=[],l=[],d=[];for(t=0;t<7;t++)i=c([2e3,1]).day(t),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),r=this.weekdays(i,""),a.push(n),s.push(o),l.push(r),d.push(n),d.push(o),d.push(r);for(a.sort(e),s.sort(e),l.sort(e),d.sort(e),t=0;t<7;t++)s[t]=J(s[t]),l[t]=J(l[t]),d[t]=J(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ye(){return this.hours()%12||12}function ze(){return this.hours()||24}function qe(e,t){U(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ue(e,t){return t._meridiemParse}function We(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ve(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function Ge(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,i,n,o,r=0;r<e.length;){for(o=Ge(e[r]).split("-"),t=o.length,i=Ge(e[r+1]),i=i?i.split("-"):null;t>0;){if(n=Qe(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&w(o,i,!0)>=t-1)break;t--}r++}return null}function Qe(e){var t=null;if(!Co[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=wo._abbr,require("./locale/"+e),Ke(t)}catch(e){}return Co[e]}function Ke(e,t){var i;return e&&(i=f(t)?et(e):Ze(e,t),i&&(wo=i)),wo._abbr}function Ze(e,t){if(null!==t){var i=ko;return t.abbr=e,null!=Co[e]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Co[e]._config):null!=t.parentLocale&&(null!=Co[t.parentLocale]?i=Co[t.parentLocale]._config:k("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Co[e]=new D(T(i,t)),Ke(e),Co[e]}return delete Co[e],null}function Je(e,t){if(null!=t){var i,n=ko;null!=Co[e]&&(n=Co[e]._config),t=T(n,t),i=new D(t),i.parentLocale=Co[e],Co[e]=i,Ke(e)}else null!=Co[e]&&(null!=Co[e].parentLocale?Co[e]=Co[e].parentLocale:null!=Co[e]&&delete Co[e]);return Co[e]}function et(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return wo;if(!i(e)){if(t=Qe(e))return t;e=[e]}return Xe(e)}function tt(){return vn(Co)}function it(e){var t,i=e._a;return i&&u(e).overflow===-2&&(t=i[Zn]<0||i[Zn]>11?Zn:i[Jn]<1||i[Jn]>ne(i[Kn],i[Zn])?Jn:i[eo]<0||i[eo]>24||24===i[eo]&&(0!==i[to]||0!==i[io]||0!==i[no])?eo:i[to]<0||i[to]>59?to:i[io]<0||i[io]>59?io:i[no]<0||i[no]>999?no:-1,u(e)._overflowDayOfYear&&(t<Kn||t>Jn)&&(t=Jn),u(e)._overflowWeeks&&t===-1&&(t=oo),u(e)._overflowWeekday&&t===-1&&(t=ro),u(e).overflow=t),e}function nt(e){var t,i,n,o,r,a,s=e._i,l=So.exec(s)||To.exec(s);if(l){for(u(e).iso=!0,t=0,i=Eo.length;t<i;t++)if(Eo[t][1].exec(l[1])){o=Eo[t][0],n=Eo[t][2]!==!1;break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,i=Ro.length;t<i;t++)if(Ro[t][1].exec(l[3])){r=(l[2]||" ")+Ro[t][0];break}if(null==r)return void(e._isValid=!1)}if(!n&&null!=r)return void(e._isValid=!1);if(l[4]){if(!Do.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=o+(r||"")+(a||""),ct(e)}else e._isValid=!1}function ot(t){var i=Ao.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(nt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function rt(e,t,i){return null!=e?e:null!=t?t:i}function at(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function st(e){var t,i,n,o,r=[];if(!e._d){for(n=at(e),e._w&&null==e._a[Jn]&&null==e._a[Zn]&&lt(e),e._dayOfYear&&(o=rt(e._a[Kn],n[Kn]),e._dayOfYear>fe(o)&&(u(e)._overflowDayOfYear=!0),i=ve(o,0,e._dayOfYear),e._a[Zn]=i.getUTCMonth(),e._a[Jn]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=n[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[eo]&&0===e._a[to]&&0===e._a[io]&&0===e._a[no]&&(e._nextDay=!0,e._a[eo]=0),e._d=(e._useUTC?ve:ye).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[eo]=24)}}function lt(e){var t,i,n,o,r,a,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,a=4,i=rt(t.GG,e._a[Kn],xe(yt(),1,4).year),n=rt(t.W,1),o=rt(t.E,1),(o<1||o>7)&&(l=!0)):(r=e._locale._week.dow,a=e._locale._week.doy,i=rt(t.gg,e._a[Kn],xe(yt(),r,a).year),n=rt(t.w,1),null!=t.d?(o=t.d,(o<0||o>6)&&(l=!0)):null!=t.e?(o=t.e+r,(t.e<0||t.e>6)&&(l=!0)):o=r),n<1||n>_e(i,r,a)?u(e)._overflowWeeks=!0:null!=l?u(e)._overflowWeekday=!0:(s=we(i,n,o,r,a),e._a[Kn]=s.year,e._dayOfYear=s.dayOfYear)}function ct(t){if(t._f===e.ISO_8601)return void nt(t);t._a=[],u(t).empty=!0;var i,n,o,r,a,s=""+t._i,l=s.length,c=0;for(o=X(t._f,t._locale).match(En)||[],i=0;i<o.length;i++)r=o[i],n=(s.match(K(r,t))||[])[0],n&&(a=s.substr(0,s.indexOf(n)),a.length>0&&u(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),On[r]?(n?u(t).empty=!1:u(t).unusedTokens.push(r),ie(r,n,t)):t._strict&&!n&&u(t).unusedTokens.push(r);u(t).charsLeftOver=l-c,s.length>0&&u(t).unusedInput.push(s),t._a[eo]<=12&&u(t).bigHour===!0&&t._a[eo]>0&&(u(t).bigHour=void 0),u(t).parsedDateParts=t._a.slice(0),u(t).meridiem=t._meridiem,t._a[eo]=dt(t._locale,t._a[eo],t._meridiem),st(t),it(t)}function dt(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function ut(e){var t,i,n,o,r;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)r=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],ct(t),p(t)&&(r+=u(t).charsLeftOver,r+=10*u(t).unusedTokens.length,u(t).score=r,(null==n||r<n)&&(n=r,i=t));l(e,i||t)}function pt(e){if(!e._d){var t=L(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),st(e)}}function ht(e){var t=new g(it(ft(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ft(e){var t=e._i,n=e._f;return e._locale=e._locale||et(e._l),null===t||void 0===n&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new g(it(t)):(i(n)?ut(e):r(t)?e._d=t:n?ct(e):mt(e),p(e)||(e._d=null),e))}function mt(t){var n=t._i;void 0===n?t._d=new Date(e.now()):r(n)?t._d=new Date(n.valueOf()):"string"==typeof n?ot(t):i(n)?(t._a=a(n.slice(0),function(e){return parseInt(e,10)}),st(t)):"object"==typeof n?pt(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function gt(e,t,r,a,s){var l={};return"boolean"==typeof r&&(a=r,r=void 0),(n(e)&&o(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=r,l._i=e,l._f=t,l._strict=a,ht(l)}function yt(e,t,i,n){return gt(e,t,i,n,!1)}function vt(e,t){var n,o;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return yt();for(n=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](n)||(n=t[o]);return n}function bt(){var e=[].slice.call(arguments,0);return vt("isBefore",e)}function wt(){var e=[].slice.call(arguments,0);return vt("isAfter",e)}function xt(e){var t=L(e),i=t.year||0,n=t.quarter||0,o=t.month||0,r=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=et(),this._bubble()}function _t(e){return e instanceof xt}function kt(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Ct(e,t){U(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+q(~~(e/60),2)+t+q(~~e%60,2)})}function St(e,t){var i=(t||"").match(e)||[],n=i[i.length-1]||[],o=(n+"").match(Po)||["-",0,0],r=+(60*o[1])+b(o[2]);return"+"===o[0]?r:-r}function Tt(t,i){var n,o;return i._isUTC?(n=i.clone(),o=(y(t)||r(t)?t.valueOf():yt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),e.updateOffset(n,!1),n):yt(t).local()}function Dt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Et(t,i){var n,o=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=St(Wn,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&i&&(n=Dt(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==t&&(!i||this._changeInProgress?qt(this,jt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Dt(this):null!=t?this:NaN}function Rt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function At(e){return this.utcOffset(0,e)}function Ot(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Dt(this),"m")),this}function It(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=St(Un,this._i);0===e?this.utcOffset(0,!0):this.utcOffset(St(Un,this._i))}return this}function Mt(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Pt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Nt(){if(!f(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=ft(e),e._a){var t=e._isUTC?c(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lt(){return!!this.isValid()&&!this._isUTC}function Ft(){return!!this.isValid()&&this._isUTC}function $t(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function jt(e,t){var i,n,o,r=e,a=null;return _t(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(r={},t?r[t]=e:r.milliseconds=e):(a=No.exec(e))?(i="-"===a[1]?-1:1,r={y:0,d:b(a[Jn])*i,h:b(a[eo])*i,m:b(a[to])*i,s:b(a[io])*i,ms:b(kt(1e3*a[no]))*i}):(a=Lo.exec(e))?(i="-"===a[1]?-1:1,r={y:Ht(a[2],i),M:Ht(a[3],i),w:Ht(a[4],i),d:Ht(a[5],i),h:Ht(a[6],i),m:Ht(a[7],i),s:Ht(a[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=Yt(yt(r.from),yt(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),n=new xt(r),_t(e)&&s(e,"_locale")&&(n._locale=e._locale),n}function Ht(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Bt(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Yt(e,t){var i;return e.isValid()&&t.isValid()?(t=Tt(t,e),e.isBefore(t)?i=Bt(e,t):(i=Bt(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function zt(e,t){return function(i,n){var o,r;return null===n||isNaN(+n)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),i="string"==typeof i?+i:i,o=jt(i,n),qt(this,o,e),this}}function qt(t,i,n,o){var r=i._milliseconds,a=kt(i._days),s=kt(i._months);t.isValid()&&(o=null==o||o,r&&t._d.setTime(t._d.valueOf()+r*n),a&&B(t,"Date",H(t,"Date")+a*n),s&&le(t,H(t,"Month")+s*n),o&&e.updateOffset(t,a||s))}function Ut(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Wt(t,i){var n=t||yt(),o=Tt(n,this).startOf("day"),r=e.calendarFormat(this,o)||"sameElse",a=i&&(C(i[r])?i[r].call(this,n):i[r]);return this.format(a||this.localeData().calendar(r,this,yt(n)))}function Vt(){return new g(this)}function Gt(e,t){var i=y(e)?e:yt(e);return!(!this.isValid()||!i.isValid())&&(t=N(f(t)?"millisecond":t),"millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function Xt(e,t){var i=y(e)?e:yt(e);return!(!this.isValid()||!i.isValid())&&(t=N(f(t)?"millisecond":t),"millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function Qt(e,t,i,n){return n=n||"()",("("===n[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))}function Kt(e,t){var i,n=y(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=N(t||"millisecond"),"millisecond"===t?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function Zt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Jt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function ei(e,t,i){var n,o,r,a;return this.isValid()?(n=Tt(e,this),n.isValid()?(o=6e4*(n.utcOffset()-this.utcOffset()),t=N(t),"year"===t||"month"===t||"quarter"===t?(a=ti(this,n),"quarter"===t?a/=3:"year"===t&&(a/=12)):(r=this-n,a="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),i?a:v(a)):NaN):NaN}function ti(e,t){var i,n,o=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(o,"months");return t-r<0?(i=e.clone().add(o-1,"months"),n=(t-r)/(r-i)):(i=e.clone().add(o+1,"months"),n=(t-r)/(i-r)),-(o+n)||0}function ii(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ni(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():G(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function oi(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=G(this,t);return this.localeData().postformat(i)}function ri(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.from(yt(),e)}function si(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function li(e){return this.to(yt(),e)}function ci(e){var t;return void 0===e?this._locale._abbr:(t=et(e),null!=t&&(this._locale=t),this)}function di(){return this._locale}function ui(e){switch(e=N(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function pi(e){return e=N(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function hi(){return this._d.valueOf()-6e4*(this._offset||0)}function fi(){return Math.floor(this.valueOf()/1e3)}function mi(){return new Date(this.valueOf())}function gi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function yi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function vi(){return this.isValid()?this.toISOString():null}function bi(){return p(this)}function wi(){return l({},u(this))}function xi(){return u(this).overflow}function _i(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ki(e,t){U(0,[e,e.length],0,t)}function Ci(e){return Ei.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Si(e){return Ei.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ti(){return _e(this.year(),1,4)}function Di(){var e=this.localeData()._week;return _e(this.year(),e.dow,e.doy)}function Ei(e,t,i,n,o){var r;return null==e?xe(this,n,o).year:(r=_e(e,n,o),t>r&&(t=r),Ri.call(this,e,t,i,n,o))}function Ri(e,t,i,n,o){var r=we(e,t,i,n,o),a=ve(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ai(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Oi(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Ii(e,t){t[no]=b(1e3*("0."+e))}function Mi(){return this._isUTC?"UTC":"";
}function Pi(){return this._isUTC?"Coordinated Universal Time":""}function Ni(e){return yt(1e3*e)}function Li(){return yt.apply(null,arguments).parseZone()}function Fi(e){return e}function $i(e,t,i,n){var o=et(),r=c().set(n,t);return o[i](r,e)}function ji(e,t,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return $i(e,t,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=$i(e,n,i,"month");return o}function Hi(e,t,i,n){"boolean"==typeof e?("number"==typeof t&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,"number"==typeof t&&(i=t,t=void 0),t=t||"");var o=et(),r=e?o._week.dow:0;if(null!=i)return $i(t,(i+r)%7,n,"day");var a,s=[];for(a=0;a<7;a++)s[a]=$i(t,(a+r)%7,n,"day");return s}function Bi(e,t){return ji(e,t,"months")}function Yi(e,t){return ji(e,t,"monthsShort")}function zi(e,t,i){return Hi(e,t,i,"weekdays")}function qi(e,t,i){return Hi(e,t,i,"weekdaysShort")}function Ui(e,t,i){return Hi(e,t,i,"weekdaysMin")}function Wi(){var e=this._data;return this._milliseconds=Go(this._milliseconds),this._days=Go(this._days),this._months=Go(this._months),e.milliseconds=Go(e.milliseconds),e.seconds=Go(e.seconds),e.minutes=Go(e.minutes),e.hours=Go(e.hours),e.months=Go(e.months),e.years=Go(e.years),this}function Vi(e,t,i,n){var o=jt(t,i);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function Gi(e,t){return Vi(this,e,t,1)}function Xi(e,t){return Vi(this,e,t,-1)}function Qi(e){return e<0?Math.floor(e):Math.ceil(e)}function Ki(){var e,t,i,n,o,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return r>=0&&a>=0&&s>=0||r<=0&&a<=0&&s<=0||(r+=864e5*Qi(Ji(s)+a),a=0,s=0),l.milliseconds=r%1e3,e=v(r/1e3),l.seconds=e%60,t=v(e/60),l.minutes=t%60,i=v(t/60),l.hours=i%24,a+=v(i/24),o=v(Zi(a)),s+=o,a-=Qi(Ji(o)),n=v(s/12),s%=12,l.days=a,l.months=s,l.years=n,this}function Zi(e){return 4800*e/146097}function Ji(e){return 146097*e/4800}function en(e){var t,i,n=this._milliseconds;if(e=N(e),"month"===e||"year"===e)return t=this._days+n/864e5,i=this._months+Zi(t),"month"===e?i:i/12;switch(t=this._days+Math.round(Ji(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function tn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function nn(e){return function(){return this.as(e)}}function on(e){return e=N(e),this[e+"s"]()}function rn(e){return function(){return this._data[e]}}function an(){return v(this.days()/7)}function sn(e,t,i,n,o){return o.relativeTime(t||1,!!i,e,n)}function ln(e,t,i){var n=jt(e).abs(),o=dr(n.as("s")),r=dr(n.as("m")),a=dr(n.as("h")),s=dr(n.as("d")),l=dr(n.as("M")),c=dr(n.as("y")),d=o<ur.s&&["s",o]||r<=1&&["m"]||r<ur.m&&["mm",r]||a<=1&&["h"]||a<ur.h&&["hh",a]||s<=1&&["d"]||s<ur.d&&["dd",s]||l<=1&&["M"]||l<ur.M&&["MM",l]||c<=1&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=i,sn.apply(null,d)}function cn(e){return void 0===e?dr:"function"==typeof e&&(dr=e,!0)}function dn(e,t){return void 0!==ur[e]&&(void 0===t?ur[e]:(ur[e]=t,!0))}function un(e){var t=this.localeData(),i=ln(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function pn(){var e,t,i,n=pr(this._milliseconds)/1e3,o=pr(this._days),r=pr(this._months);e=v(n/60),t=v(e/60),n%=60,e%=60,i=v(r/12),r%=12;var a=i,s=r,l=o,c=t,d=e,u=n,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||d||u?"T":"")+(c?c+"H":"")+(d?d+"M":"")+(u?u+"S":""):"P0D"}var hn,fn;fn=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var mn=e.momentProperties=[],gn=!1,yn={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var vn;vn=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)s(e,t)&&i.push(t);return i};var bn,wn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},xn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},_n="Invalid date",kn="%d",Cn=/\d{1,2}/,Sn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Tn={},Dn={},En=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Rn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,An={},On={},In=/\d/,Mn=/\d\d/,Pn=/\d{3}/,Nn=/\d{4}/,Ln=/[+-]?\d{6}/,Fn=/\d\d?/,$n=/\d\d\d\d?/,jn=/\d\d\d\d\d\d?/,Hn=/\d{1,3}/,Bn=/\d{1,4}/,Yn=/[+-]?\d{1,6}/,zn=/\d+/,qn=/[+-]?\d+/,Un=/Z|[+-]\d\d:?\d\d/gi,Wn=/Z|[+-]\d\d(?::?\d\d)?/gi,Vn=/[+-]?\d+(\.\d{1,3})?/,Gn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xn={},Qn={},Kn=0,Zn=1,Jn=2,eo=3,to=4,io=5,no=6,oo=7,ro=8;bn=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),U("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),F("month",8),Q("M",Fn),Q("MM",Fn,Mn),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Zn]=b(e)-1}),ee(["MMM","MMMM"],function(e,t,i,n){var o=i._locale.monthsParse(e,n,i._strict);null!=o?t[Zn]=o:u(i).invalidMonth=e});var ao=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,so="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),lo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),co=Gn,uo=Gn;U("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),P("year","y"),F("year",1),Q("Y",qn),Q("YY",Fn,Mn),Q("YYYY",Bn,Nn),Q("YYYYY",Yn,Ln),Q("YYYYYY",Yn,Ln),ee(["YYYYY","YYYYYY"],Kn),ee("YYYY",function(t,i){i[Kn]=2===t.length?e.parseTwoDigitYear(t):b(t)}),ee("YY",function(t,i){i[Kn]=e.parseTwoDigitYear(t)}),ee("Y",function(e,t){t[Kn]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var po=j("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),F("week",5),F("isoWeek",5),Q("w",Fn),Q("ww",Fn,Mn),Q("W",Fn),Q("WW",Fn,Mn),te(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=b(e)});var ho={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),U("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),U("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),Q("d",Fn),Q("e",Fn),Q("E",Fn),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,i,n){var o=i._locale.weekdaysParse(e,n,i._strict);null!=o?t.d=o:u(i).invalidWeekday=e}),te(["d","e","E"],function(e,t,i,n){t[n]=b(e)});var fo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),go="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yo=Gn,vo=Gn,bo=Gn;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Ye),U("k",["kk",2],0,ze),U("hmm",0,0,function(){return""+Ye.apply(this)+q(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Ye.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),qe("a",!0),qe("A",!1),P("hour","h"),F("hour",13),Q("a",Ue),Q("A",Ue),Q("H",Fn),Q("h",Fn),Q("HH",Fn,Mn),Q("hh",Fn,Mn),Q("hmm",$n),Q("hmmss",jn),Q("Hmm",$n),Q("Hmmss",jn),ee(["H","HH"],eo),ee(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),ee(["h","hh"],function(e,t,i){t[eo]=b(e),u(i).bigHour=!0}),ee("hmm",function(e,t,i){var n=e.length-2;t[eo]=b(e.substr(0,n)),t[to]=b(e.substr(n)),u(i).bigHour=!0}),ee("hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[eo]=b(e.substr(0,n)),t[to]=b(e.substr(n,2)),t[io]=b(e.substr(o)),u(i).bigHour=!0}),ee("Hmm",function(e,t,i){var n=e.length-2;t[eo]=b(e.substr(0,n)),t[to]=b(e.substr(n))}),ee("Hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[eo]=b(e.substr(0,n)),t[to]=b(e.substr(n,2)),t[io]=b(e.substr(o))});var wo,xo=/[ap]\.?m?\.?/i,_o=j("Hours",!0),ko={calendar:wn,longDateFormat:xn,invalidDate:_n,ordinal:kn,ordinalParse:Cn,relativeTime:Sn,months:so,monthsShort:lo,week:ho,weekdays:fo,weekdaysMin:go,weekdaysShort:mo,meridiemParse:xo},Co={},So=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,To=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Do=/Z|[+-]\d\d(?::?\d\d)?/,Eo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ro=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ao=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=_("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Oo=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:h()}),Io=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()}),Mo=function(){return Date.now?Date.now():+new Date};Ct("Z",":"),Ct("ZZ",""),Q("Z",Wn),Q("ZZ",Wn),ee(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=St(Wn,e)});var Po=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var No=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Lo=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;jt.fn=xt.prototype;var Fo=zt(1,"add"),$o=zt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var jo=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ki("gggg","weekYear"),ki("ggggg","weekYear"),ki("GGGG","isoWeekYear"),ki("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),Q("G",qn),Q("g",qn),Q("GG",Fn,Mn),Q("gg",Fn,Mn),Q("GGGG",Bn,Nn),Q("gggg",Bn,Nn),Q("GGGGG",Yn,Ln),Q("ggggg",Yn,Ln),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=b(e)}),te(["gg","GG"],function(t,i,n,o){i[o]=e.parseTwoDigitYear(t)}),U("Q",0,"Qo","quarter"),P("quarter","Q"),F("quarter",7),Q("Q",In),ee("Q",function(e,t){t[Zn]=3*(b(e)-1)}),U("D",["DD",2],"Do","date"),P("date","D"),F("date",9),Q("D",Fn),Q("DD",Fn,Mn),Q("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ee(["D","DD"],Jn),ee("Do",function(e,t){t[Jn]=b(e.match(Fn)[0],10)});var Ho=j("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),F("dayOfYear",4),Q("DDD",Hn),Q("DDDD",Pn),ee(["DDD","DDDD"],function(e,t,i){i._dayOfYear=b(e)}),U("m",["mm",2],0,"minute"),P("minute","m"),F("minute",14),Q("m",Fn),Q("mm",Fn,Mn),ee(["m","mm"],to);var Bo=j("Minutes",!1);U("s",["ss",2],0,"second"),P("second","s"),F("second",15),Q("s",Fn),Q("ss",Fn,Mn),ee(["s","ss"],io);var Yo=j("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),F("millisecond",16),Q("S",Hn,In),Q("SS",Hn,Mn),Q("SSS",Hn,Pn);var zo;for(zo="SSSS";zo.length<=9;zo+="S")Q(zo,zn);for(zo="S";zo.length<=9;zo+="S")ee(zo,Ii);var qo=j("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var Uo=g.prototype;Uo.add=Fo,Uo.calendar=Wt,Uo.clone=Vt,Uo.diff=ei,Uo.endOf=pi,Uo.format=oi,Uo.from=ri,Uo.fromNow=ai,Uo.to=si,Uo.toNow=li,Uo.get=Y,Uo.invalidAt=xi,Uo.isAfter=Gt,Uo.isBefore=Xt,Uo.isBetween=Qt,Uo.isSame=Kt,Uo.isSameOrAfter=Zt,Uo.isSameOrBefore=Jt,Uo.isValid=bi,Uo.lang=jo,Uo.locale=ci,Uo.localeData=di,Uo.max=Io,Uo.min=Oo,Uo.parsingFlags=wi,Uo.set=z,Uo.startOf=ui,Uo.subtract=$o,Uo.toArray=gi,Uo.toObject=yi,Uo.toDate=mi,Uo.toISOString=ni,Uo.toJSON=vi,Uo.toString=ii,Uo.unix=fi,Uo.valueOf=hi,Uo.creationData=_i,Uo.year=po,Uo.isLeapYear=ge,Uo.weekYear=Ci,Uo.isoWeekYear=Si,Uo.quarter=Uo.quarters=Ai,Uo.month=ce,Uo.daysInMonth=de,Uo.week=Uo.weeks=Te,Uo.isoWeek=Uo.isoWeeks=De,Uo.weeksInYear=Di,Uo.isoWeeksInYear=Ti,Uo.date=Ho,Uo.day=Uo.days=Ne,Uo.weekday=Le,Uo.isoWeekday=Fe,Uo.dayOfYear=Oi,Uo.hour=Uo.hours=_o,Uo.minute=Uo.minutes=Bo,Uo.second=Uo.seconds=Yo,Uo.millisecond=Uo.milliseconds=qo,Uo.utcOffset=Et,Uo.utc=At,Uo.local=Ot,Uo.parseZone=It,Uo.hasAlignedHourOffset=Mt,Uo.isDST=Pt,Uo.isLocal=Lt,Uo.isUtcOffset=Ft,Uo.isUtc=$t,Uo.isUTC=$t,Uo.zoneAbbr=Mi,Uo.zoneName=Pi,Uo.dates=_("dates accessor is deprecated. Use date instead.",Ho),Uo.months=_("months accessor is deprecated. Use month instead",ce),Uo.years=_("years accessor is deprecated. Use year instead",po),Uo.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Rt),Uo.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Nt);var Wo=Uo,Vo=D.prototype;Vo.calendar=E,Vo.longDateFormat=R,Vo.invalidDate=A,Vo.ordinal=O,Vo.preparse=Fi,Vo.postformat=Fi,Vo.relativeTime=I,Vo.pastFuture=M,Vo.set=S,Vo.months=oe,Vo.monthsShort=re,Vo.monthsParse=se,Vo.monthsRegex=pe,Vo.monthsShortRegex=ue,Vo.week=ke,Vo.firstDayOfYear=Se,Vo.firstDayOfWeek=Ce,Vo.weekdays=Ae,Vo.weekdaysMin=Ie,Vo.weekdaysShort=Oe,Vo.weekdaysParse=Pe,Vo.weekdaysRegex=$e,Vo.weekdaysShortRegex=je,Vo.weekdaysMinRegex=He,Vo.isPM=We,Vo.meridiem=Ve,Ke("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),e.lang=_("moment.lang is deprecated. Use moment.locale instead.",Ke),e.langData=_("moment.langData is deprecated. Use moment.localeData instead.",et);var Go=Math.abs,Xo=nn("ms"),Qo=nn("s"),Ko=nn("m"),Zo=nn("h"),Jo=nn("d"),er=nn("w"),tr=nn("M"),ir=nn("y"),nr=rn("milliseconds"),or=rn("seconds"),rr=rn("minutes"),ar=rn("hours"),sr=rn("days"),lr=rn("months"),cr=rn("years"),dr=Math.round,ur={s:45,m:45,h:22,d:26,M:11},pr=Math.abs,hr=xt.prototype;hr.abs=Wi,hr.add=Gi,hr.subtract=Xi,hr.as=en,hr.asMilliseconds=Xo,hr.asSeconds=Qo,hr.asMinutes=Ko,hr.asHours=Zo,hr.asDays=Jo,hr.asWeeks=er,hr.asMonths=tr,hr.asYears=ir,hr.valueOf=tn,hr._bubble=Ki,hr.get=on,hr.milliseconds=nr,hr.seconds=or,hr.minutes=rr,hr.hours=ar,hr.days=sr,hr.weeks=an,hr.months=lr,hr.years=cr,hr.humanize=un,hr.toISOString=pn,hr.toString=pn,hr.toJSON=pn,hr.locale=ci,hr.localeData=di,hr.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pn),hr.lang=jo,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Q("x",qn),Q("X",Vn),ee("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,i){i._d=new Date(b(e))}),e.version="2.15.2",t(yt),e.fn=Wo,e.min=bt,e.max=wt,e.now=Mo,e.utc=c,e.unix=Ni,e.months=Bi,e.isDate=r,e.locale=Ke,e.invalid=h,e.duration=jt,e.isMoment=y,e.weekdays=zi,e.parseZone=Li,e.localeData=et,e.isDuration=_t,e.monthsShort=Yi,e.weekdaysMin=Ui,e.defineLocale=Ze,e.updateLocale=Je,e.locales=tt,e.weekdaysShort=qi,e.normalizeUnits=N,e.relativeTimeRounding=cn,e.relativeTimeThreshold=dn,e.calendarFormat=Ut,e.prototype=Wo;var fr=e;return fr}),define("moment",["moment/moment"],function(e){return e}),define("backend",["fast","moment"],function(e,t){var i={api:{sidebar:function(t){colorArr=["red","green","yellow","blue","teal","orange","purple"],$colorNums=colorArr.length,badgeList={},$.each(t,function(t,i){$url=e.api.fixurl(t),$.isArray(i)?($nums="undefined"!=typeof i[0]?i[0]:0,$color="undefined"!=typeof i[1]?i[1]:colorArr[(isNaN($nums)?$nums.length:$nums)%$colorNums],$class="undefined"!=typeof i[2]?i[2]:"label"):($nums=i,$color=colorArr[(isNaN($nums)?$nums.length:$nums)%$colorNums],$class="label"),badgeList[$url]=$nums>0?'<small class="'+$class+" pull-right bg-"+$color+'">'+$nums+"</small>":""}),$.each(badgeList,function(e,t){var i=top.window.$("li a[addtabs][url='"+e+"']");i&&(top.window.$(".pull-right-container",i).html(t),top.window.$(".nav-addtabs li a[node-id='"+i.attr("addtabs")+"'] .pull-right-container").html(t))})},addtabs:function(t,i,n){var o="a[url='{url}']",r=top.window.$(o.replace(/\{url\}/,t));if(r.size()>0)r.trigger("click");else if(t=e.api.fixurl(t),r=top.window.$(o.replace(/\{url\}/,t)),r.size()>0){var a=r.parent().hasClass("active")?"dblclick":"click";r.trigger(a)}else{var s=t.substr(0,t.indexOf("?")>-1?t.indexOf("?"):t.length);r=top.window.$(o.replace(/\{url\}/,s)),r.size()>0&&(n="undefined"!=typeof n?n:r.find("i").attr("class"),i="undefined"!=typeof i?i:r.find("span:first").text(),r.trigger("fa.event.toggleitem"));var l=top.window.$(".nav-tabs ul li a[node-url='"+t+"']");if(l.size()>0)l.trigger("click");else{var c=Math.floor((new Date).valueOf()*Math.random());n="undefined"!=typeof n?n:"fa fa-circle-o",i="undefined"!=typeof i?i:"",top.window.$("<a />").append('<i class="'+n+'"></i> <span>'+i+"</span>").prop("href",t).attr({url:t,addtabs:c}).addClass("hide").appendTo(top.window.document.body).trigger("click")}}},closetabs:function(t){if("undefined"==typeof t)top.window.$("ul.nav-addtabs li.active .close-tab").trigger("click");else{var i="a[url='{url}']",n=top.window.$(i.replace(/\{url\}/,t));if(0===n.size())if(t=e.api.fixurl(t),n=top.window.$(i.replace(/\{url\}/,t)),0===n.size());else{var o=t.substr(0,t.indexOf("?")>-1?t.indexOf("?"):t.length);n=top.window.$(i.replace(/\{url\}/,o)),0===n.size()&&(n=top.window.$(".nav-tabs ul li a[node-url='"+t+"']"))}n.size()>0&&n.attr("addtabs")&&top.window.$("ul.nav-addtabs li#tab_"+n.attr("addtabs")+" .close-tab").trigger("click")}},replaceids:function(e,t){if(t.indexOf("{ids}")>-1){var i=0,n=$(e).data("table-id");if(n&&$(n).size()>0&&$(n).data("bootstrap.table")){var o=require("table");i=o.api.selectedids($(n)).join(",")}t=t.replace(/\{ids\}/g,i)}return t},refreshmenu:function(){top.window.$(".sidebar-menu").trigger("refresh")}},init:function(){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&$("html").addClass("ios-fix"),Toastr.options.positionClass="index"===Config.controllername?"toast-top-right-index":"toast-top-right",$(document).on("click",".btn-dialog,.dialogit",function(e){var t=this,n=$.extend({},$(t).data()||{});if("undefined"!=typeof n.tableId&&"undefined"!=typeof n.fieldIndex&&"undefined"!=typeof n.buttonIndex){var o=$("#"+n.tableId).bootstrapTable("getOptions");if(o){var r=null;if($.each(o.columns,function(e,t){if($.each(t,function(e,t){if("undefined"!=typeof t.fieldIndex&&t.fieldIndex===n.fieldIndex)return r=t,!1}),r)return!1}),r){var a=r.buttons[n.buttonIndex];a&&"function"==typeof a.callback&&(n.callback=a.callback)}}}return"undefined"!=typeof n.confirm?Layer.confirm(n.confirm,function(e){i.api.open(i.api.replaceids(t,$(t).attr("href")),$(t).attr("title"),n),Layer.close(e)}):i.api.open(i.api.replaceids(t,$(t).attr("href")),$(t).attr("title"),n),!1}),$(document).on("click",".btn-addtabs,.addtabsit",function(e){var t=this,n=$.extend({},$(t).data()||{});return"undefined"!=typeof n.confirm?Layer.confirm(n.confirm,function(e){i.api.addtabs(i.api.replaceids(t,$(t).attr("href")),$(t).attr("title")),Layer.close(e)}):i.api.addtabs(i.api.replaceids(t,$(t).attr("href")),$(t).attr("title")),!1}),$(document).on("click",".btn-ajax,.ajaxit",function(e){var t=this,n=$.extend({},$(t).data()||{});"undefined"==typeof n.url&&$(t).attr("href")&&(n.url=$(t).attr("href")),n.url=i.api.replaceids(this,n.url);var o="function"==typeof n.success?n.success:null,r="function"==typeof n.error?n.error:null;if(delete n.success,delete n.error,"undefined"!=typeof n.tableId&&"undefined"!=typeof n.fieldIndex&&"undefined"!=typeof n.buttonIndex){var a=$("#"+n.tableId).bootstrapTable("getOptions");if(a){var s=null;if($.each(a.columns,function(e,t){if($.each(t,function(e,t){if("undefined"!=typeof t.fieldIndex&&t.fieldIndex===n.fieldIndex)return s=t,!1}),s)return!1}),s){var l=s.buttons[n.buttonIndex];l&&"function"==typeof l.success&&(o=l.success),l&&"function"==typeof l.error&&(r=l.error)}}}return!o&&"undefined"!=typeof n.tableId&&"undefined"!=typeof n.refresh&&n.refresh&&$("#"+n.tableId).bootstrapTable("refresh"),"undefined"!=typeof n.confirm?Layer.confirm(n.confirm,function(e){i.api.ajax(n,o,r),Layer.close(e)}):i.api.ajax(n,o,r),!1}),$(".fixed-footer").size()>0&&$(document.body).css("padding-bottom",$(".fixed-footer").outerHeight()),$(".layer-footer").size()>0&&self===top&&$(".layer-footer").show()}};return i.api=$.extend(e.api,i.api),window.Moment=t,window.Backend=i,i.init(),i}),define("backend-init",["backend"],function(e){}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define("moment/locale/zh-cn",["../moment"],t):t(e.moment)}(this,function(e){"use strict";var t=e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm分",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah点mm分",llll:"YYYY年MMMD日ddddAh点mm分"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,i){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1130?"上午":n<1230?"中午":n<1800?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var t,i;return t=e().startOf("week"),i=this.diff(t,"days")>=7?"[下]":"[本]",0===this.minutes()?i+"dddAh点整":i+"dddAh点mm"},lastWeek:function(){var t,i;return t=e().startOf("week"),i=this.unix()<t.unix()?"[上]":"[本]",0===this.minutes()?i+"dddAh点整":i+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}});return t}),!function(e){"use strict";var t=null,i=function(e){var t=arguments,i=!0,n=1;return e=e.replace(/%s/g,function(){var e=t[n++];return"undefined"==typeof e?(i=!1,""):e}),i?e:""},n=function(t,i,n,o){var r="";return e.each(t,function(e,t){return t[i]!==o||(r=t[n],!1)}),r},o=function(t,i){var n=-1;return e.each(t,function(e,t){return t.field!==i||(n=e,!1)}),n},r=function(t){var i,n,o,r=0,a=[];for(i=0;i<t[0].length;i++)r+=t[0][i].colspan||1;for(i=0;i<t.length;i++)for(a[i]=[],n=0;r>n;n++)a[i][n]=!1;for(i=0;i<t.length;i++)for(n=0;n<t[i].length;n++){var s=t[i][n],l=s.rowspan||1,c=s.colspan||1,d=e.inArray(!1,a[i]);for(1===c&&(s.fieldIndex=d,"undefined"==typeof s.field&&(s.field=d)),o=0;l>o;o++)a[i+o][d]=!0;for(o=0;c>o;o++)a[i][d+o]=!0}},a=function(){if(null===t){var i,n,o=e("<p/>").addClass("fixed-table-scroll-inner"),r=e("<div/>").addClass("fixed-table-scroll-outer");r.append(o),e("body").append(r),i=o[0].offsetWidth,r.css("overflow","scroll"),n=o[0].offsetWidth,i===n&&(n=r[0].clientWidth),r.remove(),t=i-n}return t},s=function(t,n,o,r){var a=n;if("string"==typeof n){var s=n.split(".");s.length>1?(a=window,e.each(s,function(e,t){a=a[t]})):a=window[n]}return"object"==typeof a?a:"function"==typeof a?a.apply(t,o||[]):!a&&"string"==typeof n&&i.apply(this,[n].concat(o))?i.apply(this,[n].concat(o)):r},l=function(t,i,n){var o=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(i),a="";if(n&&o.length!==r.length)return!1;for(var s=0;s<o.length;s++)if(a=o[s],e.inArray(a,r)>-1&&t[a]!==i[a])return!1;return!0},c=function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):e},d=function(e){for(var t in e){var i=t.split(/(?=[A-Z])/).join("-").toLowerCase();i!==t&&(e[i]=e[t],delete e[t])}return e},u=function(e,t,i){var n=e;if("string"!=typeof t||e.hasOwnProperty(t))return i?c(e[t]):e[t];var o=t.split(".");for(var r in o)o.hasOwnProperty(r)&&(n=n&&n[o[r]]);return i?c(n):n},p=function(){return!!(navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},h=function(){Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var r,a,s=[];for(r in o)e.call(o,r)&&s.push(r);if(t)for(a=0;n>a;a++)e.call(o,i[a])&&s.push(i[a]);return s}}())},f=function(t,i){this.options=i,this.$el=e(t),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()};f.DEFAULTS={classes:"table table-hover",sortClass:void 0,locale:void 0,height:void 0,undefinedText:"-",sortName:void 0,sortOrder:"asc",sortStable:!1,striped:!1,columns:[[]],data:[],totalField:"total",dataField:"rows",method:"get",url:void 0,ajax:void 0,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(e){return e},queryParamsType:"limit",responseHandler:function(e){return e},pagination:!1,onlyInfoPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:!1,searchOnEnterKey:!1,strictSearch:!1,searchAlign:"right",selectItemName:"btSelectItem",showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,buttonsAlign:"right",smartDisplay:!0,escape:!1,minimumCountColumns:1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(){return""},trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:void 0,toolbarAlign:"left",checkboxHeader:!0,sortable:!0,silentSort:!0,maintainSelected:!1,searchTimeOut:500,searchText:"",iconSize:void 0,buttonsClass:"default",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},customSearch:e.noop,customSort:e.noop,rowStyle:function(){return{}},rowAttributes:function(){return{}},footerStyle:function(){return{}},onAll:function(){return!1},onClickCell:function(){return!1},onDblClickCell:function(){return!1},onClickRow:function(){return!1},onDblClickRow:function(){return!1},onSort:function(){return!1},onCheck:function(){return!1},onUncheck:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onCheckSome:function(){return!1},onUncheckSome:function(){return!1},onLoadSuccess:function(){return!1},onLoadError:function(){return!1},onColumnSwitch:function(){return!1},onPageChange:function(){return!1},onSearch:function(){return!1},onToggle:function(){return!1},onPreBody:function(){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(){return!1},onCollapseRow:function(){return!1},onRefreshOptions:function(){return!1},onRefresh:function(){return!1},onResetView:function(){return!1}},f.LOCALES={},f.LOCALES["en-US"]=f.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(e){return i("%s rows per page",e)},formatShowingRows:function(e,t,n){return i("Showing %s to %s of %s rows",e,t,n)},formatDetailPagination:function(e){return i("Showing %s rows",e)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},e.extend(f.DEFAULTS,f.LOCALES["en-US"]),f.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,class:void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0,escape:!1},f.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView",
"refresh.bs.table":"onRefresh"},f.prototype.init=function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()},f.prototype.initLocale=function(){if(this.options.locale){var t=this.options.locale.split(/-|_/);t[0].toLowerCase(),t[1]&&t[1].toUpperCase(),e.fn.bootstrapTable.locales[this.options.locale]?e.extend(this.options,e.fn.bootstrapTable.locales[this.options.locale]):e.fn.bootstrapTable.locales[t.join("-")]?e.extend(this.options,e.fn.bootstrapTable.locales[t.join("-")]):e.fn.bootstrapTable.locales[t[0]]&&e.extend(this.options,e.fn.bootstrapTable.locales[t[0]])}},f.prototype.initContainer=function(){this.$container=e(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',"bottom"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join("")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.striped&&this.$el.addClass("table-striped"),-1!==e.inArray("table-no-bordered",this.options.classes.split(" "))&&this.$tableContainer.addClass("table-no-bordered")},f.prototype.initTable=function(){var t=this,i=[],n=[];if(this.$header=this.$el.find(">thead"),this.$header.length||(this.$header=e("<thead></thead>").appendTo(this.$el)),this.$header.find("tr").each(function(){var t=[];e(this).find("th").each(function(){"undefined"!=typeof e(this).data("field")&&e(this).data("field",e(this).data("field")+""),t.push(e.extend({},{title:e(this).html(),class:e(this).attr("class"),titleTooltip:e(this).attr("title"),rowspan:e(this).attr("rowspan")?+e(this).attr("rowspan"):void 0,colspan:e(this).attr("colspan")?+e(this).attr("colspan"):void 0},e(this).data()))}),i.push(t)}),e.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=e.extend(!0,[],i,this.options.columns),this.columns=[],r(this.options.columns),e.each(this.options.columns,function(i,n){e.each(n,function(n,o){o=e.extend({},f.COLUMN_DEFAULTS,o),"undefined"!=typeof o.fieldIndex&&(t.columns[o.fieldIndex]=o),t.options.columns[i][n]=o})}),!this.options.data.length){var o=[];this.$el.find(">tbody>tr").each(function(i){var r={};r._id=e(this).attr("id"),r._class=e(this).attr("class"),r._data=d(e(this).data()),e(this).find(">td").each(function(n){for(var a,s,l=e(this),c=+l.attr("colspan")||1,u=+l.attr("rowspan")||1;o[i]&&o[i][n];n++);for(a=n;n+c>a;a++)for(s=i;i+u>s;s++)o[s]||(o[s]=[]),o[s][a]=!0;var p=t.columns[n].field;r[p]=e(this).html(),r["_"+p+"_id"]=e(this).attr("id"),r["_"+p+"_class"]=e(this).attr("class"),r["_"+p+"_rowspan"]=e(this).attr("rowspan"),r["_"+p+"_colspan"]=e(this).attr("colspan"),r["_"+p+"_title"]=e(this).attr("title"),r["_"+p+"_data"]=d(e(this).data())}),n.push(r)}),this.options.data=n,n.length&&(this.fromHtml=!0)}},f.prototype.initHeader=function(){var t=this,n={},o=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},e.each(this.options.columns,function(r,a){o.push("<tr>"),0===r&&!t.options.cardView&&t.options.detailView&&o.push(i('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',t.options.columns.length)),e.each(a,function(e,r){var a="",s="",l="",d="",u=i(' class="%s"',r.class),p=(t.options.sortOrder||r.order,"px"),h=r.width;if(void 0===r.width||t.options.cardView||"string"==typeof r.width&&-1!==r.width.indexOf("%")&&(p="%"),r.width&&"string"==typeof r.width&&(h=r.width.replace("%","").replace("px","")),s=i("text-align: %s; ",r.halign?r.halign:r.align),l=i("text-align: %s; ",r.align),d=i("vertical-align: %s; ",r.valign),d+=i("width: %s; ",!r.checkbox&&!r.radio||h?h?h+p:void 0:"36px"),"undefined"!=typeof r.fieldIndex){if(t.header.fields[r.fieldIndex]=r.field,t.header.styles[r.fieldIndex]=l+d,t.header.classes[r.fieldIndex]=u,t.header.formatters[r.fieldIndex]=r.formatter,t.header.events[r.fieldIndex]=r.events,t.header.sorters[r.fieldIndex]=r.sorter,t.header.sortNames[r.fieldIndex]=r.sortName,t.header.cellStyles[r.fieldIndex]=r.cellStyle,t.header.searchables[r.fieldIndex]=r.searchable,!r.visible)return;if(t.options.cardView&&!r.cardVisible)return;n[r.field]=r}o.push("<th"+i(' title="%s"',r.titleTooltip),r.checkbox||r.radio?i(' class="bs-checkbox %s"',r.class||""):u,i(' style="%s"',s+d),i(' rowspan="%s"',r.rowspan),i(' colspan="%s"',r.colspan),i(' data-field="%s"',r.field),">"),o.push(i('<div class="th-inner %s">',t.options.sortable&&r.sortable?"sortable both":"")),a=t.options.escape?c(r.title):r.title,r.checkbox&&(!t.options.singleSelect&&t.options.checkboxHeader&&(a='<input name="btSelectAll" type="checkbox" />'),t.header.stateField=r.field),r.radio&&(a="",t.header.stateField=r.field,t.options.singleSelect=!0),o.push(a),o.push("</div>"),o.push('<div class="fht-cell"></div>'),o.push("</div>"),o.push("</th>")}),o.push("</tr>")}),this.$header.html(o.join("")),this.$header.find("th[data-field]").each(function(){e(this).data(n[e(this).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(i){var n=e(this);return(!t.options.detailView||n.closest(".bootstrap-table")[0]===t.$container[0])&&void(t.options.sortable&&n.parent().data().sortable&&t.onSort(i))}),this.$header.children().children().off("keypress").on("keypress",function(i){if(t.options.sortable&&e(this).data().sortable){var n=i.keyCode||i.which;13==n&&t.onSort(i)}}),e(window).off("resize.bootstrap-table"),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),e(window).on("resize.bootstrap-table",e.proxy(this.resetWidth,this))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",function(){var i=e(this).prop("checked");t[i?"checkAll":"uncheckAll"](),t.updateSelected()})},f.prototype.initFooter=function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()},f.prototype.initData=function(e,t){this.data="append"===t?this.data.concat(e):"prepend"===t?[].concat(e).concat(this.data):e||this.options.data,this.options.data="append"===t?this.options.data.concat(e):"prepend"===t?[].concat(e).concat(this.options.data):this.data,"server"!==this.options.sidePagination&&this.initSort()},f.prototype.initSort=function(){var t=this,n=this.options.sortName,o="desc"===this.options.sortOrder?-1:1,r=e.inArray(this.options.sortName,this.header.fields),a=0;return this.options.customSort!==e.noop?void this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]):void(-1!==r&&(this.options.sortStable&&e.each(this.data,function(e,t){t.hasOwnProperty("_position")||(t._position=e)}),this.data.sort(function(i,a){t.header.sortNames[r]&&(n=t.header.sortNames[r]);var l=u(i,n,t.options.escape),c=u(a,n,t.options.escape),d=s(t.header,t.header.sorters[r],[l,c]);return void 0!==d?o*d:((void 0===l||null===l)&&(l=""),(void 0===c||null===c)&&(c=""),t.options.sortStable&&l===c&&(l=i._position,c=a._position),e.isNumeric(l)&&e.isNumeric(c)?(l=parseFloat(l),c=parseFloat(c),c>l?-1*o:o):l===c?0:("string"!=typeof l&&(l=l.toString()),-1===l.localeCompare(c)?-1*o:o))}),void 0!==this.options.sortClass&&(clearTimeout(a),a=setTimeout(function(){t.$el.removeClass(t.options.sortClass);var e=t.$header.find(i('[data-field="%s"]',t.options.sortName).index()+1);t.$el.find(i("tr td:nth-child(%s)",e)).addClass(t.options.sortClass)},250))))},f.prototype.onSort=function(t){var i="keypress"===t.type?e(t.currentTarget):e(t.currentTarget).parent(),n=this.$header.find("th").eq(i.index());return this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===i.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=i.data("field"),this.options.sortOrder="asc"===i.data("order")?"desc":"asc"),this.trigger("sort",this.options.sortName,this.options.sortOrder),i.add(n).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination?void this.initServer(this.options.silentSort):(this.initSort(),void this.initBody())},f.prototype.initToolbar=function(){var t,n,o=this,r=[],a=0,l=0;this.$toolbar.find(".bs-bars").children().length&&e("body").append(e(this.options.toolbar)),this.$toolbar.html(""),("string"==typeof this.options.toolbar||"object"==typeof this.options.toolbar)&&e(i('<div class="bs-bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(e(this.options.toolbar)),r=[i('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=s(null,this.options.icons)),this.options.showPaginationSwitch&&r.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" aria-label="pagination Switch" title="%s">',this.options.formatPaginationSwitch()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showRefresh&&r.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" aria-label="refresh" title="%s">',this.options.formatRefresh()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&r.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" aria-label="toggle" title="%s">',this.options.formatToggle()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>"),this.options.showColumns&&(r.push(i('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" aria-label="columns" class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'),e.each(this.columns,function(e,t){if(!(t.radio||t.checkbox||o.options.cardView&&!t.cardVisible)){var n=t.visible?' checked="checked"':"";t.switchable&&(r.push(i('<li role="menuitem"><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',t.field,e,n,t.title)),l++)}}),r.push("</ul>","</div>")),r.push("</div>"),(this.showToolbar||r.length>2)&&this.$toolbar.append(r.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",e.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",e.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){o.toggleView()}),this.options.showColumns&&(t=this.$toolbar.find(".keep-open"),l<=this.options.minimumCountColumns&&t.find("input").prop("disabled",!0),t.find("li").off("click").on("click",function(e){e.stopImmediatePropagation()}),t.find("input").off("click").on("click",function(){var t=e(this);o.toggleColumn(e(this).val(),t.prop("checked"),!1),o.trigger("column-switch",e(this).data("field"),t.prop("checked"))})),this.options.search&&(r=[],r.push('<div class="pull-'+this.options.searchAlign+' search">',i('<input class="form-control'+i(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>"),this.$toolbar.append(r.join("")),n=this.$toolbar.find(".search input"),n.off("keyup drop blur").on("keyup drop blur",function(t){o.options.searchOnEnterKey&&13!==t.keyCode||e.inArray(t.keyCode,[37,38,39,40])>-1||(clearTimeout(a),a=setTimeout(function(){o.onSearch(t)},o.options.searchTimeOut))}),p()&&n.off("mouseup").on("mouseup",function(e){clearTimeout(a),a=setTimeout(function(){o.onSearch(e)},o.options.searchTimeOut)}))},f.prototype.onSearch=function(t){var i=e.trim(e(t.currentTarget).val());this.options.trimOnSearch&&e(t.currentTarget).val()!==i&&e(t.currentTarget).val(i),i!==this.searchText&&(this.searchText=i,this.options.searchText=i,this.options.pageNumber=1,this.initSearch(),this.updatePagination(),this.trigger("search",i))},f.prototype.initSearch=function(){var t=this;if("server"!==this.options.sidePagination){if(this.options.customSearch!==e.noop)return void this.options.customSearch.apply(this,[this.searchText]);var i=this.searchText&&(this.options.escape?c(this.searchText):this.searchText).toLowerCase(),n=e.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=n?e.grep(this.options.data,function(t){for(var i in n)if(e.isArray(n[i])&&-1===e.inArray(t[i],n[i])||!e.isArray(n[i])&&t[i]!==n[i])return!1;return!0}):this.options.data,this.data=i?e.grep(this.data,function(n,r){for(var a=0;a<t.header.fields.length;a++)if(t.header.searchables[a]){var l,c=e.isNumeric(t.header.fields[a])?parseInt(t.header.fields[a],10):t.header.fields[a],d=t.columns[o(t.columns,c)];if("string"==typeof c){l=n;for(var u=c.split("."),p=0;p<u.length;p++)l=l[u[p]];d&&d.searchFormatter&&(l=s(d,t.header.formatters[a],[l,n,r],l))}else l=n[c];if("string"==typeof l||"number"==typeof l)if(t.options.strictSearch){if((l+"").toLowerCase()===i)return!0}else if(-1!==(l+"").toLowerCase().indexOf(i))return!0}return!1}):this.data}},f.prototype.initPagination=function(){if(!this.options.pagination)return void this.$pagination.hide();this.$pagination.show();var t,n,o,r,a,s,l,c,d,u=this,p=[],h=!1,f=this.getData(),m=this.options.pageList;if("server"!==this.options.sidePagination&&(this.options.totalRows=f.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows())this.options.pageSize=this.options.totalRows,h=!0;else if(this.options.pageSize===this.options.totalRows){var g="string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;e.inArray(this.options.formatAllRows().toLowerCase(),g)>-1&&(h=!0)}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),p.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),!this.options.onlyInfoPagination){p.push('<span class="page-list">');var y=[i('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',h?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'];if("string"==typeof this.options.pageList){var v=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");m=[],e.each(v,function(e,t){m.push(t.toUpperCase()===u.options.formatAllRows().toUpperCase()?u.options.formatAllRows():+t)})}for(e.each(m,function(e,t){if(!u.options.smartDisplay||0===e||m[e-1]<u.options.totalRows){var n;n=h?t===u.options.formatAllRows()?' class="active"':"":t===u.options.pageSize?' class="active"':"",y.push(i('<li role="menuitem"%s><a href="#">%s</a></li>',n,t))}}),y.push("</ul></span>"),p.push(this.options.formatRecordsPerPage(y.join(""))),p.push("</span>"),p.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+i(" pagination-%s",this.options.iconSize)+'">','<li class="page-pre"><a href="#">'+this.options.paginationPreText+"</a></li>"),this.totalPages<5?(n=1,o=this.totalPages):(n=this.options.pageNumber-2,o=n+4,1>n&&(n=1,o=5),o>this.totalPages&&(o=this.totalPages,n=o-4)),this.totalPages>=6&&(this.options.pageNumber>=3&&(p.push('<li class="page-first'+(1===this.options.pageNumber?" active":"")+'">','<a href="#">',1,"</a>","</li>"),n++),this.options.pageNumber>=4&&(4==this.options.pageNumber||6==this.totalPages||7==this.totalPages?n--:p.push('<li class="page-first-separator disabled">','<a href="#">...</a>',"</li>"),o--)),this.totalPages>=7&&this.options.pageNumber>=this.totalPages-2&&n--,6==this.totalPages?this.options.pageNumber>=this.totalPages-2&&o++:this.totalPages>=7&&(7==this.totalPages||this.options.pageNumber>=this.totalPages-3)&&o++,t=n;o>=t;t++)p.push('<li class="page-number'+(t===this.options.pageNumber?" active":"")+'">','<a href="#">',t,"</a>","</li>");this.totalPages>=8&&this.options.pageNumber<=this.totalPages-4&&p.push('<li class="page-last-separator disabled">','<a href="#">...</a>',"</li>"),this.totalPages>=6&&this.options.pageNumber<=this.totalPages-3&&p.push('<li class="page-last'+(this.totalPages===this.options.pageNumber?" active":"")+'">','<a href="#">',this.totalPages,"</a>","</li>"),p.push('<li class="page-next"><a href="#">'+this.options.paginationNextText+"</a></li>","</ul>","</div>")}this.$pagination.html(p.join("")),this.options.onlyInfoPagination||(r=this.$pagination.find(".page-list a"),a=this.$pagination.find(".page-first"),s=this.$pagination.find(".page-pre"),l=this.$pagination.find(".page-next"),c=this.$pagination.find(".page-last"),d=this.$pagination.find(".page-number"),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(m.length<2||this.options.totalRows<=m[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),this.options.paginationLoop||(1===this.options.pageNumber&&s.addClass("disabled"),this.options.pageNumber===this.totalPages&&l.addClass("disabled")),h&&(this.options.pageSize=this.options.formatAllRows()),r.off("click").on("click",e.proxy(this.onPageListChange,this)),a.off("click").on("click",e.proxy(this.onPageFirst,this)),s.off("click").on("click",e.proxy(this.onPagePre,this)),l.off("click").on("click",e.proxy(this.onPageNext,this)),c.off("click").on("click",e.proxy(this.onPageLast,this)),d.off("click").on("click",e.proxy(this.onPageNumber,this)))},f.prototype.updatePagination=function(t){t&&e(t.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))},f.prototype.onPageListChange=function(t){var i=e(t.currentTarget);return i.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=i.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+i.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(t),!1},f.prototype.onPageFirst=function(e){return this.options.pageNumber=1,this.updatePagination(e),!1},f.prototype.onPagePre=function(e){return this.options.pageNumber-1===0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(e),!1},f.prototype.onPageNext=function(e){return this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(e),!1},f.prototype.onPageLast=function(e){return this.options.pageNumber=this.totalPages,this.updatePagination(e),!1},f.prototype.onPageNumber=function(t){return this.options.pageNumber!==+e(t.currentTarget).text()?(this.options.pageNumber=+e(t.currentTarget).text(),this.updatePagination(t),!1):void 0},f.prototype.initRow=function(t,o){var r,a=this,l=[],d={},p=[],h="",f={},m=[];if(!(e.inArray(t,this.hiddenRows)>-1)){if(d=s(this.options,this.options.rowStyle,[t,o],d),d&&d.css)for(r in d.css)p.push(r+": "+d.css[r]);if(f=s(this.options,this.options.rowAttributes,[t,o],f))for(r in f)m.push(i('%s="%s"',r,c(f[r])));return t._data&&!e.isEmptyObject(t._data)&&e.each(t._data,function(e,t){"index"!==e&&(h+=i(' data-%s="%s"',e,t))}),l.push("<tr",i(" %s",m.join(" ")),i(' id="%s"',e.isArray(t)?void 0:t._id),i(' class="%s"',d.classes||(e.isArray(t)?void 0:t._class)),i(' data-index="%s"',o),i(' data-uniqueid="%s"',t[this.options.uniqueId]),i("%s",h),">"),this.options.cardView&&l.push(i('<td colspan="%s"><div class="card-views">',this.header.fields.length)),!this.options.cardView&&this.options.detailView&&l.push("<td>",'<a class="detail-icon" href="#">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>"),e.each(this.header.fields,function(r,h){var f="",m=u(t,h,a.options.escape),g="",y="",v={},b="",w=a.header.classes[r],x="",_="",k="",C="",S=a.columns[r];if(!(a.fromHtml&&"undefined"==typeof m||!S.visible||a.options.cardView&&!S.cardVisible)){if(S.escape&&(m=c(m)),d=i('style="%s"',p.concat(a.header.styles[r]).join("; ")),t["_"+h+"_id"]&&(b=i(' id="%s"',t["_"+h+"_id"])),t["_"+h+"_class"]&&(w=i(' class="%s"',t["_"+h+"_class"])),t["_"+h+"_rowspan"]&&(_=i(' rowspan="%s"',t["_"+h+"_rowspan"])),t["_"+h+"_colspan"]&&(k=i(' colspan="%s"',t["_"+h+"_colspan"])),t["_"+h+"_title"]&&(C=i(' title="%s"',t["_"+h+"_title"])),v=s(a.header,a.header.cellStyles[r],[m,t,o,h],v),v.classes&&(w=i(' class="%s"',v.classes)),v.css){var T=[];for(var D in v.css)T.push(D+": "+v.css[D]);d=i('style="%s"',T.concat(a.header.styles[r]).join("; "))}g=s(S,a.header.formatters[r],[m,t,o],m),t["_"+h+"_data"]&&!e.isEmptyObject(t["_"+h+"_data"])&&e.each(t["_"+h+"_data"],function(e,t){"index"!==e&&(x+=i(' data-%s="%s"',e,t))}),S.checkbox||S.radio?(y=S.checkbox?"checkbox":y,y=S.radio?"radio":y,f=[i(a.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',S.class||""),"<input"+i(' data-index="%s"',o)+i(' name="%s"',a.options.selectItemName)+i(' type="%s"',y)+i(' value="%s"',t[a.options.idField])+i(' checked="%s"',g===!0||m||g&&g.checked?"checked":void 0)+i(' disabled="%s"',!S.checkboxEnabled||g&&g.disabled?"disabled":void 0)+" />",a.header.formatters[r]&&"string"==typeof g?g:"",a.options.cardView?"</div>":"</td>"].join(""),t[a.header.stateField]=g===!0||g&&g.checked):(g="undefined"==typeof g||null===g?a.options.undefinedText:g,f=a.options.cardView?['<div class="card-view">',a.options.showHeader?i('<span class="title" %s>%s</span>',d,n(a.columns,"field","title",h)):"",i('<span class="value">%s</span>',g),"</div>"].join(""):[i("<td%s %s %s %s %s %s %s>",b,w,d,x,_,k,C),g,"</td>"].join(""),a.options.cardView&&a.options.smartDisplay&&""===g&&(f='<div class="card-view"></div>')),l.push(f)}}),this.options.cardView&&l.push("</div></td>"),l.push("</tr>"),l.join(" ")}},f.prototype.initBody=function(t){var n=this,r=this.getData();this.trigger("pre-body",r),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=e("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=r.length);for(var a,l=e(document.createDocumentFragment()),c=this.pageFrom-1;c<this.pageTo;c++){var d=r[c],p=this.initRow(d,c,r,l);a=a||!!p,p&&p!==!0&&l.append(p)}a||l.append('<tr class="no-records-found">'+i('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches())+"</tr>"),this.$body.html(l),t||this.scrollTo(0),this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(t){var r=e(this),a=r.parent(),s=n.data[a.data("index")],l=r[0].cellIndex,c=n.getVisibleFields(),d=c[n.options.detailView&&!n.options.cardView?l-1:l],p=n.columns[o(n.columns,d)],h=u(s,d,n.options.escape);if(!r.find(".detail-icon").length&&(n.trigger("click"===t.type?"click-cell":"dbl-click-cell",d,h,s,r),n.trigger("click"===t.type?"click-row":"dbl-click-row",s,a,d),"click"===t.type&&n.options.clickToSelect&&p.clickToSelect)){var f=a.find(i('[name="%s"]',n.options.selectItemName));f.length&&f[0].click()}}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var t=e(this),o=t.parent().parent(),a=o.data("index"),l=r[a];if(o.next().is("tr.detail-view"))t.find("i").attr("class",i("%s %s",n.options.iconsPrefix,n.options.icons.detailOpen)),n.trigger("collapse-row",a,l),o.next().remove();else{t.find("i").attr("class",i("%s %s",n.options.iconsPrefix,n.options.icons.detailClose)),o.after(i('<tr class="detail-view"><td colspan="%s"></td></tr>',o.find("td").length));var c=o.next().find("td"),d=s(n.options,n.options.detailFormatter,[a,l,c],"");1===c.length&&c.append(d),n.trigger("expand-row",a,l,c)}return n.resetView(),!1}),this.$selectItem=this.$body.find(i('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(t){t.stopImmediatePropagation();var i=e(this),o=i.prop("checked"),r=n.data[i.data("index")];n.options.maintainSelected&&e(this).is(":radio")&&e.each(n.options.data,function(e,t){t[n.header.stateField]=!1}),r[n.header.stateField]=o,n.options.singleSelect&&(n.$selectItem.not(this).each(function(){n.data[e(this).data("index")][n.header.stateField]=!1}),n.$selectItem.filter(":checked").not(this).prop("checked",!1)),n.updateSelected(),n.trigger(o?"check":"uncheck",r,i)}),e.each(this.header.events,function(t,i){if(i){"string"==typeof i&&(i=s(null,i));var o=n.header.fields[t],r=e.inArray(o,n.getVisibleFields());n.options.detailView&&!n.options.cardView&&(r+=1);for(var a in i)n.$body.find(">tr:not(.no-records-found)").each(function(){var t=e(this),s=t.find(n.options.cardView?".card-view":"td").eq(r),l=a.indexOf(" "),c=a.substring(0,l),d=a.substring(l+1),u=i[a];s.find(d).off(c).on(c,function(e){var i=t.data("index"),r=n.data[i],a=r[o];u.apply(this,[e,a,r,i])})})}}),this.updateSelected(),this.resetView(),this.trigger("post-body",r)},f.prototype.initServer=function(t,i,n){var o,r=this,a={},l={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};this.options.pagination&&(l.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,l.pageNumber=this.options.pageNumber),(n||this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(l={search:l.searchText,sort:l.sortName,order:l.sortOrder},this.options.pagination&&(l.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),l.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize)),e.isEmptyObject(this.filterColumnsPartial)||(l.filter=JSON.stringify(this.filterColumnsPartial,null)),a=s(this.options,this.options.queryParams,[l],a),e.extend(a,i||{}),a!==!1&&(t||this.$tableLoading.show(),o=e.extend({},s(null,this.options.ajaxOptions),{type:this.options.method,url:n||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(a):a,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(e){e=s(r.options,r.options.responseHandler,[e],e),r.load(e),r.trigger("load-success",e),t||r.$tableLoading.hide()},error:function(e){r.trigger("load-error",e.status,e),t||r.$tableLoading.hide()}}),this.options.ajax?s(this,this.options.ajax,[o],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=e.ajax(o))))},f.prototype.initSearchText=function(){if(this.options.search&&""!==this.options.searchText){var e=this.$toolbar.find(".search input");e.val(this.options.searchText),this.onSearch({currentTarget:e})}},f.prototype.getCaret=function(){var t=this;e.each(this.$header.find("th"),function(i,n){e(n).find(".sortable").removeClass("desc asc").addClass(e(n).data("field")===t.options.sortName?t.options.sortOrder:"both")})},f.prototype.updateSelected=function(){var t=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.each(function(){e(this).closest("tr")[e(this).prop("checked")?"addClass":"removeClass"]("selected")})},f.prototype.updateRows=function(){var t=this;this.$selectItem.each(function(){t.data[e(this).data("index")][t.header.stateField]=e(this).prop("checked")})},f.prototype.resetRows=function(){var t=this;e.each(this.data,function(e,i){t.$selectAll.prop("checked",!1),t.$selectItem.prop("checked",!1),t.header.stateField&&(i[t.header.stateField]=!1)}),this.initHiddenRows()},f.prototype.trigger=function(t){var i=Array.prototype.slice.call(arguments,1);t+=".bs.table",this.options[f.EVENTS[t]].apply(this.options,i),this.$el.trigger(e.Event(t),i),this.options.onAll(t,i),this.$el.trigger(e.Event("all.bs.table"),[t,i])},f.prototype.resetHeader=function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(e.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)},f.prototype.fitHeader=function(){var t,n,o,r,s=this;if(s.$el.is(":hidden"))return void(s.timeoutId_=setTimeout(e.proxy(s.fitHeader,s),100));if(t=this.$tableBody.get(0),n=t.scrollWidth>t.clientWidth&&t.scrollHeight>t.clientHeight+this.$header.outerHeight()?a():0,this.$el.css("margin-top",-this.$header.outerHeight()),o=e(":focus"),o.length>0){var l=o.parents("th");if(l.length>0){var c=l.attr("data-field");if(void 0!==c){var d=this.$header.find("[data-field='"+c+"']");d.length>0&&d.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":n}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),r=e(".focus-temp:visible:eq(0)"),r.length>0&&(r.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(){s.$header_.find(i('th[data-field="%s"]',e(this).data("field"))).data(e(this).data())});var u=this.getVisibleFields(),p=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(t){var n=e(this),o=t;s.options.detailView&&!s.options.cardView&&(0===t&&s.$header_.find("th.detail").find(".fht-cell").width(n.innerWidth()),o=t-1);var r=s.$header_.find(i('th[data-field="%s"]',u[o]));r.length>1&&(r=e(p[n[0].cellIndex])),r.find(".fht-cell").width(n.innerWidth())}),this.$tableBody.off("scroll").on("scroll",function(){s.$tableHeader.scrollLeft(e(this).scrollLeft()),s.options.showFooter&&!s.options.cardView&&s.$tableFooter.scrollLeft(e(this).scrollLeft());
}),s.trigger("post-header")},f.prototype.resetFooter=function(){var t=this,n=t.getData(),o=[];this.options.showFooter&&!this.options.cardView&&(!this.options.cardView&&this.options.detailView&&o.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>'),e.each(this.columns,function(e,r){var a,l="",c="",d=[],u={},p=i(' class="%s"',r.class);if(r.visible&&(!t.options.cardView||r.cardVisible)){if(l=i("text-align: %s; ",r.falign?r.falign:r.align),c=i("vertical-align: %s; ",r.valign),u=s(null,t.options.footerStyle),u&&u.css)for(a in u.css)d.push(a+": "+u.css[a]);o.push("<td",p,i(' style="%s"',l+c+d.concat().join("; ")),">"),o.push('<div class="th-inner">'),o.push(s(r,r.footerFormatter,[n],"&nbsp;")||"&nbsp;"),o.push("</div>"),o.push('<div class="fht-cell"></div>'),o.push("</div>"),o.push("</td>")}}),this.$tableFooter.find("tr").html(o.join("")),this.$tableFooter.show(),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0))},f.prototype.fitFooter=function(){var t,i,n;return clearTimeout(this.timeoutFooter_),this.$el.is(":hidden")?void(this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),100)):(i=this.$el.css("width"),n=i>this.$tableBody.width()?a():0,this.$tableFooter.css({"margin-right":n}).find("table").css("width",i).attr("class",this.$el.attr("class")),t=this.$tableFooter.find("td"),void this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(i){var n=e(this);t.eq(i).find(".fht-cell").width(n.innerWidth())}))},f.prototype.toggleColumn=function(e,t,n){if(-1!==e&&(this.columns[e].visible=t,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var o=this.$toolbar.find(".keep-open input").prop("disabled",!1);n&&o.filter(i('[value="%s"]',e)).prop("checked",t),o.filter(":checked").length<=this.options.minimumCountColumns&&o.filter(":checked").prop("disabled",!0)}},f.prototype.getVisibleFields=function(){var t=this,i=[];return e.each(this.header.fields,function(e,n){var r=t.columns[o(t.columns,n)];r.visible&&i.push(n)}),i},f.prototype.resetView=function(e){var t=0;if(e&&e.height&&(this.options.height=e.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.height){var i=this.$toolbar.outerHeight(!0),n=this.$pagination.outerHeight(!0),o=this.options.height-i-n;this.$tableContainer.css("height",o+"px")}return this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),void this.$tableFooter.hide()):(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),t+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(t+=this.$tableFooter.outerHeight()+1)),this.getCaret(),this.$tableContainer.css("padding-bottom",t+"px"),void this.trigger("reset-view"))},f.prototype.getData=function(t){return!this.searchText&&e.isEmptyObject(this.filterColumns)&&e.isEmptyObject(this.filterColumnsPartial)?t?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data:t?this.data.slice(this.pageFrom-1,this.pageTo):this.data},f.prototype.load=function(t){var i=!1;"server"===this.options.sidePagination?(this.options.totalRows=t[this.options.totalField],i=t.fixedScroll,t=t[this.options.dataField]):e.isArray(t)||(i=t.fixedScroll,t=t.data),this.initData(t),this.initSearch(),this.initPagination(),this.initBody(i)},f.prototype.append=function(e){this.initData(e,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},f.prototype.prepend=function(e){this.initData(e,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},f.prototype.remove=function(t){var i,n,o=this.options.data.length;if(t.hasOwnProperty("field")&&t.hasOwnProperty("values")){for(i=o-1;i>=0;i--)n=this.options.data[i],n.hasOwnProperty(t.field)&&-1!==e.inArray(n[t.field],t.values)&&(this.options.data.splice(i,1),"server"===this.options.sidePagination&&(this.options.totalRows-=1));o!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},f.prototype.removeAll=function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))},f.prototype.getRowByUniqueId=function(e){var t,i,n,o=this.options.uniqueId,r=this.options.data.length,a=null;for(t=r-1;t>=0;t--){if(i=this.options.data[t],i.hasOwnProperty(o))n=i[o];else{if(!i._data.hasOwnProperty(o))continue;n=i._data[o]}if("string"==typeof n?e=e.toString():"number"==typeof n&&(Number(n)===n&&n%1===0?e=parseInt(e):n===Number(n)&&0!==n&&(e=parseFloat(e))),n===e){a=i;break}}return a},f.prototype.removeByUniqueId=function(e){var t=this.options.data.length,i=this.getRowByUniqueId(e);i&&this.options.data.splice(this.options.data.indexOf(i),1),t!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))},f.prototype.updateByUniqueId=function(t){var i=this,n=e.isArray(t)?t:[t];e.each(n,function(t,n){var o;n.hasOwnProperty("id")&&n.hasOwnProperty("row")&&(o=e.inArray(i.getRowByUniqueId(n.id),i.options.data),-1!==o&&e.extend(i.options.data[o],n.row))}),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},f.prototype.insertRow=function(e){e.hasOwnProperty("index")&&e.hasOwnProperty("row")&&(this.data.splice(e.index,0,e.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))},f.prototype.updateRow=function(t){var i=this,n=e.isArray(t)?t:[t];e.each(n,function(t,n){n.hasOwnProperty("index")&&n.hasOwnProperty("row")&&e.extend(i.options.data[n.index],n.row)}),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},f.prototype.initHiddenRows=function(){this.hiddenRows=[]},f.prototype.showRow=function(e){this.toggleRow(e,!0)},f.prototype.hideRow=function(e){this.toggleRow(e,!1)},f.prototype.toggleRow=function(t,i){var n,o;t.hasOwnProperty("index")?n=this.getData()[t.index]:t.hasOwnProperty("uniqueId")&&(n=this.getRowByUniqueId(t.uniqueId)),n&&(o=e.inArray(n,this.hiddenRows),i||-1!==o?i&&o>-1&&this.hiddenRows.splice(o,1):this.hiddenRows.push(n),this.initBody(!0))},f.prototype.getHiddenRows=function(){var t=this,i=this.getData(),n=[];return e.each(i,function(i,o){e.inArray(o,t.hiddenRows)>-1&&n.push(o)}),this.hiddenRows=n,n},f.prototype.mergeCells=function(t){var i,n,o,r=t.index,a=e.inArray(t.field,this.getVisibleFields()),s=t.rowspan||1,l=t.colspan||1,c=this.$body.find(">tr");if(this.options.detailView&&!this.options.cardView&&(a+=1),o=c.eq(r).find(">td").eq(a),!(0>r||0>a||r>=this.data.length)){for(i=r;r+s>i;i++)for(n=a;a+l>n;n++)c.eq(i).find(">td").eq(n).hide();o.attr("rowspan",s).attr("colspan",l).show()}},f.prototype.updateCell=function(e){e.hasOwnProperty("index")&&e.hasOwnProperty("field")&&e.hasOwnProperty("value")&&(this.data[e.index][e.field]=e.value,e.reinit!==!1&&(this.initSort(),this.initBody(!0)))},f.prototype.getOptions=function(){return this.options},f.prototype.getSelections=function(){var t=this;return e.grep(this.options.data,function(e){return e[t.header.stateField]===!0})},f.prototype.getAllSelections=function(){var t=this;return e.grep(this.options.data,function(e){return e[t.header.stateField]})},f.prototype.checkAll=function(){this.checkAll_(!0)},f.prototype.uncheckAll=function(){this.checkAll_(!1)},f.prototype.checkInvert=function(){var t=this,i=t.$selectItem.filter(":enabled"),n=i.filter(":checked");i.each(function(){e(this).prop("checked",!e(this).prop("checked"))}),t.updateRows(),t.updateSelected(),t.trigger("uncheck-some",n),n=t.getSelections(),t.trigger("check-some",n)},f.prototype.checkAll_=function(e){var t;e||(t=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop("checked",e),this.$selectItem.filter(":enabled").prop("checked",e),this.updateRows(),e&&(t=this.getSelections()),this.trigger(e?"check-all":"uncheck-all",t)},f.prototype.check=function(e){this.check_(!0,e)},f.prototype.uncheck=function(e){this.check_(!1,e)},f.prototype.check_=function(e,t){var n=this.$selectItem.filter(i('[data-index="%s"]',t)).prop("checked",e);this.data[t][this.header.stateField]=e,this.updateSelected(),this.trigger(e?"check":"uncheck",this.data[t],n)},f.prototype.checkBy=function(e){this.checkBy_(!0,e)},f.prototype.uncheckBy=function(e){this.checkBy_(!1,e)},f.prototype.checkBy_=function(t,n){if(n.hasOwnProperty("field")&&n.hasOwnProperty("values")){var o=this,r=[];e.each(this.options.data,function(a,s){if(!s.hasOwnProperty(n.field))return!1;if(-1!==e.inArray(s[n.field],n.values)){var l=o.$selectItem.filter(":enabled").filter(i('[data-index="%s"]',a)).prop("checked",t);s[o.header.stateField]=t,r.push(s),o.trigger(t?"check":"uncheck",s,l)}}),this.updateSelected(),this.trigger(t?"check-some":"uncheck-some",r)}},f.prototype.destroy=function(){this.$el.insertBefore(this.$container),e(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")},f.prototype.showLoading=function(){this.$tableLoading.show()},f.prototype.hideLoading=function(){this.$tableLoading.hide()},f.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var e=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp),this.updatePagination()},f.prototype.refresh=function(e){e&&e.url&&(this.options.url=e.url),e&&e.pageNumber&&(this.options.pageNumber=e.pageNumber),e&&e.pageSize&&(this.options.pageSize=e.pageSize),this.initServer(e&&e.silent,e&&e.query,e&&e.url),this.trigger("refresh",e)},f.prototype.resetWidth=function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&this.fitFooter()},f.prototype.showColumn=function(e){this.toggleColumn(o(this.columns,e),!0,!0)},f.prototype.hideColumn=function(e){this.toggleColumn(o(this.columns,e),!1,!0)},f.prototype.getHiddenColumns=function(){return e.grep(this.columns,function(e){return!e.visible})},f.prototype.getVisibleColumns=function(){return e.grep(this.columns,function(e){return e.visible})},f.prototype.toggleAllColumns=function(t){if(e.each(this.columns,function(e){this.columns[e].visible=t}),this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var i=this.$toolbar.find(".keep-open input").prop("disabled",!1);i.filter(":checked").length<=this.options.minimumCountColumns&&i.filter(":checked").prop("disabled",!0)}},f.prototype.showAllColumns=function(){this.toggleAllColumns(!0)},f.prototype.hideAllColumns=function(){this.toggleAllColumns(!1)},f.prototype.filterBy=function(t){this.filterColumns=e.isEmptyObject(t)?{}:t,this.options.pageNumber=1,this.initSearch(),this.updatePagination()},f.prototype.scrollTo=function(e){return"string"==typeof e&&(e="bottom"===e?this.$tableBody[0].scrollHeight:0),"number"==typeof e&&this.$tableBody.scrollTop(e),"undefined"==typeof e?this.$tableBody.scrollTop():void 0},f.prototype.getScrollPosition=function(){return this.scrollTo()},f.prototype.selectPage=function(e){e>0&&e<=this.options.totalPages&&(this.options.pageNumber=e,this.updatePagination())},f.prototype.prevPage=function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())},f.prototype.nextPage=function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())},f.prototype.toggleView=function(){this.options.cardView=!this.options.cardView,this.initHeader(),this.initBody(),this.trigger("toggle",this.options.cardView)},f.prototype.refreshOptions=function(t){l(this.options,t,!0)||(this.options=e.extend(this.options,t),this.trigger("refresh-options",this.options),this.destroy(),this.init())},f.prototype.resetSearch=function(e){var t=this.$toolbar.find(".search input");t.val(e||""),this.onSearch({currentTarget:t})},f.prototype.expandRow_=function(e,t){var n=this.$body.find(i('> tr[data-index="%s"]',t));n.next().is("tr.detail-view")===!e&&n.find("> td > .detail-icon").click()},f.prototype.expandRow=function(e){this.expandRow_(!0,e)},f.prototype.collapseRow=function(e){this.expandRow_(!1,e)},f.prototype.expandAllRows=function(t){if(t){var n=this.$body.find(i('> tr[data-index="%s"]',0)),o=this,r=null,a=!1,s=-1;if(n.next().is("tr.detail-view")?n.next().next().is("tr.detail-view")||(n.next().find(".detail-icon").click(),a=!0):(n.find("> td > .detail-icon").click(),a=!0),a)try{s=setInterval(function(){r=o.$body.find("tr.detail-view").last().find(".detail-icon"),r.length>0?r.click():clearInterval(s)},1)}catch(e){clearInterval(s)}}else for(var l=this.$body.children(),c=0;c<l.length;c++)this.expandRow_(!0,e(l[c]).data("index"))},f.prototype.collapseAllRows=function(t){if(t)this.expandRow_(!1,0);else for(var i=this.$body.children(),n=0;n<i.length;n++)this.expandRow_(!1,e(i[n]).data("index"))},f.prototype.updateFormatText=function(e,t){this.options[i("format%s",e)]&&("string"==typeof t?this.options[i("format%s",e)]=function(){return t}:"function"==typeof t&&(this.options[i("format%s",e)]=t)),this.initToolbar(),this.initPagination(),this.initBody()};var m=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getHiddenRows","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText"];e.fn.bootstrapTable=function(t){var i,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var o=e(this),r=o.data("bootstrap.table"),a=e.extend({},f.DEFAULTS,o.data(),"object"==typeof t&&t);if("string"==typeof t){if(e.inArray(t,m)<0)throw new Error("Unknown method: "+t);if(!r)return;i=r[t].apply(r,n),"destroy"===t&&o.removeData("bootstrap.table")}r||o.data("bootstrap.table",r=new f(this,a))}),"undefined"==typeof i?this:i},e.fn.bootstrapTable.Constructor=f,e.fn.bootstrapTable.defaults=f.DEFAULTS,e.fn.bootstrapTable.columnDefaults=f.COLUMN_DEFAULTS,e.fn.bootstrapTable.locales=f.LOCALES,e.fn.bootstrapTable.methods=m,e.fn.bootstrapTable.utils={sprintf:i,getFieldIndex:o,compareObjects:l,calculateObjectValue:s,getItemField:u,objectKeys:h,isIEBrowser:p},e(function(){e('[data-toggle="table"]').bootstrapTable()})}(jQuery),define("bootstrap-table",["bootstrap"],function(e){return function(){var t;return t||e.$.fn.bootstrapTable}}(this)),function(e){"use strict";e.fn.bootstrapTable.locales["zh-CN"]={formatLoadingMessage:function(){return"正在努力地加载数据中，请稍候……"},formatRecordsPerPage:function(e){return"每页显示 "+e+" 条记录"},formatShowingRows:function(e,t,i){return"显示第 "+e+" 到第 "+t+" 条记录，总共 "+i+" 条记录"},formatSearch:function(){return"搜索"},formatNoMatches:function(){return"没有找到匹配的记录"},formatPaginationSwitch:function(){return"隐藏/显示分页"},formatRefresh:function(){return"刷新"},formatToggle:function(){return"切换"},formatColumns:function(){return"列"},formatExport:function(){return"导出数据"},formatClearFilters:function(){return"清空过滤"}},e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales["zh-CN"])}(jQuery),define("bootstrap-table-lang",["bootstrap-table"],function(e){return function(){var t;return t||e.$.fn.bootstrapTable.defaults}}(this));var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,i){e instanceof String&&(e=String(e));for(var n=e.length,o=0;o<n;o++){var r=e[o];if(t.call(i,r,o,e))return{i:o,v:r}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){e!=Array.prototype&&e!=Object.prototype&&(e[t]=i.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,i,n){if(t){for(i=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in i||(i[o]={}),i=i[o]}e=e[e.length-1],n=i[e],t=t(n),t!=n&&null!=t&&$jscomp.defineProperty(i,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),function(e){e.fn.tableExport=function(t){function i(t){var i=[];return n(t,"tbody").each(function(){i.push.apply(i,o(e(this),M.tbodySelector).toArray())}),M.tfootSelector.length&&n(t,"tfoot").each(function(){i.push.apply(i,o(e(this),M.tfootSelector).toArray())}),i}function n(t,i){var n=t.parents("table").length;return t.find(i).filter(function(){return e(this).closest("table").parents("table").length===n})}function o(t,i){return t.find(i).filter(function(){return 0==M.maxNestedTables||e(this).find("table").length<M.maxNestedTables&&e(this).parents("table").length<=M.maxNestedTables})}function r(t){var i=[];return e(t).find("thead").first().find("th").each(function(t,n){void 0!==e(n).attr("data-field")?i[t]=e(n).attr("data-field"):i[t]=t.toString()}),i}function a(t){var i="undefined"!=typeof t[0].cellIndex,n="undefined"!=typeof t[0].rowIndex,o=i||n?s(t):t.is(":visible"),r=t.data("tableexport-display");return i&&"none"!=r&&"always"!=r&&(t=e(t[0].parentNode),n="undefined"!=typeof t[0].rowIndex,r=t.data("tableexport-display")),n&&"none"!=r&&"always"!=r&&(r=t.closest("table").data("tableexport-display")),"none"!==r&&(1==o||"always"==r)}function s(e){var t=[];return z&&(t=Y.filter(function(){var t=!1;return this.nodeType==e[0].nodeType&&("undefined"!=typeof this.rowIndex&&this.rowIndex==e[0].rowIndex?t=!0:"undefined"!=typeof this.cellIndex&&this.cellIndex==e[0].cellIndex&&"undefined"!=typeof this.parentNode.rowIndex&&"undefined"!=typeof e[0].parentNode.rowIndex&&this.parentNode.rowIndex==e[0].parentNode.rowIndex&&(t=!0)),t})),0==z||0==t.length}function l(t,i,n){var o=!1;return a(t)?0<M.ignoreColumn.length&&(-1!=e.inArray(n,M.ignoreColumn)||-1!=e.inArray(n-i,M.ignoreColumn)||H.length>n&&"undefined"!=typeof H[n]&&-1!=e.inArray(H[n],M.ignoreColumn))&&(o=!0):o=!0,o}function c(t,i,n,o,r){if("function"==typeof r){var s=!1;if("function"==typeof M.onIgnoreRow&&(s=M.onIgnoreRow(e(t),n)),!1===s&&-1==e.inArray(n,M.ignoreRow)&&-1==e.inArray(n-o,M.ignoreRow)&&a(e(t))){var c=e(t).find(i),d=0;c.each(function(t){var i,o=e(this),a=k(this),s=C(this);if(e.each(B,function(){if(n>=this.s.r&&n<=this.e.r&&d>=this.s.c&&d<=this.e.c)for(i=0;i<=this.e.c-this.s.c;++i)r(null,n,d++)}),!1===l(o,c.length,t)&&((s||a)&&(a=a||1,B.push({s:{r:n,c:d},e:{r:n+(s||1)-1,c:d+a-1}})),r(this,n,d++)),a)for(i=0;i<a-1;++i)r(null,n,d++)}),e.each(B,function(){if(n>=this.s.r&&n<=this.e.r&&d>=this.s.c&&d<=this.e.c)for(re=0;re<=this.e.c-this.s.c;++re)r(null,n,d++)})}}}function d(e,t){if(!0===M.consoleLog&&console.log(e.output()),"string"===M.outputMode)return e.output();if("base64"===M.outputMode)return I(e.output());if("window"===M.outputMode)window.URL=window.URL||window.webkitURL,window.open(window.URL.createObjectURL(e.output("blob")));else try{var i=e.output("blob");saveAs(i,M.fileName+".pdf")}catch(i){O(M.fileName+".pdf","data:application/pdf"+(t?"":";base64")+",",t?e.output("blob"):e.output())}}function u(e,t,i){var n=0;if("undefined"!=typeof i&&(n=i.colspan),0<=n){for(var o=e.width,r=e.textPos.x,a=t.table.columns.indexOf(t.column),s=1;s<n;s++)o+=t.table.columns[a+s].width;return 1<n&&("right"===e.styles.halign?r=e.textPos.x+o-e.width:"center"===e.styles.halign&&(r=e.textPos.x+(o-e.width)/2)),e.width=o,e.textPos.x=r,"undefined"!=typeof i&&1<i.rowspan&&(e.height*=i.rowspan),"middle"!==e.styles.valign&&"bottom"!==e.styles.valign||(i=("string"==typeof e.text?e.text.split(/\r\n|\r|\n/g):e.text).length||1,2<i&&(e.textPos.y-=(2-1.15)/2*t.row.styles.fontSize*(i-2)/3)),!0}return!1}function p(t,i,n){"undefined"!=typeof n.images&&i.each(function(){var i=e(this).children();if(e(this).is("img")){var o=A(this.src);n.images[o]={url:this.src,src:this.src}}"undefined"!=typeof i&&0<i.length&&p(t,i,n)})}function h(e,t){function i(e){if(e.url){var i=new Image;o=++r,i.crossOrigin="Anonymous",i.onerror=i.onload=function(){if(i.complete&&(0===i.src.indexOf("data:image/")&&(i.width=e.width||i.width||0,i.height=e.height||i.height||0),i.width+i.height)){var n=document.createElement("canvas"),a=n.getContext("2d");n.width=i.width,n.height=i.height,a.drawImage(i,0,0),e.src=n.toDataURL("image/jpeg")}--r||t(o)},i.src=e.url}}var n,o=0,r=0;if("undefined"!=typeof e.images)for(n in e.images)e.images.hasOwnProperty(n)&&i(e.images[n]);return(e=r)||(t(o),e=void 0),e}function f(t,i,n){i.each(function(){var i=e(this).children(),o=0;if(e(this).is("div")){var r=x(S(this,"background-color"),[255,255,255]),a=x(S(this,"border-top-color"),[0,0,0]),s=T(this,"border-top-width",M.jspdf.unit),l=this.getBoundingClientRect(),c=this.offsetLeft*n.dw;o=this.offsetTop*n.dh;var d=l.width*n.dw;l=l.height*n.dh,n.doc.setDrawColor.apply(void 0,a),n.doc.setFillColor.apply(void 0,r),n.doc.setLineWidth(s),n.doc.rect(t.x+c,t.y+o,d,l,s?"FD":"F")}else if(e(this).is("img")&&"undefined"!=typeof n.images&&(r=A(this.src),r=n.images[r],"undefined"!=typeof r)){a=t.width/t.height,s=this.width/this.height,c=t.width,d=t.height,l=19.049976/25.4,s<=a?(d=Math.min(t.height,this.height),c=this.width*d/this.height):s>a&&(c=Math.min(t.width,this.width),d=this.height*c/this.width),c*=l,d*=l,d<t.height&&(o=(t.height-d)/2);try{n.doc.addImage(r.src,t.textPos.x,t.y+o,c,d)}catch(e){}t.textPos.x+=c}"undefined"!=typeof i&&0<i.length&&f(t,i,n)})}function m(t,i,n){if("function"==typeof n.onAutotableText)n.onAutotableText(n.doc,t,i);else{var o=t.textPos.x,r=t.textPos.y,a={halign:t.styles.halign,valign:t.styles.valign};if(i.length){for(i=i[0];i.previousSibling;)i=i.previousSibling;for(var s=!1,l=!1;i;){var c=i.innerText||i.textContent||"";c=(c.length&&" "==c[0]?" ":"")+e.trim(c)+(1<c.length&&" "==c[c.length-1]?" ":""),e(i).is("br")&&(o=t.textPos.x,r+=n.doc.internal.getFontSize()),e(i).is("b")?s=!0:e(i).is("i")&&(l=!0),(s||l)&&n.doc.setFontType(s&&l?"bolditalic":s?"bold":"italic");var d=n.doc.getStringUnitWidth(c)*n.doc.internal.getFontSize();if(d){if("linebreak"===t.styles.overflow&&o>t.textPos.x&&o+d>t.textPos.x+t.width){if(0<=".,!%*;:=-".indexOf(c.charAt(0))){var u=c.charAt(0);d=n.doc.getStringUnitWidth(u)*n.doc.internal.getFontSize(),o+d<=t.textPos.x+t.width&&(n.doc.autoTableText(u,o,r,a),c=c.substring(1,c.length)),d=n.doc.getStringUnitWidth(c)*n.doc.internal.getFontSize()}o=t.textPos.x,r+=n.doc.internal.getFontSize()}for(;c.length&&o+d>t.textPos.x+t.width;)c=c.substring(0,c.length-1),d=n.doc.getStringUnitWidth(c)*n.doc.internal.getFontSize();n.doc.autoTableText(c,o,r,a),o+=d}(s||l)&&(e(i).is("b")?s=!1:e(i).is("i")&&(l=!1),n.doc.setFontType(s||l?s?"bold":"italic":"normal")),i=i.nextSibling}t.textPos.x=o,t.textPos.y=r}else n.doc.autoTableText(t.text,t.textPos.x,t.textPos.y,a)}}function g(e,t,i){return e.replace(new RegExp(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),i)}function y(e){return e=g(e||"0",M.numbers.html.thousandsSeparator,""),e=g(e,M.numbers.html.decimalMark,"."),("number"==typeof e||!1!==jQuery.isNumeric(e))&&e}function v(e){return-1<e.indexOf("%")?(e=y(e.replace(/%/g,"")),!1!==e&&(e/=100)):e=!1,e}function b(t,i,n){var o="";if(null!==t){var r=e(t);if(r[0].hasAttribute("data-tableexport-value"))var a=(a=r.data("tableexport-value"))?a+"":"";else if(a=r.html(),"function"==typeof M.onCellHtmlData)a=M.onCellHtmlData(r,i,n,a);else if(""!=a){var s=e.parseHTML(a),l=0,c=0;a="",e.each(s,function(){e(this).is("input")?a+=r.find("input").eq(l++).val():e(this).is("select")?a+=r.find("select option:selected").eq(c++).text():"undefined"==typeof e(this).html()?a+=e(this).text():(void 0===jQuery().bootstrapTable||!0!==e(this).hasClass("filterControl")&&0===e(t).parents(".detail-view").length)&&(a+=e(this).html())})}if(!0===M.htmlContent)o=e.trim(a);else if(a&&""!=a)if(""!=e(t).data("tableexport-cellformat")){var d=a.replace(/\n/g,"\u2028").replace(/<br\s*[\/]?>/gi,"⁠"),u=e("<div/>").html(d).contents();if(s=!1,d="",e.each(u.text().split("\u2028"),function(t,i){0<t&&(d+=" "),d+=e.trim(i)}),e.each(d.split("⁠"),function(t,i){0<t&&(o+="\n"),o+=e.trim(i).replace(/\u00AD/g,"")}),"json"==M.type||"excel"===M.type&&"xmlss"===M.excelFileFormat||!1===M.numbers.output)s=y(o),!1!==s&&(o=Number(s));else if((M.numbers.html.decimalMark!=M.numbers.output.decimalMark||M.numbers.html.thousandsSeparator!=M.numbers.output.thousandsSeparator)&&(s=y(o),!1!==s)){u=(""+s.substr(0>s?1:0)).split("."),1==u.length&&(u[1]="");var p=3<u[0].length?u[0].length%3:0;o=(0>s?"-":"")+(M.numbers.output.thousandsSeparator?(p?u[0].substr(0,p)+M.numbers.output.thousandsSeparator:"")+u[0].substr(p).replace(/(\d{3})(?=\d)/g,"$1"+M.numbers.output.thousandsSeparator):u[0])+(u[1].length?M.numbers.output.decimalMark+u[1]:"")}}else o=a;!0===M.escape&&(o=escape(o)),"function"==typeof M.onCellData&&(o=M.onCellData(r,i,n,o))}return o}function w(e,t,i){return t+"-"+i.toLowerCase()}function x(e,t){return(e=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/.exec(e))&&(t=[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]),t}function _(e){var t=S(e,"text-align"),i=S(e,"font-weight"),n=S(e,"font-style"),o="";return"start"==t&&(t="rtl"==S(e,"direction")?"right":"left"),700<=i&&(o="bold"),"italic"==n&&(o+=n),""===o&&(o="normal"),t={style:{align:t,bcolor:x(S(e,"background-color"),[255,255,255]),color:x(S(e,"color"),[0,0,0]),fstyle:o},colspan:k(e),rowspan:C(e)},null!==e&&(e=e.getBoundingClientRect(),t.rect={width:e.width,height:e.height}),t}function k(t){var i=e(t).data("tableexport-colspan");return"undefined"==typeof i&&e(t).is("[colspan]")&&(i=e(t).attr("colspan")),parseInt(i)||0}function C(t){var i=e(t).data("tableexport-rowspan");return"undefined"==typeof i&&e(t).is("[rowspan]")&&(i=e(t).attr("rowspan")),parseInt(i)||0}function S(e,t){try{return window.getComputedStyle?(t=t.replace(/([a-z])([A-Z])/,w),window.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?e.currentStyle[t]:e.style[t]}catch(e){}return""}function T(e,t,i){if(t=S(e,t).match(/\d+/),null!==t){t=t[0],e=e.parentElement;var n=document.createElement("div");return n.style.overflow="hidden",n.style.visibility="hidden",e.appendChild(n),n.style.width=100+i,i=100/n.offsetWidth,e.removeChild(n),t*i}return 0}function D(){return this instanceof D?(this.SheetNames=[],void(this.Sheets={})):new D}function E(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0;n!=e.length;++n)i[n]=255&e.charCodeAt(n);return t}function R(e){for(var t={},i={s:{c:1e7,r:1e7},e:{c:0,r:0}},n=0;n!=e.length;++n)for(var o=0;o!=e[n].length;++o){i.s.r>n&&(i.s.r=n),i.s.c>o&&(i.s.c=o),i.e.r<n&&(i.e.r=n),i.e.c<o&&(i.e.c=o);var r={v:e[n][o]};if(null!==r.v){var a=XLSX.utils.encode_cell({c:o,r:n});if("number"==typeof r.v)r.t="n";else if("boolean"==typeof r.v)r.t="b";else if(r.v instanceof Date){r.t="n",r.z=XLSX.SSF._table[14];var s=r,l=(Date.parse(r.v)-new Date(Date.UTC(1899,11,30)))/864e5;s.v=l}else r.t="s";t[a]=r}}return 1e7>i.s.c&&(t["!ref"]=XLSX.utils.encode_range(i)),t}function A(e){var t,i=0;if(0===e.length)return i;var n=0;for(t=e.length;n<t;n++){var o=e.charCodeAt(n);i=(i<<5)-i+o,i|=0}return i}function O(e,t,i){var n=window.navigator.userAgent;if(!1!==e&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(new Blob([i]),e);else if(!1!==e&&(0<n.indexOf("MSIE ")||n.match(/Trident.*rv\:11\./))){if(t=document.createElement("iframe")){switch(document.body.appendChild(t),t.setAttribute("style","display:none"),t.contentDocument.open("txt/plain","replace"),t.contentDocument.write(i),t.contentDocument.close(),t.contentDocument.focus(),e.substr(e.lastIndexOf(".")+1)){case"doc":case"json":case"png":case"pdf":case"xls":case"xlsx":e+=".txt"}t.contentDocument.execCommand("SaveAs",!0,e),document.body.removeChild(t)}}else{var o=document.createElement("a");if(o){var r=null;o.style.display="none",!1!==e?o.download=e:o.target="_blank","object"==typeof i?(window.URL=window.URL||window.webkitURL,r=window.URL.createObjectURL(i),o.href=r):0<=t.toLowerCase().indexOf("base64,")?o.href=t+I(i):o.href=t+encodeURIComponent(i),document.body.appendChild(o),document.createEvent?(null===N&&(N=document.createEvent("MouseEvents")),N.initEvent("click",!0,!1),o.dispatchEvent(N)):document.createEventObject?o.fireEvent("onclick"):"function"==typeof o.onclick&&o.onclick(),setTimeout(function(){r&&window.URL.revokeObjectURL(r),document.body.removeChild(o)},100)}}}function I(e){var t,i="",n=0;if("string"==typeof e){e=e.replace(/\x0d\x0a/g,"\n");var o="";for(t=0;t<e.length;t++){var r=e.charCodeAt(t);128>r?o+=String.fromCharCode(r):(127<r&&2048>r?o+=String.fromCharCode(r>>6|192):(o+=String.fromCharCode(r>>12|224),o+=String.fromCharCode(r>>6&63|128)),o+=String.fromCharCode(63&r|128))}e=o}for(;n<e.length;){var a=e.charCodeAt(n++);o=e.charCodeAt(n++),t=e.charCodeAt(n++),r=a>>2,a=(3&a)<<4|o>>4;var s=(15&o)<<2|t>>6,l=63&t;isNaN(o)?s=l=64:isNaN(t)&&(l=64),i=i+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(s)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)}return i}var M={consoleLog:!1,csvEnclosure:'"',csvSeparator:",",csvUseBOM:!0,displayTableName:!1,escape:!1,excelFileFormat:"xlshtml",excelPageOrientation:"portrait",excelRTL:!1,excelstyles:[],exportHiddenCells:!1,fileName:"tableExport",htmlContent:!1,ignoreColumn:[],ignoreRow:[],jsonScope:"all",jspdf:{orientation:"p",unit:"pt",format:"a4",margins:{left:20,right:10,top:10,bottom:10},onDocCreated:null,autotable:{styles:{cellPadding:2,rowHeight:12,fontSize:8,fillColor:255,textColor:50,fontStyle:"normal",overflow:"ellipsize",halign:"left",valign:"middle"},headerStyles:{fillColor:[52,73,94],textColor:255,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:245},tableExport:{doc:null,onAfterAutotable:null,onBeforeAutotable:null,onAutotableText:null,onTable:null,outputImages:!0}}},maxNestedTables:1,numbers:{html:{decimalMark:".",thousandsSeparator:","},output:{decimalMark:".",thousandsSeparator:","}},onCellData:null,onCellHtmlData:null,onIgnoreRow:null,onMsoNumberFormat:null,outputMode:"file",pdfmake:{enabled:!1,docDefinition:{pageOrientation:"portrait",defaultStyle:{font:"Roboto"}},fonts:{}},tbodySelector:"tr",tfootSelector:"tr",theadSelector:"tr",tableName:"Table",type:"csv",worksheetName:""},P=this,N=null,L=[],F=[],$=0,j="",H=[],B=[],Y=[],z=!1;if(e.extend(!0,M,t),M.maxNestedTables=0<=M.maxNestedTables?M.maxNestedTables:1,H=r(P),"csv"==M.type||"tsv"==M.type||"txt"==M.type){var q="",U=0;B=[],$=0;var W=function(t,i,n){return t.each(function(){j="",c(this,i,$,n+t.length,function(e,t,i){var n=j,o="";null!==e&&(e=b(e,t,i),t=null===e||""===e?"":e.toString(),"tsv"==M.type?(e instanceof Date&&e.toLocaleString(),o=g(t,"\t"," ")):e instanceof Date?o=M.csvEnclosure+e.toLocaleString()+M.csvEnclosure:(o=g(t,M.csvEnclosure,M.csvEnclosure+M.csvEnclosure),(0<=o.indexOf(M.csvSeparator)||/[\r\n ]/g.test(o))&&(o=M.csvEnclosure+o+M.csvEnclosure))),j=n+(o+("tsv"==M.type?"\t":M.csvSeparator))}),j=e.trim(j).substring(0,j.length-1),0<j.length&&(0<q.length&&(q+="\n"),q+=j),$++}),t.length};if(U+=W(e(P).find("thead").first().find(M.theadSelector),"th,td",U),n(e(P),"tbody").each(function(){
U+=W(o(e(this),M.tbodySelector),"td,th",U)}),M.tfootSelector.length&&W(e(P).find("tfoot").first().find(M.tfootSelector),"td,th",U),q+="\n",!0===M.consoleLog&&console.log(q),"string"===M.outputMode)return q;if("base64"===M.outputMode)return I(q);if("window"===M.outputMode)return void O(!1,"data:text/"+("csv"==M.type?"csv":"plain")+";charset=utf-8,",q);try{var V=new Blob([q],{type:"text/"+("csv"==M.type?"csv":"plain")+";charset=utf-8"});saveAs(V,M.fileName+"."+M.type,"csv"!=M.type||!1===M.csvUseBOM)}catch(e){O(M.fileName+"."+M.type,"data:text/"+("csv"==M.type?"csv":"plain")+";charset=utf-8,"+("csv"==M.type&&M.csvUseBOM?"\ufeff":""),q)}}else if("sql"==M.type){$=0,B=[];var G="INSERT INTO `"+M.tableName+"` (";if(L=e(P).find("thead").first().find(M.theadSelector),L.each(function(){c(this,"th,td",$,L.length,function(e,t,i){G+="'"+b(e,t,i)+"',"}),$++,G=e.trim(G).substring(0,G.length-1)}),G+=") VALUES ",F=i(e(P)),e(F).each(function(){j="",c(this,"td,th",$,L.length+F.length,function(e,t,i){j+="'"+b(e,t,i)+"',"}),3<j.length&&(G+="("+j,G=e.trim(G).substring(0,G.length-1),G+="),"),$++}),G=e.trim(G).substring(0,G.length-1),G+=";",!0===M.consoleLog&&console.log(G),"string"===M.outputMode)return G;if("base64"===M.outputMode)return I(G);try{V=new Blob([G],{type:"text/plain;charset=utf-8"}),saveAs(V,M.fileName+".sql")}catch(e){O(M.fileName+".sql","data:application/sql;charset=utf-8,",G)}}else if("json"==M.type){var X=[];B=[],L=e(P).find("thead").first().find(M.theadSelector),L.each(function(){var e=[];c(this,"th,td",$,L.length,function(t,i,n){e.push(b(t,i,n))}),X.push(e)});var Q=[];if(F=i(e(P)),e(F).each(function(){var t={},i=0;c(this,"td,th",$,L.length+F.length,function(e,n,o){X.length?t[X[X.length-1][i]]=b(e,n,o):t[i]=b(e,n,o),i++}),!1===e.isEmptyObject(t)&&Q.push(t),$++}),t="",t="head"==M.jsonScope?JSON.stringify(X):"data"==M.jsonScope?JSON.stringify(Q):JSON.stringify({header:X,data:Q}),!0===M.consoleLog&&console.log(t),"string"===M.outputMode)return t;if("base64"===M.outputMode)return I(t);try{V=new Blob([t],{type:"application/json;charset=utf-8"}),saveAs(V,M.fileName+".json")}catch(e){O(M.fileName+".json","data:application/json;charset=utf-8;base64,",t)}}else if("xml"===M.type){$=0,B=[];var K='<?xml version="1.0" encoding="utf-8"?>';K+="<tabledata><fields>",L=e(P).find("thead").first().find(M.theadSelector),L.each(function(){c(this,"th,td",$,L.length,function(e,t,i){K+="<field>"+b(e,t,i)+"</field>"}),$++}),K+="</fields><data>";var Z=1;if(F=i(e(P)),e(F).each(function(){var e=1;j="",c(this,"td,th",$,L.length+F.length,function(t,i,n){j+="<column-"+e+">"+b(t,i,n)+"</column-"+e+">",e++}),0<j.length&&"<column-1></column-1>"!=j&&(K+='<row id="'+Z+'">'+j+"</row>",Z++),$++}),K+="</data></tabledata>",!0===M.consoleLog&&console.log(K),"string"===M.outputMode)return K;if("base64"===M.outputMode)return I(K);try{V=new Blob([K],{type:"application/xml;charset=utf-8"}),saveAs(V,M.fileName+".xml")}catch(e){O(M.fileName+".xml","data:application/xml;charset=utf-8;base64,",K)}}else if("excel"===M.type&&"xmlss"===M.excelFileFormat){var J=[],ee=[];e(P).filter(function(){return a(e(this))}).each(function(){function t(t,i,n){var o=[];return e(t).each(function(){var i=0,r=0;j="",c(this,"td,th",$,n+t.length,function(t,n,a){if(null!==t){var s="";if(n=b(t,n,a),a="String",!1!==jQuery.isNumeric(n))a="Number";else{var l=v(n);!1!==l&&(n=l,a="Number",s+=' ss:StyleID="pct1"')}"Number"!==a&&(n=n.replace(/\n/g,"<br>")),l=k(t),t=C(t),e.each(o,function(){if($>=this.s.r&&$<=this.e.r&&r>=this.s.c&&r<=this.e.c)for(var e=0;e<=this.e.c-this.s.c;++e)r++,i++}),(t||l)&&(t=t||1,l=l||1,o.push({s:{r:$,c:r},e:{r:$+t-1,c:r+l-1}})),1<l&&(s+=' ss:MergeAcross="'+(l-1)+'"',r+=l-1),1<t&&(s+=' ss:MergeDown="'+(t-1)+'" ss:StyleID="rsp1"'),0<i&&(s+=' ss:Index="'+(r+1)+'"',i=0),j+="<Cell"+s+'><Data ss:Type="'+a+'">'+e("<div />").text(n).html()+"</Data></Cell>\r",r++}}),0<j.length&&(ae+='<Row ss:AutoFitHeight="0">\r'+j+"</Row>\r"),$++}),t.length}var n=e(this),o="";"string"==typeof M.worksheetName&&M.worksheetName.length?o=M.worksheetName+" "+(ee.length+1):"undefined"!=typeof M.worksheetName[ee.length]&&(o=M.worksheetName[ee.length]),o.length||(o=n.find("caption").text()||""),o.length||(o="Table "+(ee.length+1)),o=e.trim(o.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31)),ee.push(e("<div />").text(o).html()),!1===M.exportHiddenCells&&(Y=n.find("tr, th, td").filter(":hidden"),z=0<Y.length),$=0,H=r(this),ae="<Table>\r",o=0,o+=t(n.find("thead").first().find(M.theadSelector),"th,td",o),t(i(n),"td,th",o),ae+="</Table>\r",J.push(ae),!0===M.consoleLog&&console.log(ae)}),t={};for(var te,ie,ne={},oe=0,re=ee.length;oe<re;oe++)te=ee[oe],ie=t[te],ie=t[te]=null==ie?1:ie+1,2==ie&&(ee[ne[te]]=ee[ne[te]].substring(0,29)+"-1"),1<t[te]?ee[oe]=ee[oe].substring(0,29)+"-"+t[te]:ne[te]=oe;for(t='<?xml version="1.0" encoding="UTF-8"?>\r<?mso-application progid="Excel.Sheet"?>\r<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet"\r xmlns:o="urn:schemas-microsoft-com:office:office"\r xmlns:x="urn:schemas-microsoft-com:office:excel"\r xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet"\r xmlns:html="http://www.w3.org/TR/REC-html40">\r<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">\r  <Created>'+(new Date).toISOString()+'</Created>\r</DocumentProperties>\r<OfficeDocumentSettings xmlns="urn:schemas-microsoft-com:office:office">\r  <AllowPNG/>\r</OfficeDocumentSettings>\r<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">\r  <WindowHeight>9000</WindowHeight>\r  <WindowWidth>13860</WindowWidth>\r  <WindowTopX>0</WindowTopX>\r  <WindowTopY>0</WindowTopY>\r  <ProtectStructure>False</ProtectStructure>\r  <ProtectWindows>False</ProtectWindows>\r</ExcelWorkbook>\r<Styles>\r  <Style ss:ID="Default" ss:Name="Normal">\r    <Alignment ss:Vertical="Bottom"/>\r    <Borders/>\r    <Font/>\r    <Interior/>\r    <NumberFormat/>\r    <Protection/>\r  </Style>\r  <Style ss:ID="rsp1">\r    <Alignment ss:Vertical="Center"/>\r  </Style>\r  <Style ss:ID="pct1">\r    <NumberFormat ss:Format="Percent"/>\r  </Style>\r</Styles>\r',ne=0;ne<J.length;ne++)t+='<Worksheet ss:Name="'+ee[ne]+'" ss:RightToLeft="'+(M.excelRTL?"1":"0")+'">\r'+J[ne],t=M.excelRTL?t+'<WorksheetOptions xmlns="urn:schemas-microsoft-com:office:excel">\r<DisplayRightToLeft/>\r</WorksheetOptions>\r':t+'<WorksheetOptions xmlns="urn:schemas-microsoft-com:office:excel"/>\r',t+="</Worksheet>\r";if(t+="</Workbook>\r",!0===M.consoleLog&&console.log(t),"string"===M.outputMode)return t;if("base64"===M.outputMode)return I(t);try{V=new Blob([t],{type:"application/xml;charset=utf-8"}),saveAs(V,M.fileName+".xml")}catch(e){O(M.fileName+".xml","data:application/xml;charset=utf-8;base64,",t)}}else if("excel"==M.type||"xls"==M.type||"word"==M.type||"doc"==M.type){t="excel"==M.type||"xls"==M.type?"excel":"word",ne="excel"==t?"xls":"doc",te='xmlns:x="urn:schemas-microsoft-com:office:'+t+'"';var ae="",se="";if(e(P).filter(function(){return a(e(this))}).each(function(){var t=e(this);""===se&&(se=M.worksheetName||t.find("caption").text()||"Table",se=e.trim(se.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31))),!1===M.exportHiddenCells&&(Y=t.find("tr, th, td").filter(":hidden"),z=0<Y.length),$=0,B=[],H=r(this),ae+="<table><thead>",L=t.find("thead").first().find(M.theadSelector),L.each(function(){j="",c(this,"th,td",$,L.length,function(t,i,n){if(null!==t){var o="";j+="<th";for(var r in M.excelstyles)if(M.excelstyles.hasOwnProperty(r)){var a=e(t).css(M.excelstyles[r]);""!==a&&"0px none rgb(0, 0, 0)"!=a&&"rgba(0, 0, 0, 0)"!=a&&(o+=""===o?'style="':";",o+=M.excelstyles[r]+":"+a)}""!==o&&(j+=" "+o+'"'),o=k(t),0<o&&(j+=' colspan="'+o+'"'),o=C(t),0<o&&(j+=' rowspan="'+o+'"'),j+=">"+b(t,i,n)+"</th>"}}),0<j.length&&(ae+="<tr>"+j+"</tr>"),$++}),ae+="</thead><tbody>",F=i(t),e(F).each(function(){var t=e(this);j="",c(this,"td,th",$,L.length+F.length,function(i,n,o){if(null!==i){var r=b(i,n,o),a="",s=e(i).data("tableexport-msonumberformat");"undefined"==typeof s&&"function"==typeof M.onMsoNumberFormat&&(s=M.onMsoNumberFormat(i,n,o)),"undefined"!=typeof s&&""!==s&&(a="style=\"mso-number-format:'"+s+"'");for(var l in M.excelstyles)M.excelstyles.hasOwnProperty(l)&&(s=e(i).css(M.excelstyles[l]),""===s&&(s=t.css(M.excelstyles[l])),""!==s&&"0px none rgb(0, 0, 0)"!=s&&"rgba(0, 0, 0, 0)"!=s&&(a+=""===a?'style="':";",a+=M.excelstyles[l]+":"+s));j+="<td",""!==a&&(j+=" "+a+'"'),n=k(i),0<n&&(j+=' colspan="'+n+'"'),i=C(i),0<i&&(j+=' rowspan="'+i+'"'),"string"==typeof r&&""!=r&&(r=r.replace(/\n/g,"<br>")),j+=">"+r+"</td>"}}),0<j.length&&(ae+="<tr>"+j+"</tr>"),$++}),M.displayTableName&&(ae+="<tr><td></td></tr><tr><td></td></tr><tr><td>"+b(e("<p>"+M.tableName+"</p>"))+"</td></tr>"),ae+="</tbody></table>",!0===M.consoleLog&&console.log(ae)}),te='<html xmlns:o="urn:schemas-microsoft-com:office:office" '+te+' xmlns="http://www.w3.org/TR/REC-html40">'+('<meta http-equiv="content-type" content="application/vnd.ms-'+t+'; charset=UTF-8">')+"<head>","excel"===t&&(te+="<!--[if gte mso 9]>",te+="<xml>",te+="<x:ExcelWorkbook>",te+="<x:ExcelWorksheets>",te+="<x:ExcelWorksheet>",te+="<x:Name>",te+=se,te+="</x:Name>",te+="<x:WorksheetOptions>",te+="<x:DisplayGridlines/>",M.excelRTL&&(te+="<x:DisplayRightToLeft/>"),te+="</x:WorksheetOptions>",te+="</x:ExcelWorksheet>",te+="</x:ExcelWorksheets>",te+="</x:ExcelWorkbook>",te+="</xml>",te+="<![endif]-->"),te+="<style>","landscape"===M.excelPageOrientation&&(te+="@page { size:"+M.excelPageOrientation+"; mso-page-orientation:"+M.excelPageOrientation+"; }"),te+="br {mso-data-placement:same-cell;}",te+="</style>",te+="</head>",te+="<body>",te+=ae,te+="</body>",te+="</html>",!0===M.consoleLog&&console.log(te),"string"===M.outputMode)return te;if("base64"===M.outputMode)return I(te);try{V=new Blob([te],{type:"application/vnd.ms-"+M.type}),saveAs(V,M.fileName+"."+ne)}catch(e){O(M.fileName+"."+ne,"data:application/vnd.ms-"+t+";base64,",te)}}else if("xlsx"==M.type){var le=[],ce=[];$=0,F=e(P).find("thead").first().find(M.theadSelector).toArray(),F.push.apply(F,i(e(P))),e(F).each(function(){var t=[];c(this,"th,td",$,F.length,function(i,n,o){if("undefined"!=typeof i&&null!==i&&(o=b(i,n,o),n=k(i),i=C(i),e.each(ce,function(){if($>=this.s.r&&$<=this.e.r&&t.length>=this.s.c&&t.length<=this.e.c)for(var e=0;e<=this.e.c-this.s.c;++e)t.push(null)}),(i||n)&&(n=n||1,ce.push({s:{r:$,c:t.length},e:{r:$+(i||1)-1,c:t.length+n-1}})),"function"!=typeof M.onCellData&&""!==o&&o==+o&&(o=+o),t.push(""!==o?o:null),n))for(i=0;i<n-1;++i)t.push(null)}),le.push(t),$++}),t=new D,ne=R(le),ne["!merges"]=ce,XLSX.utils.book_append_sheet(t,ne,M.worksheetName),t=XLSX.write(t,{type:"binary",bookType:M.type,bookSST:!1});try{V=new Blob([E(t)],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),saveAs(V,M.fileName+"."+M.type)}catch(e){O(M.fileName+"."+M.type,"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8,",E(t))}}else if("png"==M.type)html2canvas(e(P)[0]).then(function(e){e=e.toDataURL();for(var t=atob(e.substring(22)),i=new ArrayBuffer(t.length),n=new Uint8Array(i),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);if(!0===M.consoleLog&&console.log(t),"string"===M.outputMode)return t;if("base64"===M.outputMode)return I(e);if("window"===M.outputMode)window.open(e);else try{V=new Blob([i],{type:"image/png"}),saveAs(V,M.fileName+".png")}catch(e){O(M.fileName+".png","data:image/png,",V)}});else if("pdf"==M.type)if(!0===M.pdfmake.enabled){t=[];var de=[];for($=0,B=[],ne=function(t,i,n){var o=0;return e(t).each(function(){var e=[];c(this,i,$,n,function(t,i,n){if("undefined"!=typeof t&&null!==t){var o=k(t),r=C(t);t=b(t,i,n)||" ",1<o||1<r?e.push({colSpan:o||1,rowSpan:r||1,text:t}):e.push(t)}else e.push(" ")}),e.length&&de.push(e),o<e.length&&(o=e.length),$++}),o},L=e(this).find("thead").first().find(M.theadSelector),te=ne(L,"th,td",L.length),ie=t.length;ie<te;ie++)t.push("*");F=i(e(this)),ne(F,"th,td",L.length+F.length),t={content:[{table:{headerRows:L.length,widths:t,body:de}}]},e.extend(!0,t,M.pdfmake.docDefinition),pdfMake.fonts={Roboto:{normal:"Roboto-Regular.ttf",bold:"Roboto-Medium.ttf",italics:"Roboto-Italic.ttf",bolditalics:"Roboto-MediumItalic.ttf"}},e.extend(!0,pdfMake.fonts,M.pdfmake.fonts),pdfMake.createPdf(t).getBuffer(function(e){try{var t=new Blob([e],{type:"application/pdf"});saveAs(t,M.fileName+".pdf")}catch(t){O(M.fileName+".pdf","data:application/pdf;base64,",e)}})}else if(!1===M.jspdf.autotable){t={dim:{w:T(e(P).first().get(0),"width","mm"),h:T(e(P).first().get(0),"height","mm")},pagesplit:!1};var ue=new jsPDF(M.jspdf.orientation,M.jspdf.unit,M.jspdf.format);ue.addHTML(e(P).first(),M.jspdf.margins.left,M.jspdf.margins.top,t,function(){d(ue,!1)})}else{var pe=M.jspdf.autotable.tableExport;if("string"==typeof M.jspdf.format&&"bestfit"===M.jspdf.format.toLowerCase()){var he={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89]},fe="",me="",ge=0;e(P).each(function(){if(a(e(this))){var t=T(e(this).get(0),"width","pt");if(t>ge){t>he.a0[0]&&(fe="a0",me="l");for(var i in he)he.hasOwnProperty(i)&&he[i][1]>t&&(fe=i,me="l",he[i][0]>t&&(me="p"));ge=t}}}),M.jspdf.format=""===fe?"a4":fe,M.jspdf.orientation=""===me?"w":me}null==pe.doc&&(pe.doc=new jsPDF(M.jspdf.orientation,M.jspdf.unit,M.jspdf.format),"function"==typeof M.jspdf.onDocCreated)&&M.jspdf.onDocCreated(pe.doc),!0===pe.outputImages&&(pe.images={}),"undefined"!=typeof pe.images&&(e(P).filter(function(){return a(e(this))}).each(function(){var t=0;B=[],!1===M.exportHiddenCells&&(Y=e(this).find("tr, th, td").filter(":hidden"),z=0<Y.length),L=e(this).find("thead").find(M.theadSelector),F=i(e(this)),e(F).each(function(){c(this,"td,th",L.length+t,L.length+F.length,function(t){if("undefined"!=typeof t&&null!==t){var i=e(t).children();"undefined"!=typeof i&&0<i.length&&p(t,i,pe)}}),t++})}),L=[],F=[]),h(pe,function(){e(P).filter(function(){return a(e(this))}).each(function(){var t;if($=0,B=[],!1===M.exportHiddenCells&&(Y=e(this).find("tr, th, td").filter(":hidden"),z=0<Y.length),H=r(this),pe.columns=[],pe.rows=[],pe.rowoptions={},"function"==typeof pe.onTable&&!1===pe.onTable(e(this),M))return!0;M.jspdf.autotable.tableExport=null;var n=e.extend(!0,{},M.jspdf.autotable);if(M.jspdf.autotable.tableExport=pe,n.margin={},e.extend(!0,n.margin,M.jspdf.margins),n.tableExport=pe,"function"!=typeof n.beforePageContent&&(n.beforePageContent=function(t){if(1==t.pageCount){var i=t.table.rows.concat(t.table.headerRow);e.each(i,function(){0<this.height&&(this.height+=(2-1.15)/2*this.styles.fontSize,t.table.height+=(2-1.15)/2*this.styles.fontSize)})}}),"function"!=typeof n.createdHeaderCell&&(n.createdHeaderCell=function(t,i){if(t.styles=e.extend({},i.row.styles),"undefined"!=typeof pe.columns[i.column.dataKey]){var o=pe.columns[i.column.dataKey];if("undefined"!=typeof o.rect){if(t.contentWidth=o.rect.width,"undefined"==typeof pe.heightRatio||0===pe.heightRatio){var r=i.row.raw[i.column.dataKey].rowspan?i.row.raw[i.column.dataKey].rect.height/i.row.raw[i.column.dataKey].rowspan:i.row.raw[i.column.dataKey].rect.height;pe.heightRatio=t.styles.rowHeight/r}r=i.row.raw[i.column.dataKey].rect.height*pe.heightRatio,r>t.styles.rowHeight&&(t.styles.rowHeight=r)}"undefined"!=typeof o.style&&!0!==o.style.hidden&&(t.styles.halign=o.style.align,"inherit"===n.styles.fillColor&&(t.styles.fillColor=o.style.bcolor),"inherit"===n.styles.textColor&&(t.styles.textColor=o.style.color),"inherit"===n.styles.fontStyle&&(t.styles.fontStyle=o.style.fstyle))}}),"function"!=typeof n.createdCell&&(n.createdCell=function(e,t){t=pe.rowoptions[t.row.index+":"+t.column.dataKey],"undefined"!=typeof t&&"undefined"!=typeof t.style&&!0!==t.style.hidden&&(e.styles.halign=t.style.align,"inherit"===n.styles.fillColor&&(e.styles.fillColor=t.style.bcolor),"inherit"===n.styles.textColor&&(e.styles.textColor=t.style.color),"inherit"===n.styles.fontStyle&&(e.styles.fontStyle=t.style.fstyle))}),"function"!=typeof n.drawHeaderCell&&(n.drawHeaderCell=function(e,t){var i=pe.columns[t.column.dataKey];return(!0!==i.style.hasOwnProperty("hidden")||!0!==i.style.hidden)&&0<=i.rowIndex&&u(e,t,i)}),"function"!=typeof n.drawCell&&(n.drawCell=function(e,t){var i=pe.rowoptions[t.row.index+":"+t.column.dataKey];return u(e,t,i)&&(pe.doc.rect(e.x,e.y,e.width,e.height,e.styles.fillStyle),"undefined"!=typeof i&&"undefined"!=typeof i.kids&&0<i.kids.length?(t=e.height/i.rect.height,(t>pe.dh||"undefined"==typeof pe.dh)&&(pe.dh=t),pe.dw=e.width/i.rect.width,t=e.textPos.y,f(e,i.kids,pe),e.textPos.y=t,m(e,i.kids,pe)):m(e,{},pe)),!1}),pe.headerrows=[],L=e(this).find("thead").find(M.theadSelector),L.each(function(){t=0,pe.headerrows[$]=[],c(this,"th,td",$,L.length,function(e,i,n){var o=_(e);o.title=b(e,i,n),o.key=t++,o.rowIndex=$,pe.headerrows[$].push(o)}),$++}),0<$)for(var o=$-1;0<=o;)e.each(pe.headerrows[o],function(){var e=this;0<o&&null===this.rect&&(e=pe.headerrows[o-1][this.key]),null!==e&&0<=e.rowIndex&&(!0!==e.style.hasOwnProperty("hidden")||!0!==e.style.hidden)&&pe.columns.push(e)}),o=0<pe.columns.length?-1:o-1;var a=0;F=[],F=i(e(this)),e(F).each(function(){var i=[];t=0,c(this,"td,th",$,L.length+F.length,function(n,o,r){if("undefined"==typeof pe.columns[t]){var s={title:"",key:t,style:{hidden:!0}};pe.columns.push(s)}"undefined"!=typeof n&&null!==n?(s=_(n),s.kids=e(n).children()):(s=e.extend(!0,{},pe.rowoptions[a+":"+(t-1)]),s.colspan=-1),pe.rowoptions[a+":"+t++]=s,i.push(b(n,o,r))}),i.length&&(pe.rows.push(i),a++),$++}),"function"==typeof pe.onBeforeAutotable&&pe.onBeforeAutotable(e(this),pe.columns,pe.rows,n),pe.doc.autoTable(pe.columns,pe.rows,n),"function"==typeof pe.onAfterAutotable&&pe.onAfterAutotable(e(this),n),M.jspdf.autotable.startY=pe.doc.autoTableEndPosY()+n.margin.top}),d(pe.doc,"undefined"!=typeof pe.images&&!1===jQuery.isEmptyObject(pe.images)),"undefined"!=typeof pe.headerrows&&(pe.headerrows.length=0),"undefined"!=typeof pe.columns&&(pe.columns.length=0),"undefined"!=typeof pe.rows&&(pe.rows.length=0),delete pe.doc,pe.doc=null})}return this}}(jQuery),define("tableexport",["jquery"],function(e){return function(){var t;return t||e.$.fn.extend}}(this)),!function(e){"use strict";var t=e.fn.bootstrapTable.utils.sprintf,i={json:"JSON",xml:"XML",png:"PNG",csv:"CSV",txt:"TXT",sql:"SQL",doc:"MS-Word",excel:"MS-Excel",xlsx:"MS-Excel (OpenXML)",powerpoint:"MS-Powerpoint",pdf:"PDF"};e.extend(e.fn.bootstrapTable.defaults,{showExport:!1,exportDataType:"basic",exportTypes:["json","xml","csv","txt","sql","excel"],exportOptions:{}}),e.extend(e.fn.bootstrapTable.defaults.icons,{export:"glyphicon-export icon-share"}),e.extend(e.fn.bootstrapTable.locales,{formatExport:function(){return"Export data"}}),e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales);var n=e.fn.bootstrapTable.Constructor,o=n.prototype.initToolbar;n.prototype.initToolbar=function(){if(this.showToolbar=this.options.showExport,o.apply(this,Array.prototype.slice.apply(arguments)),this.options.showExport){var n=this,r=this.$toolbar.find(">.btn-group"),a=r.find("div.export");if(!a.length){a=e(['<div class="export btn-group">','<button class="btn'+t(" btn-%s",this.options.buttonsClass)+t(" btn-%s",this.options.iconSize)+' dropdown-toggle" aria-label="export type" title="'+this.options.formatExport()+'" data-toggle="dropdown" type="button">',t('<i class="%s %s"></i> ',this.options.iconsPrefix,this.options.icons.export),'<span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">',"</ul>","</div>"].join("")).appendTo(r);var s=a.find(".dropdown-menu"),l=this.options.exportTypes;if("string"==typeof this.options.exportTypes){var c=this.options.exportTypes.slice(1,-1).replace(/ /g,"").split(",");l=[],e.each(c,function(e,t){l.push(t.slice(1,-1))})}e.each(l,function(e,t){i.hasOwnProperty(t)&&s.append(['<li role="menuitem" data-type="'+t+'">','<a href="javascript:void(0)">',i[t],"</a>","</li>"].join(""))}),s.find("li").click(function(){var t=e(this).data("type"),i=function(){n.$el.tableExport(e.extend({},n.options.exportOptions,{type:t,escape:!1}))};if("all"===n.options.exportDataType&&n.options.pagination)n.$el.one("server"===n.options.sidePagination?"post-body.bs.table":"page-change.bs.table",function(){i(),n.togglePagination()}),n.togglePagination();else if("selected"===n.options.exportDataType){var o=n.getData(),r=n.getAllSelections();"server"===n.options.sidePagination&&(o={total:n.options.totalRows},o[n.options.dataField]=n.getData(),r={total:n.options.totalRows},r[n.options.dataField]=n.getAllSelections()),n.load(r),i(),n.load(o)}else i()})}}}}(jQuery),define("bootstrap-table-export",["bootstrap-table","tableexport"],function(e){return function(){var t;return t||e.$.fn.bootstrapTable.defaults}}(this)),!function(e){"use strict";if("function"==typeof define&&define.amd)define("bootstrap-datetimepicker",["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var i=function(i,n){var o,r,a,s,l,c,d,u={},p=!0,h=!1,f=!1,m=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],y=["days","months","years","decades"],v=["top","bottom","auto"],b=["left","right","auto"],w=["default","top","bottom"],x={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},_={},k=function(){return void 0!==t.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone},C=function(e){var i;return i=void 0===e||null===e?t():t.isDate(e)||t.isMoment(e)?t(e):k()?t.tz(e,c,n.useStrict,n.timeZone):t(e,c,n.useStrict),k()&&i.tz(n.timeZone),i},S=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return l.indexOf("Y")!==-1;case"M":return l.indexOf("M")!==-1;case"d":return l.toLowerCase().indexOf("d")!==-1;case"h":case"H":return l.toLowerCase().indexOf("h")!==-1;case"m":return l.indexOf("m")!==-1;case"s":return l.indexOf("s")!==-1;default:return!1}},T=function(){return S("h")||S("m")||S("s")},D=function(){return S("y")||S("M")||S("d")},E=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(n.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(n.icons.next)))),i=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))]},R=function(){var t=e("<tr>"),i=e("<tr>"),o=e("<tr>");return S("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),o.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(n.icons.down))))),S("m")&&(S("h")&&(t.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),o.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),o.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(n.icons.down))))),S("s")&&(S("m")&&(t.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),o.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(n.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),o.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(n.icons.down))))),s||(t.append(e("<td>").addClass("separator")),i.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod}))),o.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,i,o]))},A=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),i=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),o=[R()];return S("h")&&o.push(t),S("m")&&o.push(i),S("s")&&o.push(n),o},O=function(){var t=[];return n.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(e("<span>").addClass(n.icons.today)))),!n.sideBySide&&D()&&T()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(e("<span>").addClass(n.icons.time)))),n.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(e("<span>").addClass(n.icons.clear)))),n.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(e("<span>").addClass(n.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},I=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=e("<div>").addClass("datepicker").append(E()),o=e("<div>").addClass("timepicker").append(A()),r=e("<ul>").addClass("list-unstyled"),a=e("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append(O());return n.inline&&t.removeClass("dropdown-menu"),s&&t.addClass("usetwentyfour"),S("s")&&!s&&t.addClass("wider"),n.sideBySide&&D()&&T()?(t.addClass("timepicker-sbs"),"top"===n.toolbarPlacement&&t.append(a),t.append(e("<div>").addClass("row").append(i.addClass("col-md-6")).append(o.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&t.append(a),t):("top"===n.toolbarPlacement&&r.append(a),D()&&r.append(e("<li>").addClass(n.collapse&&T()?"collapse in":"").append(i)),"default"===n.toolbarPlacement&&r.append(a),T()&&r.append(e("<li>").addClass(n.collapse&&D()?"collapse":"").append(o)),"bottom"===n.toolbarPlacement&&r.append(a),t.append(r))},M=function(){var t,o={};return t=i.is("input")||n.inline?i.data():i.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(o=e.extend(!0,o,t.dateOptions)),e.each(n,function(e){var i="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[i]&&(o[e]=t[i])}),o},P=function(){var t,o=(h||i).position(),r=(h||i).offset(),a=n.widgetPositioning.vertical,s=n.widgetPositioning.horizontal;if(n.widgetParent)t=n.widgetParent.append(f);else if(i.is("input"))t=i.after(f).parent();else{if(n.inline)return void(t=i.append(f));t=i,i.children().first().after(f)}if("auto"===a&&(a=r.top+1.5*f.height()>=e(window).height()+e(window).scrollTop()&&f.height()+i.outerHeight()<r.top?"top":"bottom"),"auto"===s&&(s=t.width()<r.left+f.outerWidth()/2&&r.left+f.outerWidth()>e(window).width()?"right":"left"),"top"===a?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===s?f.addClass("pull-right"):f.removeClass("pull-right"),"static"===t.css("position")&&(t=t.parents().filter(function(){return"static"!==e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");f.css({top:"top"===a?"auto":o.top+i.outerHeight(),bottom:"top"===a?t.outerHeight()-(t===i?0:o.top):"auto",left:"left"===s?t===i?0:o.left:"auto",right:"left"===s?"auto":t.outerWidth()-i.outerWidth()-(t===i?0:o.left)})},N=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||i.trigger(e)},L=function(e){"y"===e&&(e="YYYY"),N({type:"dp.update",change:e,viewDate:r.clone()})},F=function(e){f&&(e&&(d=Math.max(m,Math.min(3,d+e))),f.find(".datepicker > div").hide().filter(".datepicker-"+g[d].clsName).show())},$=function(){var t=e("<tr>"),i=r.clone().startOf("w").startOf("d");for(n.calendarWeeks===!0&&t.append(e("<th>").addClass("cw").text("#"));i.isBefore(r.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");f.find(".datepicker-days thead").append(t)},j=function(e){return n.disabledDates[e.format("YYYY-MM-DD")]===!0},H=function(e){return n.enabledDates[e.format("YYYY-MM-DD")]===!0},B=function(e){return n.disabledHours[e.format("H")]===!0},Y=function(e){return n.enabledHours[e.format("H")]===!0},z=function(t,i){if(!t.isValid())return!1;if(n.disabledDates&&"d"===i&&j(t))return!1;if(n.enabledDates&&"d"===i&&!H(t))return!1;if(n.minDate&&t.isBefore(n.minDate,i))return!1;if(n.maxDate&&t.isAfter(n.maxDate,i))return!1;if(n.daysOfWeekDisabled&&"d"===i&&n.daysOfWeekDisabled.indexOf(t.day())!==-1)return!1;if(n.disabledHours&&("h"===i||"m"===i||"s"===i)&&B(t))return!1;if(n.enabledHours&&("h"===i||"m"===i||"s"===i)&&!Y(t))return!1;if(n.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var o=!1;if(e.each(n.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return o=!0,!1}),o)return!1}return!0},q=function(){for(var t=[],i=r.clone().startOf("y").startOf("d");i.isSame(r,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM"))),i.add(1,"M");f.find(".datepicker-months td").empty().append(t)},U=function(){var t=f.find(".datepicker-months"),i=t.find("th"),a=t.find("tbody").find("span");i.eq(0).find("span").attr("title",n.tooltips.prevYear),i.eq(1).attr("title",n.tooltips.selectYear),i.eq(2).find("span").attr("title",n.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),z(r.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(r.year()),z(r.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),a.removeClass("active"),o.isSame(r,"y")&&!p&&a.eq(o.month()).addClass("active"),a.each(function(t){z(r.clone().month(t),"M")||e(this).addClass("disabled")})},W=function(){var e=f.find(".datepicker-years"),t=e.find("th"),i=r.clone().subtract(5,"y"),a=r.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",n.tooltips.prevDecade),t.eq(1).attr("title",n.tooltips.selectDecade),t.eq(2).find("span").attr("title",n.tooltips.nextDecade),
e.find(".disabled").removeClass("disabled"),n.minDate&&n.minDate.isAfter(i,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(i.year()+"-"+a.year()),n.maxDate&&n.maxDate.isBefore(a,"y")&&t.eq(2).addClass("disabled");!i.isAfter(a,"y");)s+='<span data-action="selectYear" class="year'+(i.isSame(o,"y")&&!p?" active":"")+(z(i,"y")?"":" disabled")+'">'+i.year()+"</span>",i.add(1,"y");e.find("td").html(s)},V=function(){var e,i=f.find(".datepicker-decades"),a=i.find("th"),s=t({y:r.year()-r.year()%100-1}),l=s.clone().add(100,"y"),c=s.clone(),d=!1,u=!1,p="";for(a.eq(0).find("span").attr("title",n.tooltips.prevCentury),a.eq(2).find("span").attr("title",n.tooltips.nextCentury),i.find(".disabled").removeClass("disabled"),(s.isSame(t({y:1900}))||n.minDate&&n.minDate.isAfter(s,"y"))&&a.eq(0).addClass("disabled"),a.eq(1).text(s.year()+"-"+l.year()),(s.isSame(t({y:2e3}))||n.maxDate&&n.maxDate.isBefore(l,"y"))&&a.eq(2).addClass("disabled");!s.isAfter(l,"y");)e=s.year()+12,d=n.minDate&&n.minDate.isAfter(s,"y")&&n.minDate.year()<=e,u=n.maxDate&&n.maxDate.isAfter(s,"y")&&n.maxDate.year()<=e,p+='<span data-action="selectDecade" class="decade'+(o.isAfter(s)&&o.year()<=e?" active":"")+(z(s,"y")||d||u?"":" disabled")+'" data-selection="'+(s.year()+6)+'">'+(s.year()+1)+" - "+(s.year()+12)+"</span>",s.add(12,"y");p+="<span></span><span></span><span></span>",i.find("td").html(p),a.eq(1).text(c.year()+1+"-"+s.year())},G=function(){var t,i,a,s=f.find(".datepicker-days"),l=s.find("th"),c=[],d=[];if(D()){for(l.eq(0).find("span").attr("title",n.tooltips.prevMonth),l.eq(1).attr("title",n.tooltips.selectMonth),l.eq(2).find("span").attr("title",n.tooltips.nextMonth),s.find(".disabled").removeClass("disabled"),l.eq(1).text(r.format(n.dayViewHeaderFormat)),z(r.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled"),z(r.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled"),t=r.clone().startOf("M").startOf("w").startOf("d"),a=0;a<42;a++)0===t.weekday()&&(i=e("<tr>"),n.calendarWeeks&&i.append('<td class="cw">'+t.week()+"</td>"),c.push(i)),d=["day"],t.isBefore(r,"M")&&d.push("old"),t.isAfter(r,"M")&&d.push("new"),t.isSame(o,"d")&&!p&&d.push("active"),z(t,"d")||d.push("disabled"),t.isSame(C(),"d")&&d.push("today"),0!==t.day()&&6!==t.day()||d.push("weekend"),N({type:"dp.classify",date:t,classNames:d}),i.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="'+d.join(" ")+'">'+t.date()+"</td>"),t.add(1,"d");s.find("tbody").empty().append(c),U(),W(),V()}},X=function(){var t=f.find(".timepicker-hours table"),i=r.clone().startOf("d"),n=[],o=e("<tr>");for(r.hour()>11&&!s&&i.hour(12);i.isSame(r,"d")&&(s||r.hour()<12&&i.hour()<12||r.hour()>11);)i.hour()%4===0&&(o=e("<tr>"),n.push(o)),o.append('<td data-action="selectHour" class="hour'+(z(i,"h")?"":" disabled")+'">'+i.format(s?"HH":"hh")+"</td>"),i.add(1,"h");t.empty().append(n)},Q=function(){for(var t=f.find(".timepicker-minutes table"),i=r.clone().startOf("h"),o=[],a=e("<tr>"),s=1===n.stepping?5:n.stepping;r.isSame(i,"h");)i.minute()%(4*s)===0&&(a=e("<tr>"),o.push(a)),a.append('<td data-action="selectMinute" class="minute'+(z(i,"m")?"":" disabled")+'">'+i.format("mm")+"</td>"),i.add(s,"m");t.empty().append(o)},K=function(){for(var t=f.find(".timepicker-seconds table"),i=r.clone().startOf("m"),n=[],o=e("<tr>");r.isSame(i,"m");)i.second()%20===0&&(o=e("<tr>"),n.push(o)),o.append('<td data-action="selectSecond" class="second'+(z(i,"s")?"":" disabled")+'">'+i.format("ss")+"</td>"),i.add(5,"s");t.empty().append(n)},Z=function(){var e,t,i=f.find(".timepicker span[data-time-component]");s||(e=f.find(".timepicker [data-action=togglePeriod]"),t=o.clone().add(o.hours()>=12?-12:12,"h"),e.text(o.format("A")),z(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),i.filter("[data-time-component=hours]").text(o.format(s?"HH":"hh")),i.filter("[data-time-component=minutes]").text(o.format("mm")),i.filter("[data-time-component=seconds]").text(o.format("ss")),X(),Q(),K()},J=function(){f&&(G(),Z())},ee=function(e){var t=p?null:o;if(!e)return p=!0,a.val(""),i.data("date",""),N({type:"dp.change",date:!1,oldDate:t}),void J();if(e=e.clone().locale(n.locale),k()&&e.tz(n.timeZone),1!==n.stepping)for(e.minutes(Math.round(e.minutes()/n.stepping)*n.stepping).seconds(0);n.minDate&&e.isBefore(n.minDate);)e.add(n.stepping,"minutes");z(e)?(o=e,r=o.clone(),a.val(o.format(l)),i.data("date",o.format(l)),p=!1,J(),N({type:"dp.change",date:o.clone(),oldDate:t})):(n.keepInvalid?N({type:"dp.change",date:e,oldDate:t}):a.val(p?"":o.format(l)),N({type:"dp.error",date:e,oldDate:t}))},te=function(){var t=!1;return f?(f.find(".collapse").each(function(){var i=e(this).data("collapse");return!i||!i.transitioning||(t=!0,!1)}),t?u:(h&&h.hasClass("btn")&&h.toggleClass("active"),f.hide(),e(window).off("resize",P),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,N({type:"dp.hide",date:o.clone()}),a.blur(),r=o.clone(),u)):u},ie=function(){ee(null)},ne=function(e){return void 0===n.parseInputDate?(!t.isMoment(e)||e instanceof Date)&&(e=C(e)):e=n.parseInputDate(e),e},oe={next:function(){var e=g[d].navFnc;r.add(g[d].navStep,e),G(),L(e)},previous:function(){var e=g[d].navFnc;r.subtract(g[d].navStep,e),G(),L(e)},pickerSwitch:function(){F(1)},selectMonth:function(t){var i=e(t.target).closest("tbody").find("span").index(e(t.target));r.month(i),d===m?(ee(o.clone().year(r.year()).month(r.month())),n.inline||te()):(F(-1),G()),L("M")},selectYear:function(t){var i=parseInt(e(t.target).text(),10)||0;r.year(i),d===m?(ee(o.clone().year(r.year())),n.inline||te()):(F(-1),G()),L("YYYY")},selectDecade:function(t){var i=parseInt(e(t.target).data("selection"),10)||0;r.year(i),d===m?(ee(o.clone().year(r.year())),n.inline||te()):(F(-1),G()),L("YYYY")},selectDay:function(t){var i=r.clone();e(t.target).is(".old")&&i.subtract(1,"M"),e(t.target).is(".new")&&i.add(1,"M"),ee(i.date(parseInt(e(t.target).text(),10))),T()||n.keepOpen||n.inline||te()},incrementHours:function(){var e=o.clone().add(1,"h");z(e,"h")&&ee(e)},incrementMinutes:function(){var e=o.clone().add(n.stepping,"m");z(e,"m")&&ee(e)},incrementSeconds:function(){var e=o.clone().add(1,"s");z(e,"s")&&ee(e)},decrementHours:function(){var e=o.clone().subtract(1,"h");z(e,"h")&&ee(e)},decrementMinutes:function(){var e=o.clone().subtract(n.stepping,"m");z(e,"m")&&ee(e)},decrementSeconds:function(){var e=o.clone().subtract(1,"s");z(e,"s")&&ee(e)},togglePeriod:function(){ee(o.clone().add(o.hours()>=12?-12:12,"h"))},togglePicker:function(t){var i,o=e(t.target),r=o.closest("ul"),a=r.find(".in"),s=r.find(".collapse:not(.in)");if(a&&a.length){if(i=a.data("collapse"),i&&i.transitioning)return;a.collapse?(a.collapse("hide"),s.collapse("show")):(a.removeClass("in"),s.addClass("in")),o.is("span")?o.toggleClass(n.icons.time+" "+n.icons.date):o.find("span").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide(),f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var i=parseInt(e(t.target).text(),10);s||(o.hours()>=12?12!==i&&(i+=12):12===i&&(i=0)),ee(o.clone().hours(i)),oe.showPicker.call(u)},selectMinute:function(t){ee(o.clone().minutes(parseInt(e(t.target).text(),10))),oe.showPicker.call(u)},selectSecond:function(t){ee(o.clone().seconds(parseInt(e(t.target).text(),10))),oe.showPicker.call(u)},clear:ie,today:function(){var e=C();z(e,"d")&&ee(e)},close:te},re=function(t){return!e(t.currentTarget).is(".disabled")&&(oe[e(t.currentTarget).data("action")].apply(u,arguments),!1)},ae=function(){var t,i={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return a.prop("disabled")||!n.ignoreReadonly&&a.prop("readonly")||f?u:(void 0!==a.val()&&0!==a.val().trim().length?ee(ne(a.val().trim())):p&&n.useCurrent&&(n.inline||a.is("input")&&0===a.val().trim().length)&&(t=C(),"string"==typeof n.useCurrent&&(t=i[n.useCurrent](t)),ee(t)),f=I(),$(),q(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),J(),F(),e(window).on("resize",P),f.on("click","[data-action]",re),f.on("mousedown",!1),h&&h.hasClass("btn")&&h.toggleClass("active"),P(),f.show(),n.focusOnShow&&!a.is(":focus")&&a.focus(),N({type:"dp.show"}),u)},se=function(){return f?te():ae()},le=function(e){var t,i,o,r,a=null,s=[],l={},c=e.which,d="p";_[c]=d;for(t in _)_.hasOwnProperty(t)&&_[t]===d&&(s.push(t),parseInt(t,10)!==c&&(l[t]=!0));for(t in n.keyBinds)if(n.keyBinds.hasOwnProperty(t)&&"function"==typeof n.keyBinds[t]&&(o=t.split(" "),o.length===s.length&&x[c]===o[o.length-1])){for(r=!0,i=o.length-2;i>=0;i--)if(!(x[o[i]]in l)){r=!1;break}if(r){a=n.keyBinds[t];break}}a&&(a.call(u,f),e.stopPropagation(),e.preventDefault())},ce=function(e){_[e.which]="r",e.stopPropagation(),e.preventDefault()},de=function(t){var i=e(t.target).val().trim(),n=i?ne(i):null;return ee(n),t.stopImmediatePropagation(),!1},ue=function(){a.on({change:de,blur:n.debug?"":te,keydown:le,keyup:ce,focus:n.allowInputToggle?ae:""}),i.is("input")?a.on({focus:ae}):h&&(h.on("click",se),h.on("mousedown",!1))},pe=function(){a.off({change:de,blur:blur,keydown:le,keyup:ce,focus:n.allowInputToggle?te:""}),i.is("input")?a.off({focus:ae}):h&&(h.off("click",se),h.off("mousedown",!1))},he=function(t){var i={};return e.each(t,function(){var e=ne(this);e.isValid()&&(i[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(i).length&&i},fe=function(t){var i={};return e.each(t,function(){i[this]=!0}),!!Object.keys(i).length&&i},me=function(){var e=n.format||"L LT";l=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=o.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return o.localeData().longDateFormat(e)||e})}),c=n.extraFormats?n.extraFormats.slice():[],c.indexOf(e)<0&&c.indexOf(l)<0&&c.push(l),s=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,S("y")&&(m=2),S("M")&&(m=1),S("d")&&(m=0),d=Math.max(m,d),p||ee(o)};if(u.destroy=function(){te(),pe(),i.removeData("DateTimePicker"),i.removeData("date")},u.toggle=se,u.show=ae,u.hide=te,u.disable=function(){return te(),h&&h.hasClass("btn")&&h.addClass("disabled"),a.prop("disabled",!0),u},u.enable=function(){return h&&h.hasClass("btn")&&h.removeClass("disabled"),a.prop("disabled",!1),u},u.ignoreReadonly=function(e){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=e,u},u.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,n,t),e.each(n,function(e,t){if(void 0===u[e])throw new TypeError("option "+e+" is not recognized!");u[e](t)}),u},u.date=function(e){if(0===arguments.length)return p?null:o.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return ee(null===e?null:ne(e)),u},u.format=function(e){if(0===arguments.length)return n.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+e);return n.format=e,l&&me(),u},u.timeZone=function(e){if(0===arguments.length)return n.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return n.timeZone=e,u},u.dayViewHeaderFormat=function(e){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=e,u},u.extraFormats=function(e){if(0===arguments.length)return n.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=e,c&&me(),u},u.disabledDates=function(t){if(0===arguments.length)return n.disabledDates?e.extend({},n.disabledDates):n.disabledDates;if(!t)return n.disabledDates=!1,J(),u;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=he(t),n.enabledDates=!1,J(),u},u.enabledDates=function(t){if(0===arguments.length)return n.enabledDates?e.extend({},n.enabledDates):n.enabledDates;if(!t)return n.enabledDates=!1,J(),u;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=he(t),n.disabledDates=!1,J(),u},u.daysOfWeekDisabled=function(e){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return n.daysOfWeekDisabled=!1,J(),u;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||t<0||isNaN(t)?e:(e.indexOf(t)===-1&&e.push(t),e)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var t=0;!z(o,"d");){if(o.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}ee(o)}return J(),u},u.maxDate=function(e){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof e&&e===!1)return n.maxDate=!1,J(),u;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=C()));var t=ne(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(n.minDate&&t.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(l));return n.maxDate=t,n.useCurrent&&!n.keepInvalid&&o.isAfter(e)&&ee(n.maxDate),r.isAfter(t)&&(r=t.clone().subtract(n.stepping,"m")),J(),u},u.minDate=function(e){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof e&&e===!1)return n.minDate=!1,J(),u;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=C()));var t=ne(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(n.maxDate&&t.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(l));return n.minDate=t,n.useCurrent&&!n.keepInvalid&&o.isBefore(e)&&ee(n.minDate),r.isBefore(t)&&(r=t.clone().add(n.stepping,"m")),J(),u},u.defaultDate=function(e){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!e)return n.defaultDate=!1,u;"string"==typeof e&&(e="now"===e||"moment"===e?C():C(e));var t=ne(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!z(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=t,(n.defaultDate&&n.inline||""===a.val().trim())&&ee(n.defaultDate),u},u.locale=function(e){if(0===arguments.length)return n.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return n.locale=e,o.locale(n.locale),r.locale(n.locale),l&&me(),f&&(te(),ae()),u},u.stepping=function(e){return 0===arguments.length?n.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),n.stepping=e,u)},u.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&t.indexOf(e.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return n.useCurrent=e,u},u.collapse=function(e){if(0===arguments.length)return n.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===e?u:(n.collapse=e,f&&(te(),ae()),u)},u.icons=function(t){if(0===arguments.length)return e.extend({},n.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(n.icons,t),f&&(te(),ae()),u},u.tooltips=function(t){if(0===arguments.length)return e.extend({},n.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(n.tooltips,t),f&&(te(),ae()),u},u.useStrict=function(e){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=e,u},u.sideBySide=function(e){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=e,f&&(te(),ae()),u},u.viewMode=function(e){if(0===arguments.length)return n.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(y.indexOf(e)===-1)throw new TypeError("viewMode() parameter must be one of ("+y.join(", ")+") value");return n.viewMode=e,d=Math.max(y.indexOf(e),m),F(),u},u.toolbarPlacement=function(e){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(w.indexOf(e)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return n.toolbarPlacement=e,f&&(te(),ae()),u},u.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),b.indexOf(t.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")");n.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),v.indexOf(t.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+v.join(", ")+")");n.widgetPositioning.vertical=t.vertical}return J(),u},u.calendarWeeks=function(e){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=e,J(),u},u.showTodayButton=function(e){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=e,f&&(te(),ae()),u},u.showClear=function(e){if(0===arguments.length)return n.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=e,f&&(te(),ae()),u},u.widgetParent=function(t){if(0===arguments.length)return n.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=t,f&&(te(),ae()),u},u.keepOpen=function(e){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=e,u},u.focusOnShow=function(e){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=e,u},u.inline=function(e){if(0===arguments.length)return n.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return n.inline=e,u},u.clear=function(){return ie(),u},u.keyBinds=function(e){return 0===arguments.length?n.keyBinds:(n.keyBinds=e,u)},u.getMoment=function(e){return C(e)},u.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return n.debug=e,u},u.allowInputToggle=function(e){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=e,u},u.showClose=function(e){if(0===arguments.length)return n.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=e,u},u.keepInvalid=function(e){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return n.keepInvalid=e,u},u.datepickerInput=function(e){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=e,u},u.parseInputDate=function(e){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=e,u},u.disabledTimeIntervals=function(t){if(0===arguments.length)return n.disabledTimeIntervals?e.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!t)return n.disabledTimeIntervals=!1,J(),u;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=t,J(),u},u.disabledHours=function(t){if(0===arguments.length)return n.disabledHours?e.extend({},n.disabledHours):n.disabledHours;if(!t)return n.disabledHours=!1,J(),u;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=fe(t),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var i=0;!z(o,"h");){if(o.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}ee(o)}return J(),u},u.enabledHours=function(t){if(0===arguments.length)return n.enabledHours?e.extend({},n.enabledHours):n.enabledHours;if(!t)return n.enabledHours=!1,J(),u;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=fe(t),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var i=0;!z(o,"h");){if(o.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}ee(o)}return J(),u},u.viewDate=function(e){if(0===arguments.length)return r.clone();if(!e)return r=o.clone(),u;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return r=ne(e),L(),u},i.is("input"))a=i;else if(a=i.find(n.datepickerInput),0===a.length)a=i.find("input");else if(!a.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(i.hasClass("input-group")&&(h=0===i.find(".datepickerbutton").length?i.find(".input-group-addon"):i.find(".datepickerbutton")),!n.inline&&!a.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return o=C(),r=o.clone(),e.extend(!0,n,M()),u.options(n),me(),ue(),a.prop("disabled")&&u.disable(),a.is("input")&&0!==a.val().trim().length?ee(ne(a.val().trim())):n.defaultDate&&void 0===a.attr("placeholder")&&ee(n.defaultDate),n.inline&&ae(),u};return e.fn.datetimepicker=function(t){t=t||{};var n,o=Array.prototype.slice.call(arguments,1),r=!0,a=["destroy","hide","show","toggle"];if("object"==typeof t)return this.each(function(){var n,o=e(this);o.data("DateTimePicker")||(n=e.extend(!0,{},e.fn.datetimepicker.defaults,t),o.data("DateTimePicker",i(o,n)))});if("string"==typeof t)return this.each(function(){var i=e(this),a=i.data("DateTimePicker");if(!a)throw new Error('bootstrap-datetimepicker("'+t+'") method was called on an element that is not using DateTimePicker');n=a[t].apply(a,o),r=n===a}),r||e.inArray(t,a)>-1?this:n;throw new TypeError("Invalid arguments for DateTimePicker: "+t)},e.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},e.fn.datetimepicker}),function(e,t){if("function"==typeof define&&define.amd)define("bootstrap-daterangepicker",["moment","jquery"],function(e,i){return i.fn||(i.fn={}),t(e,i)});else if("object"==typeof module&&module.exports){var i="undefined"!=typeof window?window.jQuery:void 0;i||(i=require("jquery"),i.fn||(i.fn={}));var n="undefined"!=typeof window&&"undefined"!=typeof window.moment?window.moment:require("moment");module.exports=t(n,i)}else e.daterangepicker=t(e.moment,e.jQuery)}(this,function(e,t){var i=function(i,n,o){if(this.parentEl="body",this.element=t(i),this.startDate=e().startOf("day"),this.endDate=e().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:e.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:e.weekdaysMin(),monthNames:e.monthsShort(),firstDay:e.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof n&&null!==n||(n={}),n=t.extend(this.element.data(),n),"string"==typeof n.template||n.template instanceof t||(n.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=t(n.parentEl&&t(n.parentEl).length?n.parentEl:this.parentEl),this.container=t(n.template).appendTo(this.parentEl),"object"==typeof n.locale&&("string"==typeof n.locale.direction&&(this.locale.direction=n.locale.direction),"string"==typeof n.locale.format&&(this.locale.format=n.locale.format),"string"==typeof n.locale.separator&&(this.locale.separator=n.locale.separator),"object"==typeof n.locale.daysOfWeek&&(this.locale.daysOfWeek=n.locale.daysOfWeek.slice()),"object"==typeof n.locale.monthNames&&(this.locale.monthNames=n.locale.monthNames.slice()),"number"==typeof n.locale.firstDay&&(this.locale.firstDay=n.locale.firstDay),"string"==typeof n.locale.applyLabel&&(this.locale.applyLabel=n.locale.applyLabel),"string"==typeof n.locale.cancelLabel&&(this.locale.cancelLabel=n.locale.cancelLabel),"string"==typeof n.locale.weekLabel&&(this.locale.weekLabel=n.locale.weekLabel),"string"==typeof n.locale.customRangeLabel)){var r=document.createElement("textarea");r.innerHTML=n.locale.customRangeLabel;var a=r.value;this.locale.customRangeLabel=a}if(this.container.addClass(this.locale.direction),"string"==typeof n.startDate&&(this.startDate=e(n.startDate,this.locale.format)),"string"==typeof n.endDate&&(this.endDate=e(n.endDate,this.locale.format)),"string"==typeof n.minDate&&(this.minDate=e(n.minDate,this.locale.format)),"string"==typeof n.maxDate&&(this.maxDate=e(n.maxDate,this.locale.format)),"object"==typeof n.startDate&&(this.startDate=e(n.startDate)),"object"==typeof n.endDate&&(this.endDate=e(n.endDate)),"object"==typeof n.minDate&&(this.minDate=e(n.minDate)),"object"==typeof n.maxDate&&(this.maxDate=e(n.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof n.applyClass&&(this.applyClass=n.applyClass),"string"==typeof n.cancelClass&&(this.cancelClass=n.cancelClass),"object"==typeof n.dateLimit&&(this.dateLimit=n.dateLimit),"string"==typeof n.opens&&(this.opens=n.opens),"string"==typeof n.drops&&(this.drops=n.drops),"boolean"==typeof n.showWeekNumbers&&(this.showWeekNumbers=n.showWeekNumbers),
"boolean"==typeof n.showISOWeekNumbers&&(this.showISOWeekNumbers=n.showISOWeekNumbers),"string"==typeof n.buttonClasses&&(this.buttonClasses=n.buttonClasses),"object"==typeof n.buttonClasses&&(this.buttonClasses=n.buttonClasses.join(" ")),"boolean"==typeof n.showDropdowns&&(this.showDropdowns=n.showDropdowns),"boolean"==typeof n.showCustomRangeLabel&&(this.showCustomRangeLabel=n.showCustomRangeLabel),"boolean"==typeof n.singleDatePicker&&(this.singleDatePicker=n.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof n.timePicker&&(this.timePicker=n.timePicker),"boolean"==typeof n.timePickerSeconds&&(this.timePickerSeconds=n.timePickerSeconds),"number"==typeof n.timePickerIncrement&&(this.timePickerIncrement=n.timePickerIncrement),"boolean"==typeof n.timePicker24Hour&&(this.timePicker24Hour=n.timePicker24Hour),"boolean"==typeof n.autoApply&&(this.autoApply=n.autoApply),"boolean"==typeof n.autoUpdateInput&&(this.autoUpdateInput=n.autoUpdateInput),"boolean"==typeof n.linkedCalendars&&(this.linkedCalendars=n.linkedCalendars),"function"==typeof n.isInvalidDate&&(this.isInvalidDate=n.isInvalidDate),"function"==typeof n.isCustomDate&&(this.isCustomDate=n.isCustomDate),"boolean"==typeof n.alwaysShowCalendars&&(this.alwaysShowCalendars=n.alwaysShowCalendars),0!=this.locale.firstDay)for(var s=this.locale.firstDay;s>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),s--;var l,c,d;if("undefined"==typeof n.startDate&&"undefined"==typeof n.endDate&&t(this.element).is("input[type=text]")){var u=t(this.element).val(),p=u.split(this.locale.separator);l=c=null,2==p.length?(l=e(p[0],this.locale.format),c=e(p[1],this.locale.format)):this.singleDatePicker&&""!==u&&(l=e(u,this.locale.format),c=e(u,this.locale.format)),null!==l&&null!==c&&(this.setStartDate(l),this.setEndDate(c))}if("object"==typeof n.ranges){for(d in n.ranges){l="string"==typeof n.ranges[d][0]?e(n.ranges[d][0],this.locale.format):e(n.ranges[d][0]),c="string"==typeof n.ranges[d][1]?e(n.ranges[d][1],this.locale.format):e(n.ranges[d][1]),this.minDate&&l.isBefore(this.minDate)&&(l=this.minDate.clone());var h=this.maxDate;if(this.dateLimit&&h&&l.clone().add(this.dateLimit).isAfter(h)&&(h=l.clone().add(this.dateLimit)),h&&c.isAfter(h)&&(c=h.clone()),!(this.minDate&&c.isBefore(this.minDate,this.timepicker?"minute":"day")||h&&l.isAfter(h,this.timepicker?"minute":"day"))){var r=document.createElement("textarea");r.innerHTML=d;var a=r.value;this.ranges[a]=[l,c]}}var f="<ul>";for(d in this.ranges)f+='<li data-range-key="'+d+'">'+d+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.find(".ranges").prepend(f)}"function"==typeof o&&(this.callback=o),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof n.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),("undefined"==typeof n.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof n.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",t.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",t.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsKeydown,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)).on("click.daterangepicker","li",t.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",t.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",t.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",t.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",t.proxy(this.toggle,this))),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return i.prototype={constructor:i,setStartDate:function(t){"string"==typeof t&&(this.startDate=e(t,this.locale.format)),"object"==typeof t&&(this.startDate=e(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=e(t,this.locale.format)),"object"==typeof t&&(this.endDate=e(t)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var e,t,i;if(this.endDate){if(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var n=this.container.find(".left .ampmselect").val();"PM"===n&&e<12&&(e+=12),"AM"===n&&12===e&&(e=0)}}else if(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var n=this.container.find(".right .ampmselect").val();"PM"===n&&e<12&&(e+=12),"AM"===n&&12===e&&(e=0)}this.leftCalendar.month.hour(e).minute(t).second(i),this.rightCalendar.month.hour(e).minute(t).second(i)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(i){var n="left"==i?this.leftCalendar:this.rightCalendar,o=n.month.month(),r=n.month.year(),a=n.month.hour(),s=n.month.minute(),l=n.month.second(),c=e([r,o]).daysInMonth(),d=e([r,o,1]),u=e([r,o,c]),p=e(d).subtract(1,"month").month(),h=e(d).subtract(1,"month").year(),f=e([h,p]).daysInMonth(),m=d.day(),n=[];n.firstDay=d,n.lastDay=u;for(var g=0;g<6;g++)n[g]=[];var y=f-m+this.locale.firstDay+1;y>f&&(y-=7),m==this.locale.firstDay&&(y=f-6);for(var v,b,w=e([h,p,y,12,s,l]),g=0,v=0,b=0;g<42;g++,v++,w=e(w).add(24,"hour"))g>0&&v%7===0&&(v=0,b++),n[b][v]=w.clone().hour(a).minute(s).second(l),w.hour(12),this.minDate&&n[b][v].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&n[b][v].isBefore(this.minDate)&&"left"==i&&(n[b][v]=this.minDate.clone()),this.maxDate&&n[b][v].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&n[b][v].isAfter(this.maxDate)&&"right"==i&&(n[b][v]=this.maxDate.clone());"left"==i?this.leftCalendar.calendar=n:this.rightCalendar.calendar=n;var x="left"==i?this.minDate:this.startDate,_=this.maxDate,k=("left"==i?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),C='<table class="table-condensed">';C+="<thead>",C+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(C+="<th></th>"),C+=x&&!x.isBefore(n.firstDay)||this.linkedCalendars&&"left"!=i?"<th></th>":'<th class="prev available"><i class="fa fa-'+k.left+" glyphicon glyphicon-"+k.left+'"></i></th>';var S=this.locale.monthNames[n[1][1].month()]+n[1][1].format(" YYYY");if(this.showDropdowns){for(var T=n[1][1].month(),D=n[1][1].year(),E=_&&_.year()||D+5,R=x&&x.year()||D-50,A=D==R,O=D==E,I='<select class="monthselect">',M=0;M<12;M++)I+=(!A||M>=x.month())&&(!O||M<=_.month())?"<option value='"+M+"'"+(M===T?" selected='selected'":"")+">"+this.locale.monthNames[M]+"</option>":"<option value='"+M+"'"+(M===T?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[M]+"</option>";I+="</select>";for(var P='<select class="yearselect">',N=R;N<=E;N++)P+='<option value="'+N+'"'+(N===D?' selected="selected"':"")+">"+N+"</option>";P+="</select>",S=I+P}if(C+='<th colspan="5" class="month">'+S+"</th>",C+=_&&!_.isAfter(n.lastDay)||this.linkedCalendars&&"right"!=i&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-'+k.right+" glyphicon glyphicon-"+k.right+'"></i></th>',C+="</tr>",C+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(C+='<th class="week">'+this.locale.weekLabel+"</th>"),t.each(this.locale.daysOfWeek,function(e,t){C+="<th>"+t+"</th>"}),C+="</tr>",C+="</thead>",C+="<tbody>",null==this.endDate&&this.dateLimit){var L=this.startDate.clone().add(this.dateLimit).endOf("day");_&&!L.isBefore(_)||(_=L)}for(var b=0;b<6;b++){C+="<tr>",this.showWeekNumbers?C+='<td class="week">'+n[b][0].week()+"</td>":this.showISOWeekNumbers&&(C+='<td class="week">'+n[b][0].isoWeek()+"</td>");for(var v=0;v<7;v++){var F=[];n[b][v].isSame(new Date,"day")&&F.push("today"),n[b][v].isoWeekday()>5&&F.push("weekend"),n[b][v].month()!=n[1][1].month()&&F.push("off"),this.minDate&&n[b][v].isBefore(this.minDate,"day")&&F.push("off","disabled"),_&&n[b][v].isAfter(_,"day")&&F.push("off","disabled"),this.isInvalidDate(n[b][v])&&F.push("off","disabled"),n[b][v].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&F.push("active","start-date"),null!=this.endDate&&n[b][v].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&F.push("active","end-date"),null!=this.endDate&&n[b][v]>this.startDate&&n[b][v]<this.endDate&&F.push("in-range");var $=this.isCustomDate(n[b][v]);$!==!1&&("string"==typeof $?F.push($):Array.prototype.push.apply(F,$));for(var j="",H=!1,g=0;g<F.length;g++)j+=F[g]+" ","disabled"==F[g]&&(H=!0);H||(j+="available"),C+='<td class="'+j.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+v+'">'+n[b][v].date()+"</td>"}C+="</tr>"}C+="</tbody>",C+="</table>",this.container.find(".calendar."+i+" .calendar-table").html(C)},renderTimePicker:function(e){if("right"!=e||this.endDate){var t,i,n,o=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(o=this.startDate.clone().add(this.dateLimit)),"left"==e)i=this.startDate.clone(),n=this.minDate;else if("right"==e){i=this.endDate.clone(),n=this.startDate;var r=this.container.find(".calendar.right .calendar-time div");if(""!=r.html()&&(i.hour(r.find(".hourselect option:selected").val()||i.hour()),i.minute(r.find(".minuteselect option:selected").val()||i.minute()),i.second(r.find(".secondselect option:selected").val()||i.second()),!this.timePicker24Hour)){var a=r.find(".ampmselect option:selected").val();"PM"===a&&i.hour()<12&&i.hour(i.hour()+12),"AM"===a&&12===i.hour()&&i.hour(0)}i.isBefore(this.startDate)&&(i=this.startDate.clone()),o&&i.isAfter(o)&&(i=o.clone())}t='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,c=s;c<=l;c++){var d=c;this.timePicker24Hour||(d=i.hour()>=12?12==c?12:c+12:12==c?0:c);var u=i.clone().hour(d),p=!1;n&&u.minute(59).isBefore(n)&&(p=!0),o&&u.minute(0).isAfter(o)&&(p=!0),t+=d!=i.hour()||p?p?'<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+c+'">'+c+"</option>":'<option value="'+c+'" selected="selected">'+c+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(var c=0;c<60;c+=this.timePickerIncrement){var h=c<10?"0"+c:c,u=i.clone().minute(c),p=!1;n&&u.second(59).isBefore(n)&&(p=!0),o&&u.second(0).isAfter(o)&&(p=!0),t+=i.minute()!=c||p?p?'<option value="'+c+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+c+'">'+h+"</option>":'<option value="'+c+'" selected="selected">'+h+"</option>"}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(var c=0;c<60;c++){var h=c<10?"0"+c:c,u=i.clone().second(c),p=!1;n&&u.isBefore(n)&&(p=!0),o&&u.isAfter(o)&&(p=!0),t+=i.second()!=c||p?p?'<option value="'+c+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+c+'">'+h+"</option>":'<option value="'+c+'" selected="selected">'+h+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var f="",m="";n&&i.clone().hour(12).minute(0).second(0).isBefore(n)&&(f=' disabled="disabled" class="disabled"'),o&&i.clone().hour(0).minute(0).second(0).isAfter(o)&&(m=' disabled="disabled" class="disabled"'),t+=i.hour()>=12?'<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+m+">PM</option>":'<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+m+">PM</option>",t+="</select>"}this.container.find(".calendar."+e+" .calendar-time div").html(t)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var e,i={top:0,left:0},n=t(window).width();this.parentEl.is("body")||(i={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),e="up"==this.drops?this.element.offset().top-this.container.outerHeight()-i.top:this.element.offset().top+this.element.outerHeight()-i.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:e,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:e,left:this.element.offset().left-i.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:e,left:this.element.offset().left-i.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>t(window).width()&&this.container.css({left:"auto",right:0}))},show:function(e){this.isShowing||(this._outsideClickProxy=t.proxy(function(e){this.outsideClick(e)},this),t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),t(window).on("resize.daterangepicker",t.proxy(function(e){this.move(e)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var i=t(e.target);"focusin"==e.type||i.closest(this.element).length||i.closest(this.container).length||i.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(e){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var t=e.target.getAttribute("data-range-key");if(t==this.locale.customRangeLabel)this.updateView();else{var i=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.locale.format))}}},clickRange:function(e){var t=e.target.getAttribute("data-range-key");if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var i=this.ranges[t];this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(e){var i=t(e.target).parents(".calendar");i.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){var i=t(e.target).parents(".calendar");i.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(t(e.target).hasClass("available")){var i=t(e.target).attr("data-title"),n=i.substr(1,1),o=i.substr(3,1),r=t(e.target).parents(".calendar"),a=r.hasClass("left")?this.leftCalendar.calendar[n][o]:this.rightCalendar.calendar[n][o];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(a.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(a.format(this.locale.format));var s=this.leftCalendar,l=this.rightCalendar,c=this.startDate;this.endDate||this.container.find(".calendar tbody td").each(function(e,i){if(!t(i).hasClass("week")){var n=t(i).attr("data-title"),o=n.substr(1,1),r=n.substr(3,1),d=t(i).parents(".calendar"),u=d.hasClass("left")?s.calendar[o][r]:l.calendar[o][r];u.isAfter(c)&&u.isBefore(a)||u.isSame(a,"day")?t(i).addClass("in-range"):t(i).removeClass("in-range")}})}},clickDate:function(e){if(t(e.target).hasClass("available")){var i=t(e.target).attr("data-title"),n=i.substr(1,1),o=i.substr(3,1),r=t(e.target).parents(".calendar"),a=r.hasClass("left")?this.leftCalendar.calendar[n][o]:this.rightCalendar.calendar[n][o];if(this.endDate||a.isBefore(this.startDate,"day")){if(this.timePicker){var s=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var c=parseInt(this.container.find(".left .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;a=a.clone().hour(s).minute(c).second(d)}this.endDate=null,this.setStartDate(a.clone())}else if(!this.endDate&&a.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var s=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var c=parseInt(this.container.find(".right .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;a=a.clone().hour(s).minute(c).second(d)}this.setEndDate(a.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),e.stopPropagation()}},calculateChosenLabel:function(){var e=!0,t=0;for(var i in this.ranges){if(this.timePicker){var n=this.timePickerSeconds?"YYYY-MM-DD hh:mm:ss":"YYYY-MM-DD hh:mm";if(this.startDate.format(n)==this.ranges[i][0].format(n)&&this.endDate.format(n)==this.ranges[i][1].format(n)){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[i][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[i][1].format("YYYY-MM-DD")){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}t++}e&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var i=t(e.target).closest(".calendar").hasClass("left"),n=i?"left":"right",o=this.container.find(".calendar."+n),r=parseInt(o.find(".monthselect").val(),10),a=o.find(".yearselect").val();i||(a<this.startDate.year()||a==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),a=this.maxDate.year()),i?(this.leftCalendar.month.month(r).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var i=t(e.target).closest(".calendar"),n=i.hasClass("left"),o=parseInt(i.find(".hourselect").val(),10),r=parseInt(i.find(".minuteselect").val(),10),a=this.timePickerSeconds?parseInt(i.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var s=i.find(".ampmselect").val();"PM"===s&&o<12&&(o+=12),"AM"===s&&12===o&&(o=0)}if(n){var l=this.startDate.clone();l.hour(o),l.minute(r),l.second(a),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var c=this.endDate.clone();c.hour(o),c.minute(r),c.second(a),this.setEndDate(c)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(i){var n=t(i.target).closest(".calendar").hasClass("right"),o=e(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),r=e(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);o.isValid()&&r.isValid()&&(n&&r.isBefore(o)&&(o=r.clone()),this.setStartDate(o),this.setEndDate(r),n?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(e){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),t(e.target).addClass("active");var i=t(e.target).closest(".calendar").hasClass("right");i&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(t){if(!this.endDate){var i=this.container.find('input[name="daterangepicker_end"]').val(),n=e(i,this.locale.format);n.isValid()&&(this.setEndDate(n),this.updateView())}},formInputsKeydown:function(e){13===e.keyCode&&(e.preventDefault(),this.formInputsChanged(e))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.locale.separator),i=null,n=null;2===t.length&&(i=e(t[0],this.locale.format),n=e(t[1],this.locale.format)),(this.singleDatePicker||null===i||null===n)&&(i=e(this.element.val(),this.locale.format),n=i),i.isValid()&&n.isValid()&&(this.setStartDate(i),this.setEndDate(n),this.updateView())}},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide(),27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.hide())},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},t.fn.daterangepicker=function(e,n){var o=t.extend(!0,{},t.fn.daterangepicker.defaultOptions,e);return this.each(function(){var e=t(this);e.data("daterangepicker")&&e.data("daterangepicker").remove(),e.data("daterangepicker",new i(e,o,n))}),this},i}),!function(e){"use strict";var t=[],i=e.fn.bootstrapTable.utils.sprintf,n=function(t,n){var r=o(t,n),a=i('<div class="commonsearch-table %s">',n.options.searchFormVisible?"":"hidden");a+=r.join(""),a+="</div>",n.$container.prepend(e(a)),n.$commonsearch=e(".commonsearch-table",n.$container);var s=e("form.form-commonsearch",n.$commonsearch);if(e(".datetimepicker",s).size()>0&&require(["bootstrap-datetimepicker"],function(){e(".datetimepicker",s).parent().css("position","relative"),e(".datetimepicker",s).datetimepicker({icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-history",clear:"fa fa-trash",close:"fa fa-remove"},showTodayButton:!0,showClose:!0})}),e(".datetimerange",s).size()>0){var l={};l[__("Today")]=[Moment().startOf("day"),Moment().endOf("day")],l[__("Yesterday")]=[Moment().subtract(1,"days").startOf("day"),Moment().subtract(1,"days").endOf("day")],l[__("Last 7 Days")]=[Moment().subtract(6,"days").startOf("day"),Moment().endOf("day")],l[__("Last 30 Days")]=[Moment().subtract(29,"days").startOf("day"),Moment().endOf("day")],l[__("This Month")]=[Moment().startOf("month"),Moment().endOf("month")],l[__("Last Month")]=[Moment().subtract(1,"month").startOf("month"),Moment().subtract(1,"month").endOf("month")];var c,d,u={timePicker:!1,
autoUpdateInput:!1,timePickerSeconds:!0,timePicker24Hour:!0,autoApply:!0,locale:{format:"YYYY-MM-DD HH:mm:ss",customRangeLabel:__("Custom Range"),applyLabel:__("Apply"),cancelLabel:__("Clear")},ranges:l},p=function(t,i){e(this.element).val(t.format(u.locale.format)+" - "+i.format(u.locale.format))};require(["bootstrap-daterangepicker"],function(){e(".datetimerange",s).each(function(){e(this).on("apply.daterangepicker",function(e,t){p.call(t,t.startDate,t.endDate)}),e(this).on("cancel.daterangepicker",function(t,i){e(this).val("")}),d=e(this).data("index"),c=t[d],e(this).daterangepicker(e.extend({},u,c.options||{}),p)})})}s.on("submit",function(e){return e.preventDefault(),n.onCommonSearch(),!1}),s.on("click","button[type=reset]",function(e){s[0].reset(),n.onCommonSearch()})},o=function(n,o){var a=[],s=["=",">",">=","<","<=","!=","FIND_IN_SET","LIKE","LIKE %...%","NOT LIKE","IN","NOT IN","IN(...)","NOT IN(...)","BETWEEN","NOT BETWEEN","RANGE","NOT RANGE","IS NULL","IS NOT NULL"];a.push(i('<form class="form-horizontal form-commonsearch" action="%s" >',o.options.actionForm)),a.push("<fieldset>"),o.options.titleForm.length>0&&a.push(i("<legend>%s</legend>",o.options.titleForm)),a.push('<div class="row">');for(var l in n){var c=n[l];if(!c.checkbox&&"operate"!==c.field&&c.searchable&&c.operate!==!1){var d=Backend.api.query(c.field);d=d?d:"",c.defaultValue=o.options.renderDefault&&""!=d?d:"undefined"==typeof c.defaultValue?"":c.defaultValue,t.push(c),a.push('<div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-3">'),a.push(i('<label for="%s" class="control-label col-xs-4">%s</label>',c.field,c.title)),a.push('<div class="col-xs-8">'),c.operate="undefined"==typeof c.operate||e.inArray(c.operate.toUpperCase(),s)===-1?"=":c.operate.toUpperCase(),a.push(i('<input type="hidden" class="form-control operate" name="field-%s" data-name="%s" value="%s" readonly>',c.field,c.field,c.operate));var u="undefined"==typeof c.style?"":i('style="%s"',c.style);if(c.searchList)if("object"==typeof c.searchList&&"function"==typeof c.searchList.then)a.push(i('<select class="form-control" name="%s" %s>%s</select>',c.field,u,i('<option value="">%s</option>',o.options.formatCommonChoose()))),function(t,n){e.when(t.searchList).done(function(o){var r=!1;if(o.data&&o.data.searchlist&&e.isArray(o.data.searchlist)){var a={};e.each(o.data.searchlist,function(e,t){a[t.id]=t.name})}else if(o.constructor===Array||o.constructor===Object){var a=o;r=o.constructor===Array||r}var s=[];e.each(a,function(e,n){var o=(r?n:e)==t.defaultValue?"selected":"";s.push(i("<option value='"+(r?n:e)+"' %s>"+n+"</option>",o))}),e("form.form-commonsearch select[name='"+t.field+"']",n.$container).append(s.join(""))})}(c,o);else if("function"==typeof c.searchList)a.push(c.searchList.call(this,c));else{var p=c.searchList.constructor===Array,h=[];h.push(i('<option value="">%s</option>',o.options.formatCommonChoose())),e.each(c.searchList,function(e,t){var n=(p?t:e)==c.defaultValue?"selected":"";h.push(i("<option value='"+(p?t:e)+"' %s>"+t+"</option>",n))}),a.push(i('<select class="form-control" name="%s" %s>%s</select>',c.field,u,h.join("")))}else{var f="undefined"==typeof c.placeholder?c.title:c.placeholder,m="undefined"==typeof c.type?"text":c.type,g="undefined"==typeof c.addclass?"form-control":"form-control "+c.addclass,y="undefined"==typeof c.data?"":c.data,v="undefined"==typeof c.defaultValue?"":c.defaultValue;if(/BETWEEN$/.test(c.operate)){var b=v.toString().match(/\|/)?v.split("|"):["",""],w=f.toString().match(/\|/)?f.split("|"):[f,f];a.push('<div class="row row-between">'),a.push(i('<div class="col-xs-6 11"><input type="%s" class="%s" name="%s" value="%s" placeholder="%s" id="%s" data-index="%s" %s %s></div>',m,g,c.field,b[0],w[0],c.field,l,u,y)),a.push(i('<div class="col-xs-6 22"><input type="%s" class="%s" name="%s" value="%s" placeholder="%s" id="%s" data-index="%s" %s %s></div>',m,g,c.field,b[1],w[1],c.field,l,u,y)),a.push("</div>")}else a.push(i('<input type="%s" class="%s" name="%s" value="%s" placeholder="%s" id="%s" data-index="%s" %s %s>',m,g,c.field,v,f,c.field,l,u,y))}a.push("</div>"),a.push("</div>")}}return a.push('<div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-3">'),a.push(r(o).join("")),a.push("</div>"),a.push("</div>"),a.push("</fieldset>"),a.push("</form>"),a},r=function(e){var t=[],n=e.options.formatCommonSubmitButton(),o=e.options.formatCommonResetButton();return t.push('<div class="col-sm-8 col-xs-offset-4">'),t.push(i('<button type="submit" class="btn btn-success" >%s</button> ',n)),t.push(i('<button type="reset" class="btn btn-default" >%s</button> ',o)),t.push("</div>"),t},a=function(e){return!(!e.options.commonSearch||"server"!=e.options.sidePagination||!e.options.url)},s=function(i,n){var o={},r={},a="";return e("form.form-commonsearch input.operate",i.$commonsearch).each(function(s){var l=e(this).data("name"),c=e(this).val().toUpperCase(),d=e("[name='"+l+"']",i.$commonsearch);if(0==d.size())return!0;var u=t[s];if(d.size()>1)if(/BETWEEN$/.test(c)){var p=e.trim(e("[name='"+l+"']:first",i.$commonsearch).val()),h=e.trim(e("[name='"+l+"']:last",i.$commonsearch).val());p.length||h.length?("function"==typeof u.process&&(p=u.process(p,"begin"),h=u.process(h,"end")),a=p+","+h):a="",e("[name='"+l+"']:first",i.$commonsearch).hasClass("datetimepicker")&&(c="RANGE")}else a=e("[name='"+l+"']:checked",i.$commonsearch).val();else a=u&&"function"==typeof u.process?u.process(d.val()):"LIKE %...%"==c?d.val().replace(/\*/g,"%"):d.val();return!(!n||""!=a||c.indexOf("NULL")!=-1)||(o[l]=c,void(r[l]=a))}),{op:o,filter:r}},l=function(t,i,n){return t.filter="Object"==typeof t.filter?t.filter:t.filter?JSON.parse(t.filter):{},t.op="Object"==typeof t.op?t.op:t.op?JSON.parse(t.op):{},t.filter=e.extend({},t.filter,i.filter),t.op=e.extend({},t.op,i.op),n&&e.each(t.filter,function(e,i){""===i&&(delete t.filter[e],delete t.op[e])}),t.filter=JSON.stringify(t.filter),t.op=JSON.stringify(t.op),t};e.extend(e.fn.bootstrapTable.defaults,{commonSearch:!1,titleForm:"Common search",actionForm:"",searchFormVisible:!0,searchClass:"searchit",renderDefault:!0,onCommonSearch:function(e,t){return!1},onPostCommonSearch:function(e){return!1}}),e.extend(e.fn.bootstrapTable.defaults.icons,{commonSearchIcon:"glyphicon-search"}),e.extend(e.fn.bootstrapTable.Constructor.EVENTS,{"common-search.bs.table":"onCommonSearch","post-common-search.bs.table":"onPostCommonSearch"}),e.extend(e.fn.bootstrapTable.locales[e.fn.bootstrapTable.defaults.locale],{formatCommonSearch:function(){return"Common search"},formatCommonSubmitButton:function(){return"Submit"},formatCommonResetButton:function(){return"Reset"},formatCommonCloseButton:function(){return"Close"},formatCommonChoose:function(){return"Choose"}}),e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales);var c=e.fn.bootstrapTable.Constructor,d=c.prototype.initHeader,u=c.prototype.initToolbar,p=c.prototype.load,h=c.prototype.initSearch;c.prototype.initHeader=function(){d.apply(this,Array.prototype.slice.apply(arguments)),this.$header.find("th[data-field]").each(function(t){var i=e(this).data();"undefined"!=typeof i.width&&e(this).css("min-width",i.width)})},c.prototype.initToolbar=function(){if(u.apply(this,Array.prototype.slice.apply(arguments)),a(this)){var t=this,o=[];o.push(i('<div class="columns-%s pull-%s" style="margin-top:10px;margin-bottom:10px;">',this.options.buttonsAlign,this.options.buttonsAlign)),o.push(i('<button class="btn btn-default%s" type="button" name="commonSearch" title="%s">',void 0===t.options.iconSize?"":" btn-"+t.options.iconSize,t.options.formatCommonSearch())),o.push(i('<i class="%s %s"></i>',t.options.iconsPrefix,t.options.icons.commonSearchIcon)),o.push("</button></div>"),t.$toolbar.find(".pull-right").size()>0?e(o.join("")).insertBefore(t.$toolbar.find(".pull-right:first")):t.$toolbar.append(o.join("")),n(t.columns,t),t.$toolbar.find('button[name="commonSearch"]').off("click").on("click",function(){t.$commonsearch.toggleClass("hidden")}),t.$container.on("click","."+t.options.searchClass,function(){var i=e("form [name='"+e(this).data("field")+"']",t.$commonsearch);i.size()>0&&(i.val(e(this).data("value")),e("form",t.$commonsearch).trigger("submit"))});var r=t.options.queryParams;this.options.queryParams=function(e){return r(l(e,s(this,!0)))},this.trigger("post-common-search",t)}},c.prototype.onCommonSearch=function(){var e=s(this);this.trigger("common-search",this,e),this.options.pageNumber=1,this.refresh({})},c.prototype.load=function(e){p.apply(this,Array.prototype.slice.apply(arguments)),!a(this)},c.prototype.initSearch=function(){if(h.apply(this,Array.prototype.slice.apply(arguments)),a(this)){var t=this,i=e.isEmptyObject(this.filterColumnsPartial)?null:this.filterColumnsPartial;this.data=i?e.grep(this.data,function(n,o){for(var r in i){var a=i[r].toLowerCase(),s=n[r];if(s=e.fn.bootstrapTable.utils.calculateObjectValue(t.header,t.header.formatters[e.inArray(r,t.header.fields)],[s,n,o],s),e.inArray(r,t.header.fields)===-1||"string"!=typeof s&&"number"!=typeof s||(s+"").toLowerCase().indexOf(a)===-1)return!1}return!0}):this.data}}}(jQuery),define("bootstrap-table-commonsearch",["bootstrap-table"],function(e){return function(){var t;return t||e.$.fn.bootstrapTable.defaults}}(this)),!function(){function e(e){return e.replace(b,"").replace(w,",").replace(x,"").replace(_,"").replace(k,"").split(C)}function t(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function i(i,n){function o(e){return p+=e.split(/\n/).length-1,d&&(e=e.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),e&&(e=v[1]+t(e)+v[2]+"\n"),e}function r(t){var i=p;if(c?t=c(t,n):a&&(t=t.replace(/\n/g,function(){return p++,"$line="+p+";"})),0===t.indexOf("=")){var o=u&&!/^=[=#]/.test(t);if(t=t.replace(/^=[=#]?|[\s;]*$/g,""),o){var r=t.replace(/\s*\([^\)]+\)/,"");h[r]||/^(include|print)$/.test(r)||(t="$escape("+t+")")}else t="$string("+t+")";t=v[1]+t+v[2]}return a&&(t="$line="+i+";"+t),y(e(t),function(e){if(e&&!m[e]){var t;t="print"===e?w:"include"===e?x:h[e]?"$utils."+e:f[e]?"$helpers."+e:"$data."+e,_+=e+"="+t+",",m[e]=!0}}),t+"\n"}var a=n.debug,s=n.openTag,l=n.closeTag,c=n.parser,d=n.compress,u=n.escape,p=1,m={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},g="".trim,v=g?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],b=g?"$out+=text;return $out;":"$out.push(text);",w="function(){var text=''.concat.apply('',arguments);"+b+"}",x="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+b+"}",_="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(a?"$line=0,":""),k=v[0],C="return new String("+v[3]+");";y(i.split(s),function(e){e=e.split(l);var t=e[0],i=e[1];1===e.length?k+=o(t):(k+=r(t),i&&(k+=o(i)))});var S=_+k+C;a&&(S="try{"+S+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+t(i)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var T=new Function("$data","$filename",S);return T.prototype=h,T}catch(e){throw e.temp="function anonymous($data,$filename) {"+S+"}",e}}var n=function(e,t){return"string"==typeof t?g(t,{filename:e}):a(e,t)};n.version="3.0.0",n.config=function(e,t){o[e]=t};var o=n.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},r=n.cache={};n.render=function(e,t){return g(e)(t)};var a=n.renderFile=function(e,t){var i=n.get(e)||m({filename:e,name:"Render Error",message:"Template not found"});return t?i(t):i};n.get=function(e){var t;if(r[e])t=r[e];else if("object"==typeof document){var i=document.getElementById(e);if(i){var n=(i.value||i.innerHTML).replace(/^\s*|\s*$/g,"");t=g(n,{filename:e})}}return t};var s=function(e,t){return"string"!=typeof e&&(t=typeof e,"number"===t?e+="":e="function"===t?s(e.call(e)):""),e},l={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},c=function(e){return l[e]},d=function(e){return s(e).replace(/&(?![\w#]+;)|[<>"']/g,c)},u=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},p=function(e,t){var i,n;if(u(e))for(i=0,n=e.length;i<n;i++)t.call(e,e[i],i,e);else for(i in e)t.call(e,e[i],i)},h=n.utils={$helpers:{},$include:a,$string:s,$escape:d,$each:p};n.helper=function(e,t){f[e]=t};var f=n.helpers=h.$helpers;n.onerror=function(e){var t="Template Error\n\n";for(var i in e)t+="<"+i+">\n"+e[i]+"\n\n";"object"==typeof console&&console.error(t)};var m=function(e){return n.onerror(e),function(){return"{Template Error}"}},g=n.compile=function(e,t){function n(i){try{return new l(i,s)+""}catch(n){return t.debug?m(n)():(t.debug=!0,g(e,t)(i))}}t=t||{};for(var a in o)void 0===t[a]&&(t[a]=o[a]);var s=t.filename;try{var l=i(e,t)}catch(e){return e.filename=s||"anonymous",e.name="Syntax Error",m(e)}return n.prototype=l.prototype,n.toString=function(){return l.toString()},s&&t.cache&&(r[s]=n),n},y=h.$each,v="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",b=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,w=/[^\w$]+/g,x=new RegExp(["\\b"+v.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),_=/^\d[^,]*|,\d[^,]*/g,k=/^,+|,+$/g,C=/^$|,+/;"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define?define("template",[],function(){return n}):this.template=n}(),!function(e){"use strict";e.extend(e.fn.bootstrapTable.defaults,{templateView:!1,templateFormatter:"itemtpl",templateParentClass:"row row-flex",templateTableClass:"table-template"});var t=e.fn.bootstrapTable.Constructor,i=t.prototype.initContainer,n=t.prototype.initBody,o=t.prototype.initRow;t.prototype.initContainer=function(){i.apply(this,Array.prototype.slice.apply(arguments));var e=this;e.options.templateView&&(e.options.cardView=!0)},t.prototype.initBody=function(){var t=this;e.extend(t.options,{showHeader:!t.options.templateView&&e.fn.bootstrapTable.defaults.showHeader,showFooter:!t.options.templateView&&e.fn.bootstrapTable.defaults.showFooter}),e(t.$el).toggleClass(t.options.templateTableClass,t.options.templateView),n.apply(this,Array.prototype.slice.apply(arguments)),t.options.templateView&&e("> *:not(.no-records-found)",t.$body).wrapAll(e("<div />").addClass(t.options.templateParentClass))},t.prototype.initRow=function(e,t,i,n){var r=this;if(!r.options.templateView)return o.apply(r,Array.prototype.slice.apply(arguments));var a="";if("function"==typeof r.options.templateFormatter)a=r.options.templateFormatter.call(r,e,t,i);else{var s=require("template");a=s(r.options.templateFormatter,{item:e,i:t,data:i})}return a}}(jQuery),define("bootstrap-table-template",["bootstrap-table","template"],function(e){return function(){var t;return t||e.$.fn.bootstrapTable.defaults}}(this)),define("table",["jquery","bootstrap","moment","moment/locale/zh-cn","bootstrap-table","bootstrap-table-lang","bootstrap-table-export","bootstrap-table-commonsearch","bootstrap-table-template"],function(e,t,i){var n={list:{},defaults:{url:"",sidePagination:"server",method:"get",toolbar:".toolbar",search:!0,cache:!1,commonSearch:!0,searchFormVisible:!1,titleForm:"",idTable:"commonTable",showExport:!0,exportDataType:"all",exportTypes:["json","xml","csv","txt","doc","excel"],pageSize:10,pageList:[10,25,50,"All"],pagination:!0,clickToSelect:!0,singleSelect:!1,showRefresh:!1,locale:"zh-CN",showToggle:!0,showColumns:!0,pk:"id",sortName:"id",sortOrder:"desc",paginationFirstText:__("First"),paginationPreText:__("Previous"),paginationNextText:__("Next"),paginationLastText:__("Last"),cardView:!1,checkOnInit:!0,escape:!0,extend:{index_url:"",add_url:"",edit_url:"",del_url:"",import_url:"",multi_url:"",dragsort_url:"ajax/weigh"}},columnDefaults:{align:"center",valign:"middle"},config:{firsttd:"tbody tr td:first-child:not(:has(div.card-views))",toolbar:".toolbar",refreshbtn:".btn-refresh",addbtn:".btn-add",editbtn:".btn-edit",delbtn:".btn-del",importbtn:".btn-import",multibtn:".btn-multi",disabledbtn:".btn-disabled",editonebtn:".btn-editone",dragsortfield:"weigh"},api:{init:function(t,i,o){t=t?t:{},i=i?i:{},o=o?o:{},navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&(n.defaults.cardView=!0),e.extend(!0,e.fn.bootstrapTable.defaults,n.defaults,t),e.extend(e.fn.bootstrapTable.columnDefaults,n.columnDefaults,i),e.extend(e.fn.bootstrapTable.locales[n.defaults.locale],{formatCommonSearch:function(){return __("Common search")},formatCommonSubmitButton:function(){return __("Submit")},formatCommonResetButton:function(){return __("Reset")},formatCommonCloseButton:function(){return __("Close")},formatCommonChoose:function(){return __("Choose")}},o)},bindevent:function(t){var i=t.closest(".bootstrap-table"),o=t.bootstrapTable("getOptions"),r=e(o.toolbar,i);t.on("load-error.bs.table",function(e,t,i){0!==i.status&&Toastr.error(__("Unknown data format"))}),t.on("refresh.bs.table",function(t,i,o){e(n.config.refreshbtn,r).find(".fa").addClass("fa-spin")}),t.on("dbl-click-row.bs.table",function(t,i,o,r){e(n.config.editonebtn,o).trigger("click")}),t.on("post-body.bs.table",function(i,o,a,s){e(n.config.refreshbtn,r).find(".fa").removeClass("fa-spin"),e(n.config.disabledbtn,r).toggleClass("disabled",!0),e(n.config.firsttd,t).find("input[type='checkbox'][data-index]").size()>0&&require(["drag","drop"],function(){e(n.config.firsttd,t).drag("start",function(t,i){return e('<div class="selection" />').css("opacity",.65).appendTo(document.body)}).drag(function(t,i){e(i.proxy).css({top:Math.min(t.pageY,i.startY),left:Math.min(t.pageX,i.startX),height:Math.abs(t.pageY-i.startY),width:Math.abs(t.pageX-i.startX)})}).drag("end",function(t,i){e(i.proxy).remove()}),e(n.config.firsttd,t).drop("start",function(){n.api.toggleattr(this)}).drop(function(){n.api.toggleattr(this)}).drop("end",function(){n.api.toggleattr(this)}),e.drop({multi:!0})})}),t.on("check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table",function(){var i=n.api.selectedids(t);e(n.config.disabledbtn,r).toggleClass("disabled",!i.length)}),e(r).on("click",n.config.refreshbtn,function(){t.bootstrapTable("refresh")}),e(r).on("click",n.config.addbtn,function(){var i=n.api.selectedids(t),r=o.extend.add_url;r.indexOf("{ids}")!==-1&&(r=n.api.replaceurl(r,{ids:i.length>0?i.join(","):0},t)),Fast.api.open(r,__("Add"),e(this).data()||{})}),e(n.config.importbtn,r).size()>0&&require(["upload"],function(i){i.api.plupload(e(n.config.importbtn,r),function(e,i){Fast.api.ajax({url:o.extend.import_url,data:{file:e.url}},function(e,i){t.bootstrapTable("refresh")})})}),e(r).on("click",n.config.editbtn,function(){var i=this;e.each(t.bootstrapTable("getSelections"),function(r,a){var s=o.extend.edit_url;a=e.extend({},a?a:{},{ids:a[o.pk]});var s=n.api.replaceurl(s,a,t);Fast.api.open(s,__("Edit"),e(i).data()||{})})}),e(r).on("click",n.config.multibtn,function(){var i=n.api.selectedids(t);n.api.multi(e(this).data("action"),i,t,this)}),e(r).on("click",n.config.delbtn,function(){var e=this,i=n.api.selectedids(t);Layer.confirm(__("Are you sure you want to delete the %s selected item?",i.length),{icon:3,title:__("Warning"),offset:0,shadeClose:!0},function(o){n.api.multi("del",i,t,e),Layer.close(o)})}),require(["dragsort"],function(){e("tbody",t).dragsort({itemSelector:"tr:visible",dragSelector:"a.btn-dragsort",dragEnd:function(i,o){var r=e("a.btn-dragsort",this),a=t.bootstrapTable("getData"),s=a[parseInt(e(this).data("index"))],l=t.bootstrapTable("getOptions"),c=e.map(e("tbody tr:visible",t),function(t){return a[parseInt(e(t).data("index"))][l.pk]}),d=s[l.pk],u="undefined"!=typeof s.pid?s.pid:"",p={url:t.bootstrapTable("getOptions").extend.dragsort_url,data:{ids:c.join(","),changeid:d,pid:u,field:n.config.dragsortfield,orderway:l.sortOrder,table:l.extend.table}};Fast.api.ajax(p,function(i,n){var o=e(r).data("success")||e.noop;return("function"!=typeof o||!1!==o.call(r,i,n))&&void t.bootstrapTable("refresh")},function(){var i=e(r).data("error")||e.noop;return("function"!=typeof i||!1!==i.call(r,a,ret))&&void t.bootstrapTable("refresh")})},placeHolderTemplate:""})}),e(t).on("click","input[data-id][name='checkbox']",function(i){var o=e(this).data("id"),r=n.api.getrowbyid(o);t.trigger("check.bs.table",[r,this])}),e(t).on("click","[data-id].btn-change",function(i){i.preventDefault(),n.api.multi(e(this).data("action")?e(this).data("action"):"",[e(this).data("id")],t,this)}),e(t).on("click","[data-id].btn-edit",function(i){i.preventDefault();var r=e(this).data("id"),a=n.api.getrowbyid(r);a.ids=r;var s=n.api.replaceurl(o.extend.edit_url,a,t);Fast.api.open(s,__("Edit"),e(this).data()||{})}),e(t).on("click","[data-id].btn-del",function(i){i.preventDefault();var o=e(this).data("id"),r=this;Layer.confirm(__("Are you sure you want to delete this item?"),{icon:3,title:__("Warning"),shadeClose:!0},function(e){n.api.multi("del",o,t,r),Layer.close(e)})});var a=t.attr("id");return n.list[a]=t,t},multi:function(t,i,n,o){var r=n.bootstrapTable("getOptions"),a=o?e(o).data():{},i=e.isArray(i)?i.join(","):i,s="undefined"!=typeof a.url?a.url:"del"==t?r.extend.del_url:r.extend.multi_url;s=this.replaceurl(s,{ids:i},n);var l="undefined"!=typeof a.params?"object"==typeof a.params?e.param(a.params):a.params:"",r={url:s,data:{action:t,ids:i,params:l}};Fast.api.ajax(r,function(t,i){var r=e(o).data("success")||e.noop;return("function"!=typeof r||!1!==r.call(o,t,i))&&void n.bootstrapTable("refresh")},function(t,i){var n=e(o).data("error")||e.noop;if("function"==typeof n&&!1===n.call(o,t,i))return!1})},events:{operate:{"click .btn-editone":function(t,i,o,r){t.stopPropagation(),t.preventDefault();var a=e(this).closest("table"),s=a.bootstrapTable("getOptions"),l=o[s.pk];o=e.extend({},o?o:{},{ids:l});var c=s.extend.edit_url;Fast.api.open(n.api.replaceurl(c,o,a),__("Edit"),e(this).data()||{})},"click .btn-delone":function(i,o,r,a){i.stopPropagation(),i.preventDefault();var s=this,l=e(s).offset().top-e(window).scrollTop(),c=e(s).offset().left-e(window).scrollLeft()-260;l+154>e(window).height()&&(l-=154),e(window).width()<480&&(l=c=t),Layer.confirm(__("Are you sure you want to delete this item?"),{icon:3,title:__("Warning"),offset:[l,c],shadeClose:!0},function(t){var i=e(s).closest("table"),o=i.bootstrapTable("getOptions");n.api.multi("del",r[o.pk],i,s),Layer.close(t)})}}},formatter:{icon:function(e,t,i){return e?(e=e.indexOf(" ")>-1?e:"fa fa-"+e,'<i class="'+e+'"></i> '+e):""},image:function(e,t,i){e=e?e:"/assets/img/blank.gif";var n="undefined"!=typeof this.classname?this.classname:"img-sm img-center";return'<img class="'+n+'" src="'+Fast.api.cdnurl(e)+'" />'},images:function(t,i,n){t=null===t?"":t.toString();var o="undefined"!=typeof this.classname?this.classname:"img-sm img-center",r=t.split(","),a=[];return e.each(r,function(e,t){t=t?t:"/assets/img/blank.gif",a.push('<img class="'+o+'" src="'+Fast.api.cdnurl(t)+'" />')}),a.join(" ")},status:function(t,i,n){var o={normal:"success",hidden:"grey",deleted:"danger",locked:"info"};"undefined"!=typeof this.custom&&(o=e.extend(o,this.custom)),t=null===t?"":t.toString();var r=t&&"undefined"!=typeof o[t]?o[t]:"primary";t=t.charAt(0).toUpperCase()+t.slice(1);var a='<span class="text-'+r+'"><i class="fa fa-circle"></i> '+__(t)+"</span>";return a},url:function(e,t,i){return'<div class="input-group input-group-sm" style="width:250px;"><input type="text" class="form-control input-sm" value="'+e+'"><span class="input-group-btn input-group-sm"><a href="'+e+'" target="_blank" class="btn btn-default btn-sm"><i class="fa fa-link"></i></a></span></div>'},search:function(e,t,i){return'<a href="javascript:;" class="searchit" data-field="'+this.field+'" data-value="'+e+'">'+e+"</a>"},addtabs:function(e,t,i){var o=n.api.replaceurl(this.url,t,this.table),r=this.atitle?this.atitle:__("Search %s",e);return'<a href="'+Fast.api.fixurl(o)+'" class="addtabsit" data-value="'+e+'" title="'+r+'">'+e+"</a>"},dialog:function(e,t,i){var o=n.api.replaceurl(this.url,t,this.table),r=this.atitle?this.atitle:__("View %s",e);return'<a href="'+Fast.api.fixurl(o)+'" class="dialogit" data-value="'+e+'" title="'+r+'">'+e+"</a>"},flag:function(t,i,n){t=null===t?"":t.toString();var o={index:"success",hot:"warning",recommend:"danger",new:"info"};"undefined"!=typeof this.custom&&(o=e.extend(o,this.custom)),"undefined"!=typeof this.customField&&"undefined"!=typeof i[this.customField]&&(t=i[this.customField]);var r=[],a=t.split(",");return e.each(a,function(e,t){if(t=null===t?"":t.toString(),""==t)return!0;var i=t&&"undefined"!=typeof o[t]?o[t]:"primary";t=t.charAt(0).toUpperCase()+t.slice(1),r.push('<span class="label label-'+i+'">'+__(t)+"</span>")}),r.join(" ")},label:function(e,t,i){return n.api.formatter.flag.call(this,e,t,i)},datetime:function(e,t,n){return e?i(1e3*parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):__("None")},operate:function(t,i,o){var r=this.table,a=r?r.bootstrapTable("getOptions"):{},s=e.extend([],this.buttons||[]);return""!==a.extend.dragsort_url&&s.push({name:"dragsort",icon:"fa fa-arrows",title:__("Drag to sort"),classname:"btn btn-xs btn-primary btn-dragsort"}),""!==a.extend.edit_url&&s.push({name:"edit",icon:"fa fa-pencil",title:__("Edit"),classname:"btn btn-xs btn-success btn-editone",url:a.extend.edit_url}),""!==a.extend.del_url&&s.push({name:"del",icon:"fa fa-trash",title:__("Del"),classname:"btn btn-xs btn-danger btn-delone"}),n.api.buttonlink(this,s,t,i,o,"operate")},buttons:function(t,i,o){var r=e.extend([],this.buttons||[]);return n.api.buttonlink(this,r,t,i,o,"buttons")}},buttonlink:function(t,i,o,r,a,s){var l=t.table;s="undefined"==typeof s?"buttons":s;var c,d,u,p,h,f,m,g,y,v=l?l.bootstrapTable("getOptions"):{},b=[],w=t.fieldIndex;return e.each(i,function(e,t){if("operate"===s){if("dragsort"===t.name&&"undefined"==typeof r[n.config.dragsortfield])return!0;if(["add","edit","del","multi","dragsort"].indexOf(t.name)>-1&&!v.extend[t.name+"_url"])return!0}var i=l.data(s+"-"+t.name);if("undefined"==typeof i||i){if(c="function"==typeof t.hidden?t.hidden.call(l,r,t):!!t.hidden&&t.hidden)return!0;d=t.url?t.url:"",d="function"==typeof d?d.call(l,r,t):d?Fast.api.fixurl(n.api.replaceurl(d,r,l)):"javascript:;",u=t.classname?t.classname:"btn-primary btn-"+name+"one",p=t.icon?t.icon:"",h=t.text?t.text:"",f=t.title?t.title:h,m=t.refresh?'data-refresh="'+t.refresh+'"':"",g=t.confirm?'data-confirm="'+t.confirm+'"':"",y=t.extend?t.extend:"",b.push('<a href="'+d+'" class="'+u+'" '+(g?g+" ":"")+(m?m+" ":"")+y+' title="'+f+'" data-table-id="'+(l?l.attr("id"):"")+'" data-field-index="'+w+'" data-row-index="'+a+'" data-button-index="'+e+'"><i class="'+p+'"></i>'+(h?" "+h:"")+"</a>")}}),b.join(" ")},replaceurl:function(e,t,i){var n=i?i.bootstrapTable("getOptions"):null,o=n?t[n.pk]:0;return t.ids=o?o:"undefined"!=typeof t.ids?t.ids:0,e=e.match(/\{ids\}/i)?e:e+(e.match(/(\?|&)+/)?"&ids=":"/ids/")+"{ids}",e=e.replace(/\{(.*?)\}/gi,function(e){if(e=e.substring(1,e.length-1),e.indexOf(".")!==-1){for(var i=t,n=e.split(/\./),o=0;o<n.length;o++)"undefined"!=typeof i[n[o]]&&(i=i[n[o]]);return"object"==typeof i?"":i}return t[e]})},selectedids:function(t){var i=t.bootstrapTable("getOptions");return i.templateView?e.map(e("input[data-id][name='checkbox']:checked"),function(t){return e(t).data("id")}):e.map(t.bootstrapTable("getSelections"),function(e){return e[i.pk]})},toggleattr:function(t){e("input[type='checkbox']",t).trigger("click")},getrowdata:function(e,t){t=parseInt(t);var i=e.bootstrapTable("getData");return"undefined"!=typeof i[t]?i[t]:null},getrowbyindex:function(e,t){return n.api.getrowdata(e,t)},getrowbyid:function(t,i){var n={},o=t.bootstrapTable("getOptions");return e.each(t.bootstrapTable("getData"),function(e,t){if(t[o.pk]==i)return n=t,!1}),n}}};return n}),!function(e,t){var i=function(){var e={};return t.apply(e,arguments),e.moxie};"function"==typeof define&&define.amd?define("moxie",[],i):"object"==typeof module&&module.exports?module.exports=i():e.moxie=i()}(this||window,function(){!function(e,t){"use strict";function i(e,t){for(var i,n=[],o=0;o<e.length;++o){if(i=s[e[o]]||r(e[o]),!i)throw"module definition dependecy not found: "+e[o];n.push(i)}t.apply(null,n)}function n(e,n,o){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(n===t)throw"invalid module definition, dependencies must be specified";if(o===t)throw"invalid module definition, definition function must be specified";i(n,function(){s[e]=o.apply(null,arguments)})}function o(e){return!!s[e]}function r(t){for(var i=e,n=t.split(/[.\/]/),o=0;o<n.length;++o){if(!i[n[o]])return;i=i[n[o]]}return i}function a(i){for(var n=0;n<i.length;n++){for(var o=e,r=i[n],a=r.split(/[.\/]/),l=0;l<a.length-1;++l)o[a[l]]===t&&(o[a[l]]={}),o=o[a[l]];o[a[a.length-1]]=s[r]}}var s={};n("moxie/core/utils/Basic",[],function(){function e(e){var t;return e===t?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}function t(){return a(!1,!1,arguments)}function i(){return a(!0,!1,arguments)}function n(){return a(!1,!0,arguments)}function o(){return a(!0,!0,arguments)}function r(i){switch(e(i)){case"array":return Array.prototype.slice.call(i);case"object":return t({},i)}return i}function a(t,i,n){var o,s=n[0];return l(n,function(n,c){c>0&&l(n,function(n,l){var c=-1!==p(e(n),["array","object"]);return!!(n===o||t&&s[l]===o)||(c&&i&&(n=r(n)),void(e(s[l])===e(n)&&c?a(t,i,[s[l],n]):s[l]=n))})}),s}function s(e,t){function i(){this.constructor=e}for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__parent__=t.prototype,e}function l(e,t){var i,n,o,r;if(e){try{i=e.length}catch(e){i=r}if(i===r||"number"!=typeof i){for(n in e)if(e.hasOwnProperty(n)&&t(e[n],n)===!1)return}else for(o=0;i>o;o++)if(t(e[o],o)===!1)return}}function c(t){var i;if(!t||"object"!==e(t))return!0;for(i in t)return!1;return!0}function d(t,i){function n(o){"function"===e(t[o])&&t[o](function(e){++o<r&&!e?n(o):i(e)})}var o=0,r=t.length;"function"!==e(i)&&(i=function(){}),t&&t.length||i(),n(o)}function u(e,t){var i=0,n=e.length,o=new Array(n);l(e,function(e,r){e(function(e){if(e)return t(e);var a=[].slice.call(arguments);a.shift(),o[r]=a,i++,i===n&&(o.unshift(null),t.apply(this,o))})})}function p(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i}return-1}function h(t,i){var n=[];"array"!==e(t)&&(t=[t]),"array"!==e(i)&&(i=[i]);for(var o in t)-1===p(t[o],i)&&n.push(t[o]);return!!n.length&&n}function f(e,t){var i=[];return l(e,function(e){-1!==p(e,t)&&i.push(e)}),i.length?i:null}function m(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i}function g(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e}function y(e){if("string"!=typeof e)return e;var t,i={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9\.]+)([tmgk]?)$/.exec(e.toLowerCase().replace(/[^0-9\.tmkg]/g,"")),t=e[2],e=+e[1],i.hasOwnProperty(t)&&(e*=i[t]),Math.floor(e)}function v(t){var i=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=i.shift();return"undefined"!==e(t)?t:""})}function b(e,t){var i=this;setTimeout(function(){e.call(i)},t||1)}var w=function(){var e=0;return function(t){var i,n=(new Date).getTime().toString(32);for(i=0;5>i;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+n+(e++).toString(32)}}();return{guid:w,typeOf:e,extend:t,extendIf:i,extendImmutable:n,extendImmutableIf:o,inherit:s,each:l,isEmptyObj:c,inSeries:d,inParallel:u,inArray:p,arrayDiff:h,arrayIntersect:f,toArray:m,trim:g,sprintf:v,parseSizeStr:y,delay:b}}),n("moxie/core/utils/Encode",[],function(){var e=function(e){return unescape(encodeURIComponent(e));
},t=function(e){return decodeURIComponent(escape(e))},i=function(e,i){if("function"==typeof window.atob)return i?t(window.atob(e)):window.atob(e);var n,o,r,a,s,l,c,d,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,h=0,f="",m=[];if(!e)return e;e+="";do a=u.indexOf(e.charAt(p++)),s=u.indexOf(e.charAt(p++)),l=u.indexOf(e.charAt(p++)),c=u.indexOf(e.charAt(p++)),d=a<<18|s<<12|l<<6|c,n=255&d>>16,o=255&d>>8,r=255&d,m[h++]=64==l?String.fromCharCode(n):64==c?String.fromCharCode(n,o):String.fromCharCode(n,o,r);while(p<e.length);return f=m.join(""),i?t(f):f},n=function(t,i){if(i&&(t=e(t)),"function"==typeof window.btoa)return window.btoa(t);var n,o,r,a,s,l,c,d,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,h=0,f="",m=[];if(!t)return t;do n=t.charCodeAt(p++),o=t.charCodeAt(p++),r=t.charCodeAt(p++),d=n<<16|o<<8|r,a=63&d>>18,s=63&d>>12,l=63&d>>6,c=63&d,m[h++]=u.charAt(a)+u.charAt(s)+u.charAt(l)+u.charAt(c);while(p<t.length);f=m.join("");var g=t.length%3;return(g?f.slice(0,g-3):f)+"===".slice(g||3)};return{utf8_encode:e,utf8_decode:t,atob:i,btoa:n}}),n("moxie/core/utils/Env",["moxie/core/utils/Basic"],function(e){function t(e,t,i){var n=0,o=0,r=0,a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},s=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},l=function(e){return e?isNaN(e)?a[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),o=Math.max(e.length,t.length),n=0;o>n;n++)if(e[n]!=t[n]){if(e[n]=l(e[n]),t[n]=l(t[n]),e[n]<t[n]){r=-1;break}if(e[n]>t[n]){r=1;break}}if(!i)return r;switch(i){case">":case"gt":return r>0;case">=":case"ge":return r>=0;case"<=":case"le":return 0>=r;case"==":case"=":case"eq":return 0===r;case"<>":case"!=":case"ne":return 0!==r;case"":case"<":case"lt":return 0>r;default:return null}}var i=function(e){var t="",i="?",n="function",o="undefined",r="object",a="name",s="version",l={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},c={rgx:function(){for(var t,i,a,s,l,c,d,u=0,p=arguments;u<p.length;u+=2){var h=p[u],f=p[u+1];if(typeof t===o){t={};for(s in f)l=f[s],typeof l===r?t[l[0]]=e:t[l]=e}for(i=a=0;i<h.length;i++)if(c=h[i].exec(this.getUA())){for(s=0;s<f.length;s++)d=c[++a],l=f[s],typeof l===r&&l.length>0?2==l.length?t[l[0]]=typeof l[1]==n?l[1].call(this,d):l[1]:3==l.length?t[l[0]]=typeof l[1]!==n||l[1].exec&&l[1].test?d?d.replace(l[1],l[2]):e:d?l[1].call(this,d,l[2]):e:4==l.length&&(t[l[0]]=d?l[3].call(this,d.replace(l[1],l[2])):e):t[l]=d?d:e;break}if(c)break}return t},str:function(t,n){for(var o in n)if(typeof n[o]===r&&n[o].length>0){for(var a=0;a<n[o].length;a++)if(l.has(n[o][a],t))return o===i?e:o}else if(l.has(n[o],t))return o===i?e:o;return t}},d={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},u={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,s],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],s],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[a,s],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],s],[/(edge)\/((\d+)?[\w\.]+)/i],[a,s],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],s],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],s],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[a,s],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],s],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],s],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[s,[a,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[s,[a,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[s,[a,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[s,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[s,a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[s,c.str,d.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,s],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],s],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,s]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[s,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,s],[/rv\:([\w\.]+).*(gecko)/i],[s,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,s],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[s,c.str,d.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[s,c.str,d.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],s],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[a,s],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],s],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],s],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,s],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],s],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],s],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,s],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[a,"iOS"],[s,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[s,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[a,s]]},p=function(e){var i=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:t);this.getBrowser=function(){return c.rgx.apply(this,u.browser)},this.getEngine=function(){return c.rgx.apply(this,u.engine)},this.getOS=function(){return c.rgx.apply(this,u.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i)};return p}(),n=function(){var t={define_property:function(){return!1}(),create_canvas:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var i=new XMLHttpRequest;if(i.open("get","/"),"responseType"in i)return i.responseType=t,i.responseType===t}}catch(e){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&("IE"!==r.browser||r.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&33e3>e||t.use_data_uri_over32kb()},use_fileinput:function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var e=document.createElement("input");return e.setAttribute("type","file"),!e.disabled}};return function(i){var n=[].slice.call(arguments);return n.shift(),"function"===e.typeOf(t[i])?t[i].apply(this,n):!!t[i]}}(),o=(new i).getResult(),r={can:n,uaParser:i,browser:o.browser.name,version:o.browser.version,os:o.os.name,osVersion:o.os.version,verComp:t,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return r.OS=r.os,r}),n("moxie/core/Exceptions",["moxie/core/utils/Basic"],function(e){function t(e,t){var i;for(i in e)if(e[i]===t)return i;return null}return{RuntimeError:function(){function i(e,i){this.code=e,this.name=t(n,e),this.message=this.name+(i||": RuntimeError "+this.code)}var n={NOT_INIT_ERR:1,EXCEPTION_ERR:3,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(i,n),i.prototype=Error.prototype,i}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": ImageError "+this.code}var n={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2,INVALID_META_ERR:3};return e.extend(i,n),i.prototype=Error.prototype,i}(),FileException:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": FileException "+this.code}var n={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(i,n),i.prototype=Error.prototype,i}(),DOMException:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": DOMException "+this.code}var n={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(i,n),i.prototype=Error.prototype,i}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),n("moxie/core/utils/Dom",["moxie/core/utils/Env"],function(e){var t=function(e){return"string"!=typeof e?e:document.getElementById(e)},i=function(e,t){if(!e.className)return!1;var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return i.test(e.className)},n=function(e,t){i(e,t)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+t:t)},o=function(e,t){if(e.className){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(i,function(e,t,i){return" "===t&&" "===i?" ":""})}},r=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},a=function(t,i){function n(e){var t,i,n=0,o=0;return e&&(i=e.getBoundingClientRect(),t="CSS1Compat"===c.compatMode?c.documentElement:c.body,n=i.left+t.scrollLeft,o=i.top+t.scrollTop),{x:n,y:o}}var o,r,a,s=0,l=0,c=document;if(t=t,i=i||c.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!c.documentMode||c.documentMode<8))return r=n(t),a=n(i),{x:r.x-a.x,y:r.y-a.y};for(o=t;o&&o!=i&&o.nodeType;)s+=o.offsetLeft||0,l+=o.offsetTop||0,o=o.offsetParent;for(o=t.parentNode;o&&o!=i&&o.nodeType;)s-=o.scrollLeft||0,l-=o.scrollTop||0,o=o.parentNode;return{x:s,y:l}},s=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:i,addClass:n,removeClass:o,getStyle:r,getPos:a,getSize:s}}),n("moxie/core/EventTarget",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic"],function(e,t,i){function n(){this.uid=i.guid()}var o={};return i.extend(n.prototype,{init:function(){this.uid||(this.uid=i.guid("uid_"))},addEventListener:function(e,t,n,r){var a,s=this;return this.hasOwnProperty("uid")||(this.uid=i.guid("uid_")),e=i.trim(e),/\s/.test(e)?void i.each(e.split(/\s+/),function(e){s.addEventListener(e,t,n,r)}):(e=e.toLowerCase(),n=parseInt(n,10)||0,a=o[this.uid]&&o[this.uid][e]||[],a.push({fn:t,priority:n,scope:r||this}),o[this.uid]||(o[this.uid]={}),void(o[this.uid][e]=a))},hasEventListener:function(e){var t;return e?(e=e.toLowerCase(),t=o[this.uid]&&o[this.uid][e]):t=o[this.uid],!!t&&t},removeEventListener:function(e,t){var n,r,a=this;if(e=e.toLowerCase(),/\s/.test(e))return void i.each(e.split(/\s+/),function(e){a.removeEventListener(e,t)});if(n=o[this.uid]&&o[this.uid][e]){if(t){for(r=n.length-1;r>=0;r--)if(n[r].fn===t){n.splice(r,1);break}}else n=[];n.length||(delete o[this.uid][e],i.isEmptyObj(o[this.uid])&&delete o[this.uid])}},removeAllEventListeners:function(){o[this.uid]&&delete o[this.uid]},dispatchEvent:function(e){var n,r,a,s,l,c={},d=!0;if("string"!==i.typeOf(e)){if(s=e,"string"!==i.typeOf(s.type))throw new t.EventException(t.EventException.UNSPECIFIED_EVENT_TYPE_ERR);e=s.type,s.total!==l&&s.loaded!==l&&(c.total=s.total,c.loaded=s.loaded),c.async=s.async||!1}if(-1!==e.indexOf("::")?function(t){n=t[0],e=t[1]}(e.split("::")):n=this.uid,e=e.toLowerCase(),r=o[n]&&o[n][e]){r.sort(function(e,t){return t.priority-e.priority}),a=[].slice.call(arguments),a.shift(),c.type=e,a.unshift(c);var u=[];i.each(r,function(e){a[0].target=e.scope,c.async?u.push(function(t){setTimeout(function(){t(e.fn.apply(e.scope,a)===!1)},1)}):u.push(function(t){t(e.fn.apply(e.scope,a)===!1)})}),u.length&&i.inSeries(u,function(e){d=!e})}return d},bindOnce:function(e,t,i,n){var o=this;o.bind.call(this,e,function i(){return o.unbind(e,i),t.apply(this,arguments)},i,n)},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},handleEventProps:function(e){var t=this;this.bind(e.join(" "),function(e){var t="on"+e.type.toLowerCase();"function"===i.typeOf(this[t])&&this[t].apply(this,arguments)}),i.each(e,function(e){e="on"+e.toLowerCase(e),"undefined"===i.typeOf(t[e])&&(t[e]=null)})}}),n.instance=new n,n}),n("moxie/runtime/Runtime",["moxie/core/utils/Env","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/EventTarget"],function(e,t,i,n){function o(e,n,r,s,l){var c,d=this,u=t.guid(n+"_"),p=l||"browser";e=e||{},a[u]=this,r=t.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},r),e.preferred_caps&&(p=o.getMode(s,e.preferred_caps,p)),c=function(){var e={};return{exec:function(t,i,n,o){return c[i]&&(e[t]||(e[t]={context:this,instance:new c[i]}),e[t].instance[n])?e[t].instance[n].apply(this,o):void 0},removeInstance:function(t){delete e[t]},removeAllInstances:function(){var i=this;t.each(e,function(e,n){"function"===t.typeOf(e.instance.destroy)&&e.instance.destroy.call(e.context),i.removeInstance(n)})}}}(),t.extend(this,{initialized:!1,uid:u,type:n,mode:o.getMode(s,e.required_caps,p),shimid:u+"_container",clients:0,options:e,can:function(e,i){var n=arguments[2]||r;if("string"===t.typeOf(e)&&"undefined"===t.typeOf(i)&&(e=o.parseCaps(e)),"object"===t.typeOf(e)){for(var a in e)if(!this.can(a,e[a],n))return!1;return!0}return"function"===t.typeOf(n[e])?n[e].call(this,i):i===n[e]},getShimContainer:function(){var e,n=i.get(this.shimid);return n||(e=i.get(this.options.container)||document.body,n=document.createElement("div"),n.id=this.shimid,n.className="moxie-shim moxie-shim-"+this.type,t.extend(n.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.appendChild(n),e=null),n},getShim:function(){return c},shimExec:function(e,t){var i=[].slice.call(arguments,2);return d.getShim().exec.call(this,this.uid,e,t,i)},exec:function(e,t){var i=[].slice.call(arguments,2);return d[e]&&d[e][t]?d[e][t].apply(this,i):d.shimExec.apply(this,arguments)},destroy:function(){if(d){var e=i.get(this.shimid);e&&e.parentNode.removeChild(e),c&&c.removeAllInstances(),this.unbindAll(),delete a[this.uid],this.uid=null,u=d=c=e=null}}}),this.mode&&e.required_caps&&!this.can(e.required_caps)&&(this.mode=!1)}var r={},a={};return o.order="html5,flash,silverlight,html4",o.getRuntime=function(e){return!!a[e]&&a[e]},o.addConstructor=function(e,t){t.prototype=n.instance,r[e]=t},o.getConstructor=function(e){return r[e]||null},o.getInfo=function(e){var t=o.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},o.parseCaps=function(e){var i={};return"string"!==t.typeOf(e)?e||{}:(t.each(e.split(","),function(e){i[e]=!0}),i)},o.can=function(e,t){var i,n,r=o.getConstructor(e);return!!r&&(i=new r({required_caps:t}),n=i.mode,i.destroy(),!!n)},o.thatCan=function(e,t){var i=(t||o.order).split(/\s*,\s*/);for(var n in i)if(o.can(i[n],e))return i[n];return null},o.getMode=function(e,i,n){var o=null;if("undefined"===t.typeOf(n)&&(n="browser"),i&&!t.isEmptyObj(e)){if(t.each(i,function(i,n){if(e.hasOwnProperty(n)){var r=e[n](i);if("string"==typeof r&&(r=[r]),o){if(!(o=t.arrayIntersect(o,r)))return o=!1}else o=r}}),o)return-1!==t.inArray(n,o)?n:o[0];if(o===!1)return!1}return n},o.capTrue=function(){return!0},o.capFalse=function(){return!1},o.capTest=function(e){return function(){return!!e}},o}),n("moxie/runtime/RuntimeClient",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/Runtime"],function(e,t,i,n){return function(){var e;i.extend(this,{connectRuntime:function(o){function r(i){var a,l;return i.length?(a=i.shift().toLowerCase(),(l=n.getConstructor(a))?(e=new l(o),e.bind("Init",function(){e.initialized=!0,setTimeout(function(){e.clients++,s.ruid=e.uid,s.trigger("RuntimeInit",e)},1)}),e.bind("Error",function(){e.destroy(),r(i)}),e.bind("Exception",function(e,i){var n=i.name+"(#"+i.code+")"+(i.message?", from: "+i.message:"");s.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.EXCEPTION_ERR,n))}),e.mode?void e.init():void e.trigger("Error")):void r(i)):(s.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)),void(e=null))}var a,s=this;if("string"===i.typeOf(o)?a=o:"string"===i.typeOf(o.ruid)&&(a=o.ruid),a){if(e=n.getRuntime(a))return s.ruid=a,e.clients++,e;throw new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)}r((o.runtime_order||n.order).split(/\s*,\s*/))},disconnectRuntime:function(){e&&--e.clients<=0&&e.destroy(),e=null},getRuntime:function(){return e&&e.uid?e:e=null},exec:function(){return e?e.exec.apply(this,arguments):null},can:function(t){return!!e&&e.can(t)}})}}),n("moxie/file/Blob",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient"],function(e,t,i){function n(r,a){function s(t,i,r){var a,s=o[this.uid];return"string"===e.typeOf(s)&&s.length?(a=new n(null,{type:r,size:i-t}),a.detach(s.substr(t,a.size)),a):null}i.call(this),r&&this.connectRuntime(r),a?"string"===e.typeOf(a)&&(a={data:a}):a={},e.extend(this,{uid:a.uid||e.guid("uid_"),ruid:r,size:a.size||0,type:a.type||"",slice:function(e,t,i){return this.isDetached()?s.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,i)},getSource:function(){return o[this.uid]?o[this.uid]:null},detach:function(e){if(this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy"),this.disconnectRuntime(),this.ruid=null),e=e||"","data:"==e.substr(0,5)){var i=e.indexOf(";base64,");this.type=e.substring(5,i),e=t.atob(e.substring(i+8))}this.size=e.length,o[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(o[this.uid])},destroy:function(){this.detach(),delete o[this.uid]}}),a.data?this.detach(a.data):o[this.uid]=a}var o={};return n}),n("moxie/core/I18n",["moxie/core/utils/Basic"],function(e){var t={};return{addI18n:function(i){return e.extend(t,i)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var i=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=i.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),n("moxie/core/utils/Mime",["moxie/core/utils/Basic","moxie/core/I18n"],function(e,t){var i="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",n={mimes:{},extensions:{},addMimeType:function(e){var t,i,n,o=e.split(/,/);for(t=0;t<o.length;t+=2){for(n=o[t+1].split(/ /),i=0;i<n.length;i++)this.mimes[n[i]]=o[t];this.extensions[o[t]]=n}},extList2mimes:function(t,i){var n,o,r,a,s=this,l=[];for(o=0;o<t.length;o++)for(n=t[o].extensions.split(/\s*,\s*/),r=0;r<n.length;r++){if("*"===n[r])return[];if(a=s.mimes[n[r]],a&&-1===e.inArray(a,l)&&l.push(a),i&&/^\w+$/.test(n[r]))l.push("."+n[r]);else if(!a)return[]}return l},mimes2exts:function(t){var i=this,n=[];return e.each(t,function(t){if("*"===t)return n=[],!1;var o=t.match(/^(\w+)\/(\*|\w+)$/);o&&("*"===o[2]?e.each(i.extensions,function(e,t){new RegExp("^"+o[1]+"/").test(t)&&[].push.apply(n,i.extensions[t])}):i.extensions[t]&&[].push.apply(n,i.extensions[t]))}),n},mimes2extList:function(i){var n=[],o=[];return"string"===e.typeOf(i)&&(i=e.trim(i).split(/\s*,\s*/)),o=this.mimes2exts(i),n.push({title:t.translate("Files"),extensions:o.length?o.join(","):"*"}),n.mimes=i,n},getFileExtension:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||""}};return n.addMimeType(i),n}),n("moxie/file/FileInput",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Mime","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/I18n","moxie/runtime/Runtime","moxie/runtime/RuntimeClient"],function(e,t,i,n,o,r,a,s,l){function c(t){var r,c,u;if(-1!==e.inArray(e.typeOf(t),["string","node"])&&(t={browse_button:t}),c=n.get(t.browse_button),!c)throw new o.DOMException(o.DOMException.NOT_FOUND_ERR);u={accept:[{title:a.translate("All Files"),extensions:"*"}],multiple:!1,required_caps:!1,container:c.parentNode||document.body},t=e.extend({},u,t),"string"==typeof t.required_caps&&(t.required_caps=s.parseCaps(t.required_caps)),"string"==typeof t.accept&&(t.accept=i.mimes2extList(t.accept)),r=n.get(t.container),r||(r=document.body),"static"===n.getStyle(r,"position")&&(r.style.position="relative"),r=c=null,l.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){var i=this;i.bind("RuntimeInit",function(o,r){i.ruid=r.uid,i.shimid=r.shimid,i.bind("Ready",function(){i.trigger("Refresh")},999),i.bind("Refresh",function(){var i,o,a,s,l;a=n.get(t.browse_button),s=n.get(r.shimid),a&&(i=n.getPos(a,n.get(t.container)),o=n.getSize(a),l=parseInt(n.getStyle(a,"z-index"),10)||0,s&&e.extend(s.style,{top:i.y+"px",left:i.x+"px",width:o.w+"px",height:o.h+"px",zIndex:l+1})),s=a=null}),r.exec.call(i,"FileInput","init",t)}),i.connectRuntime(e.extend({},t,{required_caps:{select_file:!0}}))},getOption:function(e){return t[e]},setOption:function(e,n){if(t.hasOwnProperty(e)){var r=t[e];switch(e){case"accept":"string"==typeof n&&(n=i.mimes2extList(n));break;case"container":case"required_caps":throw new o.FileException(o.FileException.NO_MODIFICATION_ALLOWED_ERR)}t[e]=n,this.exec("FileInput","setOption",e,n),this.trigger("OptionChanged",e,n,r)}},disable:function(t){var i=this.getRuntime();i&&this.exec("FileInput","disable","undefined"===e.typeOf(t)||t)},refresh:function(){this.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null,this.unbindAll()}}),this.handleEventProps(d)}var d=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return c.prototype=r.instance,c}),n("moxie/file/File",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/file/Blob"],function(e,t,i){function n(n,o){o||(o={}),i.apply(this,arguments),this.type||(this.type=t.getFileMime(o.name));var r;if(o.name)r=o.name.replace(/\\/g,"/"),r=r.substr(r.lastIndexOf("/")+1);else if(this.type){var a=this.type.split("/")[0];r=e.guid((""!==a?a:"file")+"_"),t.extensions[this.type]&&(r+="."+t.extensions[this.type][0])}e.extend(this,{name:r||e.guid("file_"),relativePath:"",lastModifiedDate:o.lastModifiedDate||(new Date).toLocaleString()})}return n.prototype=i.prototype,n}),n("moxie/file/FileDrop",["moxie/core/I18n","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/core/utils/Env","moxie/file/File","moxie/runtime/RuntimeClient","moxie/core/EventTarget","moxie/core/utils/Mime"],function(e,t,i,n,o,r,a,s,l){function c(i){var o,r=this;"string"==typeof i&&(i={drop_zone:i}),o={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},i="object"==typeof i?n.extend({},o,i):o,i.container=t.get(i.drop_zone)||document.body,"static"===t.getStyle(i.container,"position")&&(i.container.style.position="relative"),"string"==typeof i.accept&&(i.accept=l.mimes2extList(i.accept)),a.call(r),n.extend(r,{uid:n.guid("uid_"),ruid:null,files:null,init:function(){r.bind("RuntimeInit",function(e,t){r.ruid=t.uid,t.exec.call(r,"FileDrop","init",i),r.dispatchEvent("ready")}),r.connectRuntime(i)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null,this.unbindAll()}}),this.handleEventProps(d)}var d=["ready","dragenter","dragleave","drop","error"];return c.prototype=s.instance,c}),n("moxie/file/FileReader",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/Exceptions","moxie/core/EventTarget","moxie/file/Blob","moxie/runtime/RuntimeClient"],function(e,t,i,n,o,r){function a(){function n(e,n){if(this.trigger("loadstart"),this.readyState===a.LOADING)return this.trigger("error",new i.DOMException(i.DOMException.INVALID_STATE_ERR)),void this.trigger("loadend");if(!(n instanceof o))return this.trigger("error",new i.DOMException(i.DOMException.NOT_FOUND_ERR)),void this.trigger("loadend");if(this.result=null,this.readyState=a.LOADING,n.isDetached()){var r=n.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=r;break;case"readAsDataURL":this.result="data:"+n.type+";base64,"+t.btoa(r)}this.readyState=a.DONE,this.trigger("load"),this.trigger("loadend")}else this.connectRuntime(n.ruid),this.exec("FileReader","read",e,n)}r.call(this),e.extend(this,{uid:e.guid("uid_"),readyState:a.EMPTY,result:null,error:null,readAsBinaryString:function(e){n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){n.call(this,"readAsDataURL",e)},readAsText:function(e){n.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[a.EMPTY,a.DONE])&&(this.readyState===a.LOADING&&(this.readyState=a.DONE),this.exec("FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),this.exec("FileReader","destroy"),this.disconnectRuntime(),this.unbindAll()}}),this.handleEventProps(s),this.bind("Error",function(e,t){this.readyState=a.DONE,this.error=t},999),this.bind("Load",function(){this.readyState=a.DONE},999)}var s=["loadstart","progress","load","abort","error","loadend"];return a.EMPTY=0,a.LOADING=1,a.DONE=2,a.prototype=n.instance,a}),n("moxie/core/utils/Url",[],function(){var e=function(t,i){for(var n=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],o=n.length,r={http:80,https:443},a={},s=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,l=s.exec(t||"");o--;)l[o]&&(a[n[o]]=l[o]);if(!a.scheme){i&&"string"!=typeof i||(i=e(i||document.location.href)),a.scheme=i.scheme,a.host=i.host,a.port=i.port;var c="";/^[^\/]/.test(a.path)&&(c=i.path,c=/\/[^\/]*\.[^\/]*$/.test(c)?c.replace(/\/[^\/]+$/,"/"):c.replace(/\/?$/,"/")),a.path=c+(a.path||"")}return a.port||(a.port=r[a.scheme]||80),a.port=parseInt(a.port,10),a.path||(a.path="/"),delete a.source,a},t=function(t){var i={http:80,https:443},n="object"==typeof t?t:e(t);return n.scheme+"://"+n.host+(n.port!==i[n.scheme]?":"+n.port:"")+n.path+(n.query?n.query:"")},i=function(t){function i(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof t&&(t=e(t)),i(e())===i(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:i}}),n("moxie/runtime/RuntimeTarget",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,i){function n(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return n.prototype=i.instance,n}),n("moxie/file/FileReaderSync",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/utils/Encode"],function(e,t,i){return function(){function n(e,t){if(!t.isDetached()){var n=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),n}var o=t.getSource();switch(e){case"readAsBinaryString":return o;case"readAsDataURL":return"data:"+t.type+";base64,"+i.btoa(o);case"readAsText":for(var r="",a=0,s=o.length;s>a;a++)r+=String.fromCharCode(o[a]);return r}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return n.call(this,"readAsDataURL",e)},readAsText:function(e){return n.call(this,"readAsText",e)}})}}),n("moxie/xhr/FormData",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/Blob"],function(e,t,i){function n(){var e,n=[];t.extend(this,{append:function(o,r){var a=this,s=t.typeOf(r);r instanceof i?e={name:o,value:r}:"array"===s?(o+="[]",t.each(r,function(e){a.append(o,e)})):"object"===s?t.each(r,function(e,t){
a.append(o+"["+t+"]",e)}):"null"===s||"undefined"===s||"number"===s&&isNaN(r)?a.append(o,"false"):n.push({name:o,value:r.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(i){t.each(n,function(e){i(e.value,e.name)}),e&&i(e.value,e.name)},destroy:function(){e=null,n=[]}})}return n}),n("moxie/xhr/XMLHttpRequest",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/core/utils/Url","moxie/runtime/Runtime","moxie/runtime/RuntimeTarget","moxie/file/Blob","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/core/utils/Env","moxie/core/utils/Mime"],function(e,t,i,n,o,r,a,s,l,c,d,u){function p(){this.uid=e.guid("uid_")}function h(){function i(e,t){return T.hasOwnProperty(e)?1===arguments.length?d.can("define_property")?T[e]:S[e]:void(d.can("define_property")?T[e]=t:S[e]=t):void 0}function l(t){function n(){k&&(k.destroy(),k=null),s.dispatchEvent("loadend"),s=null}function o(o){k.bind("LoadStart",function(e){i("readyState",h.LOADING),s.dispatchEvent("readystatechange"),s.dispatchEvent(e),M&&s.upload.dispatchEvent(e)}),k.bind("Progress",function(e){i("readyState")!==h.LOADING&&(i("readyState",h.LOADING),s.dispatchEvent("readystatechange")),s.dispatchEvent(e)}),k.bind("UploadProgress",function(e){M&&s.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),k.bind("Load",function(t){i("readyState",h.DONE),i("status",Number(o.exec.call(k,"XMLHttpRequest","getStatus")||0)),i("statusText",f[i("status")]||""),i("response",o.exec.call(k,"XMLHttpRequest","getResponse",i("responseType"))),~e.inArray(i("responseType"),["text",""])?i("responseText",i("response")):"document"===i("responseType")&&i("responseXML",i("response")),H=o.exec.call(k,"XMLHttpRequest","getAllResponseHeaders"),s.dispatchEvent("readystatechange"),i("status")>0?(M&&s.upload.dispatchEvent(t),s.dispatchEvent(t)):(N=!0,s.dispatchEvent("error")),n()}),k.bind("Abort",function(e){s.dispatchEvent(e),n()}),k.bind("Error",function(e){N=!0,i("readyState",h.DONE),s.dispatchEvent("readystatechange"),P=!0,s.dispatchEvent(e),n()}),o.exec.call(k,"XMLHttpRequest","send",{url:y,method:v,async:D,user:b,password:w,headers:E,mimeType:A,encoding:R,responseType:s.responseType,withCredentials:s.withCredentials,options:j},t)}var s=this;x=(new Date).getTime(),k=new a,"string"==typeof j.required_caps&&(j.required_caps=r.parseCaps(j.required_caps)),j.required_caps=e.extend({},j.required_caps,{return_response_type:s.responseType}),t instanceof c&&(j.required_caps.send_multipart=!0),e.isEmptyObj(E)||(j.required_caps.send_custom_headers=!0),L||(j.required_caps.do_cors=!0),j.ruid?o(k.connectRuntime(j)):(k.bind("RuntimeInit",function(e,t){o(t)}),k.bind("RuntimeError",function(e,t){s.dispatchEvent("RuntimeError",t)}),k.connectRuntime(j))}function g(){i("responseText",""),i("responseXML",null),i("response",null),i("status",0),i("statusText",""),x=_=null}var y,v,b,w,x,_,k,C,S=this,T={timeout:0,readyState:h.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},D=!0,E={},R=null,A=null,O=!1,I=!1,M=!1,P=!1,N=!1,L=!1,F=null,$=null,j={},H="";e.extend(this,T,{uid:e.guid("uid_"),upload:new p,open:function(r,a,s,l,c){var d;if(!r||!a)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(r)||n.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(r.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(v=r.toUpperCase()),~e.inArray(v,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(a=n.utf8_encode(a),d=o.parseUrl(a),L=o.hasSameOrigin(d),y=o.resolveUrl(a),(l||c)&&!L)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(b=l||d.user,w=c||d.pass,D=s||!0,D===!1&&(i("timeout")||i("withCredentials")||""!==i("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);O=!D,I=!1,E={},g.call(this),i("readyState",h.OPENED),this.dispatchEvent("readystatechange")},setRequestHeader:function(o,r){var a=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(i("readyState")!==h.OPENED||I)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(o)||n.utf8_encode(o)!==o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return o=e.trim(o).toLowerCase(),!~e.inArray(o,a)&&!/^(proxy\-|sec\-)/.test(o)&&(E[o]?E[o]+=", "+r:E[o]=r,!0)},hasRequestHeader:function(e){return e&&E[e.toLowerCase()]||!1},getAllResponseHeaders:function(){return H||""},getResponseHeader:function(t){return t=t.toLowerCase(),N||~e.inArray(t,["set-cookie","set-cookie2"])?null:H&&""!==H&&(C||(C={},e.each(H.split(/\r\n/),function(t){var i=t.split(/:\s+/);2===i.length&&(i[0]=e.trim(i[0]),C[i[0].toLowerCase()]={header:i[0],value:e.trim(i[1])})})),C.hasOwnProperty(t))?C[t].header+": "+C[t].value:null},overrideMimeType:function(n){var o,r;if(~e.inArray(i("readyState"),[h.LOADING,h.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n=e.trim(n.toLowerCase()),/;/.test(n)&&(o=n.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(n=o[1],o[2]&&(r=o[2])),!u.mimes[n])throw new t.DOMException(t.DOMException.SYNTAX_ERR);F=n,$=r},send:function(i,o){if(j="string"===e.typeOf(o)?{ruid:o}:o?o:{},this.readyState!==h.OPENED||I)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i instanceof s)j.ruid=i.ruid,A=i.type||"application/octet-stream";else if(i instanceof c){if(i.hasBlob()){var r=i.getBlob();j.ruid=r.ruid,A=r.type||"application/octet-stream"}}else"string"==typeof i&&(R="UTF-8",A="text/plain;charset=UTF-8",i=n.utf8_encode(i));this.withCredentials||(this.withCredentials=j.required_caps&&j.required_caps.send_browser_cookies&&!L),M=!O&&this.upload.hasEventListener(),N=!1,P=!i,O||(I=!0),l.call(this,i)},abort:function(){if(N=!0,O=!1,~e.inArray(i("readyState"),[h.UNSENT,h.OPENED,h.DONE]))i("readyState",h.UNSENT);else{if(i("readyState",h.DONE),I=!1,!k)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);k.getRuntime().exec.call(k,"XMLHttpRequest","abort",P),P=!0}},destroy:function(){k&&("function"===e.typeOf(k.destroy)&&k.destroy(),k=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}}),this.handleEventProps(m.concat(["readystatechange"])),this.upload.handleEventProps(m)}var f={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};p.prototype=i.instance;var m=["loadstart","progress","abort","error","load","timeout","loadend"];return h.UNSENT=0,h.OPENED=1,h.HEADERS_RECEIVED=2,h.LOADING=3,h.DONE=4,h.prototype=i.instance,h}),n("moxie/runtime/Transporter",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,i,n){function o(){function n(){d=u=0,c=this.result=null}function r(t,i){var n=this;l=i,n.bind("TransportingProgress",function(t){u=t.loaded,d>u&&-1===e.inArray(n.state,[o.IDLE,o.DONE])&&a.call(n)},999),n.bind("TransportingComplete",function(){u=d,n.state=o.DONE,c=null,n.result=l.exec.call(n,"Transporter","getAsBlob",t||"")},999),n.state=o.BUSY,n.trigger("TransportingStarted"),a.call(n)}function a(){var e,i=this,n=d-u;p>n&&(p=n),e=t.btoa(c.substr(u,p)),l.exec.call(i,"Transporter","receive",e,d)}var s,l,c,d,u,p;i.call(this),e.extend(this,{uid:e.guid("uid_"),state:o.IDLE,result:null,transport:function(t,i,o){var a=this;if(o=e.extend({chunk_size:204798},o),(s=o.chunk_size%3)&&(o.chunk_size+=3-s),p=o.chunk_size,n.call(this),c=t,d=t.length,"string"===e.typeOf(o)||o.ruid)r.call(a,i,this.connectRuntime(o));else{var l=function(e,t){a.unbind("RuntimeInit",l),r.call(a,i,t)};this.bind("RuntimeInit",l),this.connectRuntime(o)}},abort:function(){var e=this;e.state=o.IDLE,l&&(l.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),n.call(e)},destroy:function(){this.unbindAll(),l=null,this.disconnectRuntime(),n.call(this)}})}return o.IDLE=0,o.BUSY=1,o.DONE=2,o.prototype=n.instance,o}),n("moxie/image/Image",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/file/FileReaderSync","moxie/xhr/XMLHttpRequest","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/runtime/Transporter","moxie/core/utils/Env","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/core/utils/Encode"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){function h(){function n(e){try{return e||(e=this.exec("Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name),!0}catch(e){return this.trigger("error",e.code),!1}}function c(t){var n=e.typeOf(t);try{if(t instanceof h){if(!t.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);m.apply(this,arguments)}else if(t instanceof d){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new i.ImageError(i.ImageError.WRONG_FORMAT);g.apply(this,arguments)}else if(-1!==e.inArray(n,["blob","file"]))c.call(this,new u(null,t),arguments[1]);else if("string"===n)"data:"===t.substr(0,5)?c.call(this,new d(null,{data:t}),arguments[1]):y.apply(this,arguments);else{if("node"!==n||"img"!==t.nodeName.toLowerCase())throw new i.DOMException(i.DOMException.TYPE_MISMATCH_ERR);c.call(this,t.src,arguments[1])}}catch(e){this.trigger("error",e.code)}}function m(t,i){var n=this.connectRuntime(t.ruid);this.ruid=n.uid,n.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(i)||i)}function g(t,i){function n(e){o.ruid=e.uid,e.exec.call(o,"Image","loadFromBlob",t)}var o=this;o.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){n(t)}),i&&"string"==typeof i.required_caps&&(i.required_caps=r.parseCaps(i.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},i))):n(this.connectRuntime(t.ruid))}function y(e,t){var i,n=this;i=new o,i.open("get",e),i.responseType="blob",i.onprogress=function(e){n.trigger(e)},i.onload=function(){g.call(n,i.response,!0)},i.onerror=function(e){n.trigger(e)},i.onloadend=function(){i.destroy()},i.bind("RuntimeError",function(e,t){n.trigger("RuntimeError",t)}),i.send(null,t)}a.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){c.apply(this,arguments)},resize:function(t){var n,o,r=this,a={x:0,y:0,width:r.width,height:r.height},s=e.extendIf({width:r.width,height:r.height,type:r.type||"image/jpeg",quality:90,crop:!1,fit:!0,preserveHeaders:!0,resample:"default",multipass:!0},t);try{if(!r.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);if(r.width>h.MAX_RESIZE_WIDTH||r.height>h.MAX_RESIZE_HEIGHT)throw new i.ImageError(i.ImageError.MAX_RESOLUTION_ERR);if(n=r.meta&&r.meta.tiff&&r.meta.tiff.Orientation||1,-1!==e.inArray(n,[5,6,7,8])){var l=s.width;s.width=s.height,s.height=l}if(s.crop){switch(o=Math.max(s.width/r.width,s.height/r.height),t.fit?(a.width=Math.min(Math.ceil(s.width/o),r.width),a.height=Math.min(Math.ceil(s.height/o),r.height),o=s.width/a.width):(a.width=Math.min(s.width,r.width),a.height=Math.min(s.height,r.height),o=1),"boolean"==typeof s.crop&&(s.crop="cc"),s.crop.toLowerCase().replace(/_/,"-")){case"rb":case"right-bottom":a.x=r.width-a.width,a.y=r.height-a.height;break;case"cb":case"center-bottom":a.x=Math.floor((r.width-a.width)/2),a.y=r.height-a.height;break;case"lb":case"left-bottom":a.x=0,a.y=r.height-a.height;break;case"lt":case"left-top":a.x=0,a.y=0;break;case"ct":case"center-top":a.x=Math.floor((r.width-a.width)/2),a.y=0;break;case"rt":case"right-top":a.x=r.width-a.width,a.y=0;break;case"rc":case"right-center":case"right-middle":a.x=r.width-a.width,a.y=Math.floor((r.height-a.height)/2);break;case"lc":case"left-center":case"left-middle":a.x=0,a.y=Math.floor((r.height-a.height)/2);break;case"cc":case"center-center":case"center-middle":default:a.x=Math.floor((r.width-a.width)/2),a.y=Math.floor((r.height-a.height)/2)}a.x=Math.max(a.x,0),a.y=Math.max(a.y,0)}else o=Math.min(s.width/r.width,s.height/r.height);this.exec("Image","resize",a,o,s)}catch(e){r.trigger("error",e.code)}},downsize:function(t){var i,n={width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90,crop:!1,preserveHeaders:!0,resample:"default"};i="object"==typeof t?e.extend(n,t):e.extend(n,{width:arguments[0],height:arguments[1],crop:arguments[2],preserveHeaders:arguments[3]}),this.resize(i)},crop:function(e,t,i){this.downsize(e,t,!0,i)},getAsCanvas:function(){if(!l.can("create_canvas"))throw new i.RuntimeError(i.RuntimeError.NOT_SUPPORTED_ERR);var e=this.connectRuntime(this.ruid);return e.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsBlob",e||"image/jpeg",t||90)},getAsDataURL:function(e,t){if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsDataURL",e||"image/jpeg",t||90)},getAsBinaryString:function(e,t){var i=this.getAsDataURL(e,t);return p.atob(i.substring(i.indexOf("base64,")+7))},embed:function(n,o){function r(t,o){var r=this;if(l.can("create_canvas")){var d=r.getAsCanvas();if(d)return n.appendChild(d),d=null,r.destroy(),void c.trigger("embedded")}var u=r.getAsDataURL(t,o);if(!u)throw new i.ImageError(i.ImageError.WRONG_FORMAT);if(l.can("use_data_uri_of",u.length))n.innerHTML='<img src="'+u+'" width="'+r.width+'" height="'+r.height+'" />',r.destroy(),c.trigger("embedded");else{var h=new s;h.bind("TransportingComplete",function(){a=c.connectRuntime(this.result.ruid),c.bind("Embedded",function(){e.extend(a.getShimContainer().style,{top:"0px",left:"0px",width:r.width+"px",height:r.height+"px"}),a=null},999),a.exec.call(c,"ImageView","display",this.result.uid,width,height),r.destroy()}),h.transport(p.atob(u.substring(u.indexOf("base64,")+7)),t,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:n})}}var a,c=this,d=e.extend({width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90},o);try{if(!(n=t.get(n)))throw new i.DOMException(i.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);this.width>h.MAX_RESIZE_WIDTH||this.height>h.MAX_RESIZE_HEIGHT;var u=new h;return u.bind("Resize",function(){r.call(this,d.type,d.quality)}),u.bind("Load",function(){u.downsize(d)}),this.meta.thumb&&this.meta.thumb.width>=d.width&&this.meta.thumb.height>=d.height?u.load(this.meta.thumb.data):u.clone(this,!1),u}catch(e){this.trigger("error",e.code)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}}),this.handleEventProps(f),this.bind("Load Resize",function(){return n.call(this)},999)}var f=["progress","load","error","resize","embedded"];return h.MAX_RESIZE_WIDTH=8192,h.MAX_RESIZE_HEIGHT=8192,h.prototype=c.instance,h}),n("moxie/runtime/html5/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,i,n){function r(t){var r=this,l=i.capTest,c=i.capTrue,d=e.extend({access_binary:l(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return r.can("access_binary")&&!!s.Image},display_media:l((n.can("create_canvas")||n.can("use_data_uri_over32kb"))&&o("moxie/image/Image")),do_cors:l(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:l(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==n.browser||n.verComp(n.version,9,">"))}()),filter_by_extension:l(function(){return!("Chrome"===n.browser&&n.verComp(n.version,28,"<")||"IE"===n.browser&&n.verComp(n.version,10,"<")||"Safari"===n.browser&&n.verComp(n.version,7,"<")||"Firefox"===n.browser&&n.verComp(n.version,37,"<"))}()),return_response_headers:c,return_response_type:function(e){return!("json"!==e||!window.JSON)||n.can("return_response_type",e)},return_status_code:c,report_upload_progress:l(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return r.can("access_binary")&&n.can("create_canvas")},select_file:function(){return n.can("use_fileinput")&&window.File},select_folder:function(){return r.can("select_file")&&("Chrome"===n.browser&&n.verComp(n.version,21,">=")||"Firefox"===n.browser&&n.verComp(n.version,42,">="))},select_multiple:function(){return!(!r.can("select_file")||"Safari"===n.browser&&"Windows"===n.os||"iOS"===n.os&&n.verComp(n.osVersion,"7.0.0",">")&&n.verComp(n.osVersion,"8.0.0","<"))},send_binary_string:l(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:l(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||r.can("send_binary_string")},slice_blob:l(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return r.can("slice_blob")&&r.can("send_multipart")},summon_file_dialog:function(){return r.can("select_file")&&("Firefox"===n.browser&&n.verComp(n.version,4,">=")||"Opera"===n.browser&&n.verComp(n.version,12,">=")||"IE"===n.browser&&n.verComp(n.version,10,">=")||!!~e.inArray(n.browser,["Chrome","Safari","Edge"]))},upload_filesize:c,use_http_method:c},arguments[2]);i.call(this,t,arguments[1]||a,d),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),s)}var a="html5",s={};return i.addConstructor(a,r),s}),n("moxie/runtime/html5/file/Blob",["moxie/runtime/html5/Runtime","moxie/file/Blob"],function(e,t){function i(){function e(e,t,i){var n;if(!window.File.prototype.slice)return(n=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?n.call(e,t,i):null;try{return e.slice(),e.slice(t,i)}catch(n){return e.slice(t,i-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))}}return e.Blob=i}),n("moxie/core/utils/Events",["moxie/core/utils/Basic"],function(e){function t(){this.returnValue=!1}function i(){this.cancelBubble=!0}var n={},o="moxie_"+e.guid(),r=function(r,a,s,l){var c,d;a=a.toLowerCase(),r.addEventListener?(c=s,r.addEventListener(a,c,!1)):r.attachEvent&&(c=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=i,s(e)},r.attachEvent("on"+a,c)),r[o]||(r[o]=e.guid()),n.hasOwnProperty(r[o])||(n[r[o]]={}),d=n[r[o]],d.hasOwnProperty(a)||(d[a]=[]),d[a].push({func:c,orig:s,key:l})},a=function(t,i,r){var a,s;if(i=i.toLowerCase(),t[o]&&n[t[o]]&&n[t[o]][i]){a=n[t[o]][i];for(var l=a.length-1;l>=0&&(a[l].orig!==r&&a[l].key!==r||(t.removeEventListener?t.removeEventListener(i,a[l].func,!1):t.detachEvent&&t.detachEvent("on"+i,a[l].func),a[l].orig=null,a[l].func=null,a.splice(l,1),r===s));l--);if(a.length||delete n[t[o]][i],e.isEmptyObj(n[t[o]])){delete n[t[o]];try{delete t[o]}catch(e){t[o]=s}}}},s=function(t,i){t&&t[o]&&e.each(n[t[o]],function(e,n){a(t,n,i)})};return{addEvent:r,removeEvent:a,removeAllEvents:s}}),n("moxie/runtime/html5/file/FileInput",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,o,r,a){function s(){var e,s;i.extend(this,{init:function(l){var c,d,u,p,h,f,m=this,g=m.getRuntime();e=l,u=e.accept.mimes||r.extList2mimes(e.accept,g.can("filter_by_extension")),d=g.getShimContainer(),d.innerHTML='<input id="'+g.uid+'" type="file" style="font-size:999px;opacity:0;"'+(e.multiple&&g.can("select_multiple")?"multiple":"")+(e.directory&&g.can("select_folder")?"webkitdirectory directory":"")+(u?' accept="'+u.join(",")+'"':"")+" />",c=n.get(g.uid),i.extend(c.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),p=n.get(e.browse_button),s=n.getStyle(p,"z-index")||"auto",g.can("summon_file_dialog")&&("static"===n.getStyle(p,"position")&&(p.style.position="relative"),o.addEvent(p,"click",function(e){var t=n.get(g.uid);t&&!t.disabled&&t.click(),e.preventDefault()},m.uid),m.bind("Refresh",function(){h=parseInt(s,10)||1,n.get(e.browse_button).style.zIndex=h,this.getRuntime().getShimContainer().style.zIndex=h-1})),f=g.can("summon_file_dialog")?p:d,o.addEvent(f,"mouseover",function(){m.trigger("mouseenter")},m.uid),o.addEvent(f,"mouseout",function(){m.trigger("mouseleave")},m.uid),o.addEvent(f,"mousedown",function(){m.trigger("mousedown")},m.uid),o.addEvent(n.get(e.container),"mouseup",function(){m.trigger("mouseup")},m.uid),c.onchange=function n(){if(m.files=[],i.each(this.files,function(i){var n="";return!(!e.directory||"."!=i.name)||(i.webkitRelativePath&&(n="/"+i.webkitRelativePath.replace(/^\//,"")),i=new t(g.uid,i),i.relativePath=n,void m.files.push(i))}),"IE"!==a.browser&&"IEMobile"!==a.browser)this.value="";else{var o=this.cloneNode(!0);this.parentNode.replaceChild(o,this),o.onchange=n}m.files.length&&m.trigger("change")},m.trigger({type:"ready",async:!0}),d=null},setOption:function(e,t){var i=this.getRuntime(),o=n.get(i.uid);switch(e){case"accept":if(t){var a=t.mimes||r.extList2mimes(t,i.can("filter_by_extension"));o.setAttribute("accept",a.join(","))}else o.removeAttribute("accept");break;case"directory":t&&i.can("select_folder")?(o.setAttribute("directory",""),o.setAttribute("webkitdirectory","")):(o.removeAttribute("directory"),o.removeAttribute("webkitdirectory"));break;case"multiple":t&&i.can("select_multiple")?o.setAttribute("multiple",""):o.removeAttribute("multiple")}},disable:function(e){var t,i=this.getRuntime();(t=n.get(i.uid))&&(t.disabled=!!e)},destroy:function(){var t=this.getRuntime(),i=t.getShim(),r=t.getShimContainer(),a=e&&n.get(e.container),l=e&&n.get(e.browse_button);a&&o.removeAllEvents(a,this.uid),l&&(o.removeAllEvents(l,this.uid),l.style.zIndex=s),r&&(o.removeAllEvents(r,this.uid),r.innerHTML=""),i.removeInstance(this.uid),e=r=a=l=i=null}})}return e.FileInput=s}),n("moxie/runtime/html5/file/FileDrop",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime"],function(e,t,i,n,o,r){function a(){function e(e){if(!e.dataTransfer||!e.dataTransfer.types)return!1;var t=i.toArray(e.dataTransfer.types||[]);return-1!==i.inArray("Files",t)||-1!==i.inArray("public.file-url",t)||-1!==i.inArray("application/x-moz-file",t)}function a(e,i){if(l(e)){var n=new t(f,e);n.relativePath=i||"",m.push(n)}}function s(e){for(var t=[],n=0;n<e.length;n++)[].push.apply(t,e[n].extensions.split(/\s*,\s*/));return-1===i.inArray("*",t)?t:[]}function l(e){if(!g.length)return!0;var t=r.getFileExtension(e.name);return!t||-1!==i.inArray(t,g)}function c(e,t){var n=[];i.each(e,function(e){var t=e.webkitGetAsEntry();t&&(t.isFile?a(e.getAsFile(),t.fullPath):n.push(t))}),n.length?d(n,t):t()}function d(e,t){var n=[];i.each(e,function(e){n.push(function(t){u(e,t)})}),i.inSeries(n,function(){t()})}function u(e,t){e.isFile?e.file(function(i){a(i,e.fullPath),t()},function(){t()}):e.isDirectory?p(e,t):t()}function p(e,t){function i(e){o.readEntries(function(t){t.length?([].push.apply(n,t),i(e)):e()},e)}var n=[],o=e.createReader();i(function(){d(n,t)})}var h,f,m=[],g=[];i.extend(this,{init:function(t){var n,r=this;h=t,f=r.ruid,g=s(h.accept),n=h.container,o.addEvent(n,"dragover",function(t){e(t)&&(t.preventDefault(),t.dataTransfer.dropEffect="copy")},r.uid),o.addEvent(n,"drop",function(t){e(t)&&(t.preventDefault(),m=[],t.dataTransfer.items&&t.dataTransfer.items[0].webkitGetAsEntry?c(t.dataTransfer.items,function(){r.files=m,r.trigger("drop")}):(i.each(t.dataTransfer.files,function(e){a(e)}),r.files=m,r.trigger("drop")))},r.uid),o.addEvent(n,"dragenter",function(){r.trigger("dragenter")},r.uid),o.addEvent(n,"dragleave",function(){r.trigger("dragleave")},r.uid)},destroy:function(){o.removeAllEvents(h&&n.get(h.container),this.uid),f=m=g=h=null}})}return e.FileDrop=a}),n("moxie/runtime/html5/file/FileReader",["moxie/runtime/html5/Runtime","moxie/core/utils/Encode","moxie/core/utils/Basic"],function(e,t,i){function n(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var n,o=!1;i.extend(this,{read:function(t,r){var a=this;a.result="",n=new window.FileReader,n.addEventListener("progress",function(e){a.trigger(e)}),n.addEventListener("load",function(t){a.result=o?e(n.result):n.result,a.trigger(t)}),n.addEventListener("error",function(e){a.trigger(e,n.error)}),n.addEventListener("loadend",function(e){n=null,a.trigger(e)}),"function"===i.typeOf(n[t])?(o=!1,n[t](r.getSource())):"readAsBinaryString"===t&&(o=!0,n.readAsDataURL(r.getSource()))},abort:function(){n&&n.abort()},destroy:function(){n=null}})}return e.FileReader=n}),n("moxie/runtime/html5/xhr/XMLHttpRequest",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Url","moxie/file/File","moxie/file/Blob","moxie/xhr/FormData","moxie/core/Exceptions","moxie/core/utils/Env"],function(e,t,i,n,o,r,a,s,l){function c(){function e(e,t){var i,n,o=this;i=t.getBlob().getSource(),n=new window.FileReader,n.onload=function(){t.append(t.getBlobName(),new r(null,{type:i.type,data:n.result})),f.send.call(o,e,t)},n.readAsBinaryString(i)}function c(){return!window.XMLHttpRequest||"IE"===l.browser&&l.verComp(l.version,8,"<")?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(e){}}():new window.XMLHttpRequest}function d(e){var t=e.responseXML,i=e.responseText;return"IE"===l.browser&&i&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(i)),t&&("IE"===l.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}function u(e){var t="----moxieboundary"+(new Date).getTime(),i="--",n="\r\n",o="",a=this.getRuntime();if(!a.can("send_binary_string"))throw new s.RuntimeError(s.RuntimeError.NOT_SUPPORTED_ERR);return p.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each(function(e,a){o+=e instanceof r?i+t+n+'Content-Disposition: form-data; name="'+a+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+n+"Content-Type: "+(e.type||"application/octet-stream")+n+n+e.getSource()+n:i+t+n+'Content-Disposition: form-data; name="'+a+'"'+n+n+unescape(encodeURIComponent(e))+n}),o+=i+t+i+n}var p,h,f=this;t.extend(this,{send:function(i,o){var s=this,d="Mozilla"===l.browser&&l.verComp(l.version,4,">=")&&l.verComp(l.version,7,"<"),f="Android Browser"===l.browser,m=!1;if(h=i.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),p=c(),p.open(i.method,i.url,i.async,i.user,i.password),o instanceof r)o.isDetached()&&(m=!0),o=o.getSource();else if(o instanceof a){if(o.hasBlob())if(o.getBlob().isDetached())o=u.call(s,o),m=!0;else if((d||f)&&"blob"===t.typeOf(o.getBlob().getSource())&&window.FileReader)return void e.call(s,i,o);if(o instanceof a){var g=new window.FormData;o.each(function(e,t){e instanceof r?g.append(t,e.getSource()):g.append(t,e)}),o=g}}p.upload?(i.withCredentials&&(p.withCredentials=!0),p.addEventListener("load",function(e){s.trigger(e)}),p.addEventListener("error",function(e){s.trigger(e)}),p.addEventListener("progress",function(e){s.trigger(e)}),p.upload.addEventListener("progress",function(e){s.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):p.onreadystatechange=function(){switch(p.readyState){case 1:break;case 2:break;case 3:var e,t;try{n.hasSameOrigin(i.url)&&(e=p.getResponseHeader("Content-Length")||0),p.responseText&&(t=p.responseText.length)}catch(i){e=t=0}s.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:p.onreadystatechange=function(){},0===p.status?s.trigger("error"):s.trigger("load")}},t.isEmptyObj(i.headers)||t.each(i.headers,function(e,t){p.setRequestHeader(t,e)}),""!==i.responseType&&"responseType"in p&&(p.responseType="json"!==i.responseType||l.can("return_response_type","json")?i.responseType:"text"),m?p.sendAsBinary?p.sendAsBinary(o):function(){for(var e=new Uint8Array(o.length),t=0;t<o.length;t++)e[t]=255&o.charCodeAt(t);p.send(e.buffer)}():p.send(o),s.trigger("loadstart")},getStatus:function(){try{if(p)return p.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var n=new o(t.uid,p.response),r=p.getResponseHeader("Content-Disposition");if(r){var a=r.match(/filename=([\'\"'])([^\1]+)\1/);a&&(h=a[2])}return n.name=h,n.type||(n.type=i.getFileMime(h)),n;case"json":return l.can("return_response_type","json")?p.response:200===p.status&&window.JSON?JSON.parse(p.responseText):null;case"document":return d(p);default:return""!==p.responseText?p.responseText:null}}catch(e){return null}},getAllResponseHeaders:function(){try{return p.getAllResponseHeaders()}catch(e){}return""},abort:function(){p&&p.abort()},destroy:function(){f=h=null}})}return e.XMLHttpRequest=c}),n("moxie/runtime/html5/utils/BinaryReader",["moxie/core/utils/Basic"],function(e){function t(e){e instanceof ArrayBuffer?i.apply(this,arguments):n.apply(this,arguments)}function i(t){var i=new DataView(t);e.extend(this,{readByteAt:function(e){return i.getUint8(e)},writeByteAt:function(e,t){i.setUint8(e,t)},SEGMENT:function(e,n,o){switch(arguments.length){case 2:return t.slice(e,e+n);case 1:return t.slice(e);case 3:if(null===o&&(o=new ArrayBuffer),o instanceof ArrayBuffer){var r=new Uint8Array(this.length()-n+o.byteLength);e>0&&r.set(new Uint8Array(t.slice(0,e)),0),r.set(new Uint8Array(o),e),r.set(new Uint8Array(t.slice(e+n)),e+o.byteLength),this.clear(),t=r.buffer,i=new DataView(t);break}default:return t}},length:function(){return t?t.byteLength:0},clear:function(){i=t=null}})}function n(t){function i(e,i,n){n=3===arguments.length?n:t.length-i-1,t=t.substr(0,i)+e+t.substr(n+i)}e.extend(this,{readByteAt:function(e){return t.charCodeAt(e)},writeByteAt:function(e,t){i(String.fromCharCode(t),e,1)},SEGMENT:function(e,n,o){switch(arguments.length){case 1:return t.substr(e);case 2:return t.substr(e,n);case 3:i(null!==o?o:"",e,n);break;default:return t}},length:function(){return t?t.length:0},clear:function(){t=null}})}return e.extend(t.prototype,{littleEndian:!1,read:function(e,t){var i,n,o;if(e+t>this.length())throw new Error("You are trying to read outside the source boundaries.");for(n=this.littleEndian?0:-8*(t-1),o=0,i=0;t>o;o++)i|=this.readByteAt(e+o)<<Math.abs(n+8*o);return i},write:function(e,t,i){var n,o;if(e>this.length())throw new Error("You are trying to write outside the source boundaries.");for(n=this.littleEndian?0:-8*(i-1),
o=0;i>o;o++)this.writeByteAt(e+o,255&t>>Math.abs(n+8*o))},BYTE:function(e){return this.read(e,1)},SHORT:function(e){return this.read(e,2)},LONG:function(e){return this.read(e,4)},SLONG:function(e){var t=this.read(e,4);return t>2147483647?t-4294967296:t},CHAR:function(e){return String.fromCharCode(this.read(e,1))},STRING:function(e,t){return this.asArray("CHAR",e,t).join("")},asArray:function(e,t,i){for(var n=[],o=0;i>o;o++)n[o]=this[e](t+o);return n}}),t}),n("moxie/runtime/html5/image/JPEGHeaders",["moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],function(e,t){return function i(n){var o,r,a,s=[],l=0;if(o=new e(n),65496!==o.SHORT(0))throw o.clear(),new t.ImageError(t.ImageError.WRONG_FORMAT);for(r=2;r<=o.length();)if(a=o.SHORT(r),a>=65488&&65495>=a)r+=2;else{if(65498===a||65497===a)break;l=o.SHORT(r+2)+2,a>=65505&&65519>=a&&s.push({hex:a,name:"APP"+(15&a),start:r,length:l,segment:o.SEGMENT(r,l)}),r+=l}return o.clear(),{headers:s,restore:function(t){var i,n,o;for(o=new e(t),r=65504==o.SHORT(2)?4+o.SHORT(4):2,n=0,i=s.length;i>n;n++)o.SEGMENT(r,0,s[n].segment),r+=s[n].length;return t=o.SEGMENT(),o.clear(),t},strip:function(t){var n,o,r,a;for(r=new i(t),o=r.headers,r.purge(),n=new e(t),a=o.length;a--;)n.SEGMENT(o[a].start,o[a].length,"");return t=n.SEGMENT(),n.clear(),t},get:function(e){for(var t=[],i=0,n=s.length;n>i;i++)s[i].name===e.toUpperCase()&&t.push(s[i].segment);return t},set:function(e,t){var i,n,o,r=[];for("string"==typeof t?r.push(t):r=t,i=n=0,o=s.length;o>i&&(s[i].name===e.toUpperCase()&&(s[i].segment=r[n],s[i].length=r[n].length,n++),!(n>=r.length));i++);},purge:function(){this.headers=s=[]}}}}),n("moxie/runtime/html5/image/ExifParser",["moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],function(e,i,n){function o(r){function a(i,o){var r,a,s,l,c,p,h,f,m=this,g=[],y={},v={1:"BYTE",7:"UNDEFINED",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",9:"SLONG",10:"SRATIONAL"},b={BYTE:1,UNDEFINED:1,ASCII:1,SHORT:2,LONG:4,RATIONAL:8,SLONG:4,SRATIONAL:8};for(r=m.SHORT(i),a=0;r>a;a++)if(g=[],h=i+2+12*a,s=o[m.SHORT(h)],s!==t){if(l=v[m.SHORT(h+=2)],c=m.LONG(h+=2),p=b[l],!p)throw new n.ImageError(n.ImageError.INVALID_META_ERR);if(h+=4,p*c>4&&(h=m.LONG(h)+u.tiffHeader),h+p*c>=this.length())throw new n.ImageError(n.ImageError.INVALID_META_ERR);"ASCII"!==l?(g=m.asArray(l,h,c),f=1==c?g[0]:g,y[s]=d.hasOwnProperty(s)&&"object"!=typeof f?d[s][f]:f):y[s]=e.trim(m.STRING(h,c).replace(/\0$/,""))}return y}function s(e,t,i){var n,o,r,a=0;if("string"==typeof t){var s=c[e.toLowerCase()];for(var l in s)if(s[l]===t){t=l;break}}n=u[e.toLowerCase()+"IFD"],o=this.SHORT(n);for(var d=0;o>d;d++)if(r=n+12*d+2,this.SHORT(r)==t){a=r+8;break}if(!a)return!1;try{this.write(a,i,4)}catch(e){return!1}return!0}var l,c,d,u,p,h;if(i.call(this,r),c={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"},thumb:{513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength"}},d={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},u={tiffHeader:10},p=u.tiffHeader,l={clear:this.clear},e.extend(this,{read:function(){try{return o.prototype.read.apply(this,arguments)}catch(e){throw new n.ImageError(n.ImageError.INVALID_META_ERR)}},write:function(){try{return o.prototype.write.apply(this,arguments)}catch(e){throw new n.ImageError(n.ImageError.INVALID_META_ERR)}},UNDEFINED:function(){return this.BYTE.apply(this,arguments)},RATIONAL:function(e){return this.LONG(e)/this.LONG(e+4)},SRATIONAL:function(e){return this.SLONG(e)/this.SLONG(e+4)},ASCII:function(e){return this.CHAR(e)},TIFF:function(){return h||null},EXIF:function(){var t=null;if(u.exifIFD){try{t=a.call(this,u.exifIFD,c.exif)}catch(e){return null}if(t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var i=0,n="";i<t.ExifVersion.length;i++)n+=String.fromCharCode(t.ExifVersion[i]);t.ExifVersion=n}}return t},GPS:function(){var t=null;if(u.gpsIFD){try{t=a.call(this,u.gpsIFD,c.gps)}catch(e){return null}t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join("."))}return t},thumb:function(){if(u.IFD1)try{var e=a.call(this,u.IFD1,c.thumb);if("JPEGInterchangeFormat"in e)return this.SEGMENT(u.tiffHeader+e.JPEGInterchangeFormat,e.JPEGInterchangeFormatLength)}catch(e){}return null},setExif:function(e,t){return("PixelXDimension"===e||"PixelYDimension"===e)&&s.call(this,"exif",e,t)},clear:function(){l.clear(),r=c=d=h=u=l=null}}),65505!==this.SHORT(0)||"EXIF\0"!==this.STRING(4,5).toUpperCase())throw new n.ImageError(n.ImageError.INVALID_META_ERR);if(this.littleEndian=18761==this.SHORT(p),42!==this.SHORT(p+=2))throw new n.ImageError(n.ImageError.INVALID_META_ERR);u.IFD0=u.tiffHeader+this.LONG(p+=2),h=a.call(this,u.IFD0,c.tiff),"ExifIFDPointer"in h&&(u.exifIFD=u.tiffHeader+h.ExifIFDPointer,delete h.ExifIFDPointer),"GPSInfoIFDPointer"in h&&(u.gpsIFD=u.tiffHeader+h.GPSInfoIFDPointer,delete h.GPSInfoIFDPointer),e.isEmptyObj(h)&&(h=null);var f=this.LONG(u.IFD0+12*this.SHORT(u.IFD0)+2);f&&(u.IFD1=u.tiffHeader+f)}return o.prototype=i.prototype,o}),n("moxie/runtime/html5/image/JPEG",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEGHeaders","moxie/runtime/html5/utils/BinaryReader","moxie/runtime/html5/image/ExifParser"],function(e,t,i,n,o){function r(r){function a(e){var t,i,n=0;for(e||(e=c);n<=e.length();){if(t=e.SHORT(n+=2),t>=65472&&65475>=t)return n+=5,{height:e.SHORT(n),width:e.SHORT(n+=2)};i=e.SHORT(n+=2),n+=i-2}return null}function s(){var e,t,i=u.thumb();return i&&(e=new n(i),t=a(e),e.clear(),t)?(t.data=i,t):null}function l(){u&&d&&c&&(u.clear(),d.purge(),c.clear(),p=d=u=c=null)}var c,d,u,p;if(c=new n(r),65496!==c.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);d=new i(r);try{u=new o(d.get("app1")[0])}catch(e){}p=a.call(this),e.extend(this,{type:"image/jpeg",size:c.length(),width:p&&p.width||0,height:p&&p.height||0,setExif:function(t,i){return!!u&&("object"===e.typeOf(t)?e.each(t,function(e,t){u.setExif(t,e)}):u.setExif(t,i),void d.set("app1",u.SEGMENT()))},writeHeaders:function(){return arguments.length?d.restore(arguments[0]):d.restore(r)},stripHeaders:function(e){return d.strip(e)},purge:function(){l.call(this)}}),u&&(this.meta={tiff:u.TIFF(),exif:u.EXIF(),gps:u.GPS(),thumb:s()})}return r}),n("moxie/runtime/html5/image/PNG",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],function(e,t,i){function n(n){function o(){var e,t;return e=a.call(this,8),"IHDR"==e.type?(t=e.start,{width:s.LONG(t),height:s.LONG(t+=4)}):null}function r(){s&&(s.clear(),n=d=l=c=s=null)}function a(e){var t,i,n,o;return t=s.LONG(e),i=s.STRING(e+=4,4),n=e+=4,o=s.LONG(e+t),{length:t,type:i,start:n,CRC:o}}var s,l,c,d;s=new i(n),function(){var t=0,i=0,n=[35152,20039,3338,6666];for(i=0;i<n.length;i++,t+=2)if(n[i]!=s.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),d=o.call(this),t.extend(this,{type:"image/png",size:s.length(),width:d.width,height:d.height,purge:function(){r.call(this)}}),r.call(this)}return n}),n("moxie/runtime/html5/image/ImageInfo",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEG","moxie/runtime/html5/image/PNG"],function(e,t,i,n){return function(o){var r,a=[i,n];r=function(){for(var e=0;e<a.length;e++)try{return new a[e](o)}catch(e){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){o=null}}),e.extend(this,r),this.purge=function(){r.purge(),r=null}}}),n("moxie/runtime/html5/image/ResizerCanvas",[],function(){function e(i,n){var o=i.width,r=Math.floor(o*n),a=!1;(.5>n||n>2)&&(n=.5>n?.5:2,a=!0);var s=t(i,n);return a?e(s,r/s.width):s}function t(e,t){var i=e.width,n=e.height,o=Math.floor(i*t),r=Math.floor(n*t),a=document.createElement("canvas");return a.width=o,a.height=r,a.getContext("2d").drawImage(e,0,0,i,n,0,0,o,r),e=null,a}return{scale:e}}),n("moxie/runtime/html5/image/Image",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/utils/Encode","moxie/file/Blob","moxie/file/File","moxie/runtime/html5/image/ImageInfo","moxie/runtime/html5/image/ResizerCanvas","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,o,r,a,s,l){function c(){function e(){if(!v&&!g)throw new i.ImageError(i.DOMException.INVALID_STATE_ERR);return v||g}function c(){var t=e();return"canvas"==t.nodeName.toLowerCase()?t:(v=document.createElement("canvas"),v.width=t.width,v.height=t.height,v.getContext("2d").drawImage(t,0,0),v)}function d(e){return n.atob(e.substring(e.indexOf("base64,")+7))}function u(e,t){return"data:"+(t||"")+";base64,"+n.btoa(e)}function p(e){var t=this;g=new Image,g.onerror=function(){m.call(this),t.trigger("error",i.ImageError.WRONG_FORMAT)},g.onload=function(){t.trigger("load")},g.src="data:"==e.substr(0,5)?e:u(e,w.type)}function h(e,t){var n,o=this;return window.FileReader?(n=new FileReader,n.onload=function(){t(this.result)},n.onerror=function(){o.trigger("error",i.ImageError.WRONG_FORMAT)},void n.readAsDataURL(e)):t(e.getAsDataURL())}function f(e,i){var n=Math.PI/180,o=document.createElement("canvas"),r=o.getContext("2d"),a=e.width,s=e.height;switch(t.inArray(i,[5,6,7,8])>-1?(o.width=s,o.height=a):(o.width=a,o.height=s),i){case 2:r.translate(a,0),r.scale(-1,1);break;case 3:r.translate(a,s),r.rotate(180*n);break;case 4:r.translate(0,s),r.scale(1,-1);break;case 5:r.rotate(90*n),r.scale(1,-1);break;case 6:r.rotate(90*n),r.translate(0,-s);break;case 7:r.rotate(90*n),r.translate(a,-s),r.scale(-1,1);break;case 8:r.rotate(-90*n),r.translate(-a,0)}return r.drawImage(e,0,0,a,s),o}function m(){y&&(y.purge(),y=null),b=g=v=w=null,_=!1}var g,y,v,b,w,x=this,_=!1,k=!0;t.extend(this,{loadFromBlob:function(e){var t=this,n=t.getRuntime(),o=!(arguments.length>1)||arguments[1];if(!n.can("access_binary"))throw new i.RuntimeError(i.RuntimeError.NOT_SUPPORTED_ERR);return w=e,e.isDetached()?(b=e.getSource(),void p.call(this,b)):void h.call(this,e.getSource(),function(e){o&&(b=d(e)),p.call(t,e)})},loadFromImage:function(e,t){this.meta=e.meta,w=new r(null,{name:e.name,size:e.size,type:e.type}),p.call(this,t?b=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t,i=this.getRuntime();return!y&&b&&i.can("access_image_binary")&&(y=new a(b)),t={width:e().width||0,height:e().height||0,type:w.type||l.getFileMime(w.name),size:b&&b.length||w.size||0,name:w.name||"",meta:null},k&&(t.meta=y&&y.meta||this.meta||{},!t.meta||!t.meta.thumb||t.meta.thumb.data instanceof o||(t.meta.thumb.data=new o(null,{type:"image/jpeg",data:t.meta.thumb.data}))),t},resize:function(t,i,n){var o=document.createElement("canvas");if(o.width=t.width,o.height=t.height,o.getContext("2d").drawImage(e(),t.x,t.y,t.width,t.height,0,0,o.width,o.height),v=s.scale(o,i),k=n.preserveHeaders,!k){var r=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1;v=f(v,r)}this.width=v.width,this.height=v.height,_=!0,this.trigger("Resize")},getAsCanvas:function(){return v||(v=c()),v.id=this.uid+"_canvas",v},getAsBlob:function(e,t){return e!==this.type?(_=!0,new r(null,{name:w.name||"",type:e,data:x.getAsDataURL(e,t)})):new r(null,{name:w.name||"",type:e,data:x.getAsBinaryString(e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!_)return g.src;if(c(),"image/jpeg"!==e)return v.toDataURL("image/png");try{return v.toDataURL("image/jpeg",t/100)}catch(e){return v.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!_)return b||(b=d(x.getAsDataURL(e,t))),b;if("image/jpeg"!==e)b=d(x.getAsDataURL(e,t));else{var i;t||(t=90),c();try{i=v.toDataURL("image/jpeg",t/100)}catch(e){i=v.toDataURL("image/jpeg")}b=d(i),y&&(b=y.stripHeaders(b),k&&(y.meta&&y.meta.exif&&y.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),b=y.writeHeaders(b)),y.purge(),y=null)}return _=!1,b},destroy:function(){x=null,m.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=c}),n("moxie/runtime/flash/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,i,n,r){function a(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(t){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}function s(e){var n=i.get(e);n&&"OBJECT"==n.nodeName&&("IE"===t.browser?(n.style.display="none",function t(){4==n.readyState?l(e):setTimeout(t,10)}()):n.parentNode.removeChild(n))}function l(e){var t=i.get(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function c(l){var c,p=this;l=e.extend({swf_url:t.swf_url},l),r.call(this,l,d,{access_binary:function(e){return e&&"browser"===p.mode},access_image_binary:function(e){return e&&"browser"===p.mode},display_media:r.capTest(o("moxie/image/Image")),do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===p.mode},resize_image:r.capTrue,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||(!e.arrayDiff(t,["","text","document"])||"browser"===p.mode)},return_status_code:function(t){return"browser"===p.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:function(e){return e&&"browser"===p.mode},send_browser_cookies:function(e){return e&&"browser"===p.mode},send_custom_headers:function(e){return e&&"browser"===p.mode},send_multipart:r.capTrue,slice_blob:function(e){return e&&"browser"===p.mode},stream_upload:function(e){return e&&"browser"===p.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===p.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},slice_blob:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),a()<11.3&&(this.mode=!1),e.extend(this,{getShim:function(){return i.get(this.uid)},shimExec:function(e,t){var i=[].slice.call(arguments,2);return p.getShim().exec(this.uid,e,t,i)},init:function(){var i,o,r;r=this.getShimContainer(),e.extend(r.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),i='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+l.swf_url+'" ',"IE"===t.browser&&(i+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),i+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+l.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+t.global_event_dispatcher+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===t.browser?(o=document.createElement("div"),r.appendChild(o),o.outerHTML=i,o=r=null):r.innerHTML=i,c=setTimeout(function(){p&&!p.initialized&&p.trigger("Error",new n.RuntimeError(n.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){s(p.uid),e.call(p),clearTimeout(c),l=c=e=p=null}}(this.destroy)},u)}var d="flash",u={};return r.addConstructor(d,c),u}),n("moxie/runtime/flash/file/Blob",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var i={slice:function(e,i,n,o){var r=this.getRuntime();return 0>i?i=Math.max(e.size+i,0):i>0&&(i=Math.min(i,e.size)),0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),e=r.shimExec.call(this,"Blob","slice",i,n,o||""),e&&(e=new t(r.uid,e)),e}};return e.Blob=i}),n("moxie/runtime/flash/file/FileInput",["moxie/runtime/flash/Runtime","moxie/file/File","moxie/core/utils/Basic"],function(e,t,i){var n={init:function(e){var n=this,o=this.getRuntime();this.bind("Change",function(){var e=o.shimExec.call(n,"FileInput","getFiles");n.files=[],i.each(e,function(e){n.files.push(new t(o.uid,e))})},999),this.getRuntime().shimExec.call(this,"FileInput","init",{accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=n}),n("moxie/runtime/flash/file/FileReader",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function i(e,i){switch(i){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var n={read:function(e,t){var n=this;return n.result="","readAsDataURL"===e&&(n.result="data:"+(t.type||"")+";base64,"),n.bind("Progress",function(t,o){o&&(n.result+=i(o,e))},999),n.getRuntime().shimExec.call(this,"FileReader","readAsBase64",t.uid)}};return e.FileReader=n}),n("moxie/runtime/flash/file/FileReaderSync",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function i(e,i){switch(i){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var n={read:function(e,t){var n,o=this.getRuntime();return(n=o.shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(n="data:"+(t.type||"")+";base64,"+n),i(n,e,t.type)):null}};return e.FileReaderSync=n}),n("moxie/runtime/flash/runtime/Transporter",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var i={getAsBlob:function(e){var i=this.getRuntime(),n=i.shimExec.call(this,"Transporter","getAsBlob",e);return n?new t(i.uid,n):null}};return e.Transporter=i}),n("moxie/runtime/flash/xhr/XMLHttpRequest",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/file/File","moxie/file/FileReaderSync","moxie/runtime/flash/file/FileReaderSync","moxie/xhr/FormData","moxie/runtime/Transporter","moxie/runtime/flash/runtime/Transporter"],function(e,t,i,n,o,r,a,s){var l={send:function(e,n){function o(){e.transport=d.mode,d.shimExec.call(c,"XMLHttpRequest","send",e,n)}function r(e,t){d.shimExec.call(c,"XMLHttpRequest","appendBlob",e,t.uid),n=null,o()}function l(e,t){var i=new s;i.bind("TransportingComplete",function(){t(this.result)}),i.transport(e.getSource(),e.type,{ruid:d.uid})}var c=this,d=c.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){d.shimExec.call(c,"XMLHttpRequest","setRequestHeader",t,e.toString())}),n instanceof a){var u;if(n.each(function(e,t){e instanceof i?u=t:d.shimExec.call(c,"XMLHttpRequest","append",t,e)}),n.hasBlob()){var p=n.getBlob();p.isDetached()?l(p,function(e){p.destroy(),r(u,e)}):r(u,p)}else n=null,o()}else n instanceof i?n.isDetached()?l(n,function(e){n.destroy(),n=e.uid,o()}):(n=n.uid,o()):o()},getResponse:function(e){var i,r,a=this.getRuntime();if(r=a.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(r=new n(a.uid,r),"blob"===e)return r;try{if(i=new o,~t.inArray(e,["","text"]))return i.readAsText(r);if("json"===e&&window.JSON)return JSON.parse(i.readAsText(r))}finally{r.destroy()}}return null},abort:function(){var e=this.getRuntime();e.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=l}),n("moxie/runtime/flash/image/Image",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/runtime/Transporter","moxie/file/Blob","moxie/file/FileReaderSync"],function(e,t,i,n,o){var r={loadFromBlob:function(e){function t(e){o.shimExec.call(n,"Image","loadFromBlob",e.uid),n=o=null}var n=this,o=n.getRuntime();if(e.isDetached()){var r=new i;r.bind("TransportingComplete",function(){t(r.result.getSource())}),r.transport(e.getSource(),e.type,{ruid:o.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,"Image","loadFromImage",e.uid)},getInfo:function(){var e=this.getRuntime(),t=e.shimExec.call(this,"Image","getInfo");return!t.meta||!t.meta.thumb||t.meta.thumb.data instanceof n||(t.meta.thumb.data=new n(e.uid,t.meta.thumb.data)),t},getAsBlob:function(e,t){var i=this.getRuntime(),o=i.shimExec.call(this,"Image","getAsBlob",e,t);return o?new n(i.uid,o):null},getAsDataURL:function(){var e,t=this.getRuntime(),i=t.Image.getAsBlob.apply(this,arguments);return i?(e=new o,e.readAsDataURL(i)):null}};return e.Image=r}),n("moxie/runtime/silverlight/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,i,n,r){function a(e){var t,i,n,o,r,a=!1,s=null,l=0;try{try{s=new ActiveXObject("AgControl.AgControl"),s.IsVersionSupported(e)&&(a=!0),s=null}catch(s){var c=navigator.plugins["Silverlight Plug-In"];if(c){for(t=c.description,"1.0.30226.2"===t&&(t="2.0.30226.2"),i=t.split(".");i.length>3;)i.pop();for(;i.length<4;)i.push(0);for(n=e.split(".");n.length>4;)n.pop();do o=parseInt(n[l],10),r=parseInt(i[l],10),l++;while(l<n.length&&o===r);r>=o&&!isNaN(o)&&(a=!0)}}}catch(e){a=!1}return a}function s(s){var d,u=this;s=e.extend({xap_url:t.xap_url},s),r.call(this,s,l,{access_binary:r.capTrue,access_image_binary:r.capTrue,display_media:r.capTest(o("moxie/image/Image")),do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:r.capTrue,resize_image:r.capTrue,return_response_headers:function(e){return e&&"client"===u.mode},return_response_type:function(e){return"json"!==e||!!window.JSON},return_status_code:function(t){return"client"===u.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:r.capTrue,send_browser_cookies:function(e){return e&&"browser"===u.mode},send_custom_headers:function(e){return e&&"client"===u.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:r.capTrue,use_http_method:function(t){return"client"===u.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),a("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return i.get(this.uid).content.Moxie},shimExec:function(e,t){var i=[].slice.call(arguments,2);return u.getShim().exec(this.uid,e,t,i)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+s.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+t.global_event_dispatcher+'"/></object>',d=setTimeout(function(){u&&!u.initialized&&u.trigger("Error",new n.RuntimeError(n.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(u),clearTimeout(d),s=d=e=u=null}}(this.destroy)},c)}var l="silverlight",c={};return r.addConstructor(l,s),c}),n("moxie/runtime/silverlight/file/Blob",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/Blob"],function(e,t,i){return e.Blob=t.extend({},i)}),n("moxie/runtime/silverlight/file/FileInput",["moxie/runtime/silverlight/Runtime","moxie/file/File","moxie/core/utils/Basic"],function(e,t,i){function n(e){for(var t="",i=0;i<e.length;i++)t+=(""!==t?"|":"")+e[i].title+" | *."+e[i].extensions.replace(/,/g,";*.");return t}var o={init:function(e){var o=this,r=this.getRuntime();this.bind("Change",function(){var e=r.shimExec.call(o,"FileInput","getFiles");o.files=[],i.each(e,function(e){o.files.push(new t(r.uid,e))})},999),r.shimExec.call(this,"FileInput","init",n(e.accept),e.multiple),this.trigger("ready")},setOption:function(e,t){"accept"==e&&(t=n(t)),this.getRuntime().shimExec.call(this,"FileInput","setOption",e,t)}};return e.FileInput=o}),n("moxie/runtime/silverlight/file/FileDrop",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Dom","moxie/core/utils/Events"],function(e,t,i){var n={init:function(){var e,n=this,o=n.getRuntime();return e=o.getShimContainer(),i.addEvent(e,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},n.uid),i.addEvent(e,"dragenter",function(e){e.preventDefault();var i=t.get(o.uid).dragEnter(e);i&&e.stopPropagation()},n.uid),i.addEvent(e,"drop",function(e){e.preventDefault();var i=t.get(o.uid).dragDrop(e);i&&e.stopPropagation()},n.uid),o.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=n}),n("moxie/runtime/silverlight/file/FileReader",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReader"],function(e,t,i){return e.FileReader=t.extend({},i)}),n("moxie/runtime/silverlight/file/FileReaderSync",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReaderSync"],function(e,t,i){return e.FileReaderSync=t.extend({},i)}),n("moxie/runtime/silverlight/runtime/Transporter",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/runtime/Transporter"],function(e,t,i){return e.Transporter=t.extend({},i)}),n("moxie/runtime/silverlight/xhr/XMLHttpRequest",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/xhr/XMLHttpRequest","moxie/runtime/silverlight/file/FileReaderSync","moxie/runtime/silverlight/runtime/Transporter"],function(e,t,i){return e.XMLHttpRequest=t.extend({},i)}),n("moxie/runtime/silverlight/image/Image",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/runtime/flash/image/Image"],function(e,t,i,n){return e.Image=t.extend({},n,{getInfo:function(){var e=this.getRuntime(),n=["tiff","exif","gps","thumb"],o={meta:{}},r=e.shimExec.call(this,"Image","getInfo");return r.meta&&(t.each(n,function(e){var t,i,n,a,s=r.meta[e];if(s&&s.keys)for(o.meta[e]={},i=0,n=s.keys.length;n>i;i++)t=s.keys[i],a=s[t],a&&(/^(\d|[1-9]\d+)$/.test(a)?a=parseInt(a,10):/^\d*\.\d+$/.test(a)&&(a=parseFloat(a)),o.meta[e][t]=a)}),!o.meta||!o.meta.thumb||o.meta.thumb.data instanceof i||(o.meta.thumb.data=new i(e.uid,o.meta.thumb.data))),o.width=parseInt(r.width,10),o.height=parseInt(r.height,10),o.size=parseInt(r.size,10),o.type=r.type,o.name=r.name,o},resize:function(e,t,i){this.getRuntime().shimExec.call(this,"Image","resize",e.x,e.y,e.width,e.height,t,i.preserveHeaders,i.resample)}})}),n("moxie/runtime/html4/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,i,n){function r(t){var r=this,l=i.capTest,c=i.capTrue;i.call(this,t,a,{access_binary:l(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:l((n.can("create_canvas")||n.can("use_data_uri_over32kb"))&&o("moxie/image/Image")),do_cors:!1,drag_and_drop:!1,filter_by_extension:l(function(){return!("Chrome"===n.browser&&n.verComp(n.version,28,"<")||"IE"===n.browser&&n.verComp(n.version,10,"<")||"Safari"===n.browser&&n.verComp(n.version,7,"<")||"Firefox"===n.browser&&n.verComp(n.version,37,"<"))}()),resize_image:function(){return s.Image&&r.can("access_binary")&&n.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return n.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return r.can("select_file")},summon_file_dialog:function(){return r.can("select_file")&&("Firefox"===n.browser&&n.verComp(n.version,4,">=")||"Opera"===n.browser&&n.verComp(n.version,12,">=")||"IE"===n.browser&&n.verComp(n.version,10,">=")||!!~e.inArray(n.browser,["Chrome","Safari"]))},upload_filesize:c,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),s)}var a="html4",s={};return i.addConstructor(a,r),s}),n("moxie/runtime/html4/file/FileInput",["moxie/runtime/html4/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,o,r,a){function s(){function e(){var r,c,u,p,h,f,m=this,g=m.getRuntime();f=i.guid("uid_"),r=g.getShimContainer(),s&&(u=n.get(s+"_form"),u&&i.extend(u.style,{top:"100%"})),p=document.createElement("form"),p.setAttribute("id",f+"_form"),p.setAttribute("method","post"),p.setAttribute("enctype","multipart/form-data"),p.setAttribute("encoding","multipart/form-data"),i.extend(p.style,{
overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),h=document.createElement("input"),h.setAttribute("id",f),h.setAttribute("type","file"),h.setAttribute("accept",d.join(",")),i.extend(h.style,{fontSize:"999px",opacity:0}),p.appendChild(h),r.appendChild(p),i.extend(h.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===a.browser&&a.verComp(a.version,10,"<")&&i.extend(h.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),h.onchange=function(){var i;if(this.value){if(this.files){if(i=this.files[0],0===i.size)return void p.parentNode.removeChild(p)}else i={name:this.value};i=new t(g.uid,i),this.onchange=function(){},e.call(m),m.files=[i],h.setAttribute("id",i.uid),p.setAttribute("id",i.uid+"_form"),m.trigger("change"),h=p=null}},g.can("summon_file_dialog")&&(c=n.get(l.browse_button),o.removeEvent(c,"click",m.uid),o.addEvent(c,"click",function(e){h&&!h.disabled&&h.click(),e.preventDefault()},m.uid)),s=f,r=u=c=null}var s,l,c,d=[];i.extend(this,{init:function(t){var i,a=this,s=a.getRuntime();l=t,d=t.accept.mimes||r.extList2mimes(t.accept,s.can("filter_by_extension")),i=s.getShimContainer(),function(){var e,r,d;e=n.get(t.browse_button),c=n.getStyle(e,"z-index")||"auto",s.can("summon_file_dialog")&&("static"===n.getStyle(e,"position")&&(e.style.position="relative"),a.bind("Refresh",function(){r=parseInt(c,10)||1,n.get(l.browse_button).style.zIndex=r,this.getRuntime().getShimContainer().style.zIndex=r-1})),d=s.can("summon_file_dialog")?e:i,o.addEvent(d,"mouseover",function(){a.trigger("mouseenter")},a.uid),o.addEvent(d,"mouseout",function(){a.trigger("mouseleave")},a.uid),o.addEvent(d,"mousedown",function(){a.trigger("mousedown")},a.uid),o.addEvent(n.get(t.container),"mouseup",function(){a.trigger("mouseup")},a.uid),e=null}(),e.call(this),i=null,a.trigger({type:"ready",async:!0})},setOption:function(e,t){var i,o=this.getRuntime();"accept"==e&&(d=t.mimes||r.extList2mimes(t,o.can("filter_by_extension"))),i=n.get(s),i&&i.setAttribute("accept",d.join(","))},disable:function(e){var t;(t=n.get(s))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),i=e.getShimContainer(),r=l&&n.get(l.container),a=l&&n.get(l.browse_button);r&&o.removeAllEvents(r,this.uid),a&&(o.removeAllEvents(a,this.uid),a.style.zIndex=c),i&&(o.removeAllEvents(i,this.uid),i.innerHTML=""),t.removeInstance(this.uid),s=d=l=i=r=a=t=null}})}return e.FileInput=s}),n("moxie/runtime/html4/file/FileReader",["moxie/runtime/html4/Runtime","moxie/runtime/html5/file/FileReader"],function(e,t){return e.FileReader=t}),n("moxie/runtime/html4/xhr/XMLHttpRequest",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Url","moxie/core/Exceptions","moxie/core/utils/Events","moxie/file/Blob","moxie/xhr/FormData"],function(e,t,i,n,o,r,a,s){function l(){function e(e){var t,n,o,a,s=this,l=!1;if(d){if(t=d.id.replace(/_iframe$/,""),n=i.get(t+"_form")){for(o=n.getElementsByTagName("input"),a=o.length;a--;)switch(o[a].getAttribute("type")){case"hidden":o[a].parentNode.removeChild(o[a]);break;case"file":l=!0}o=[],l||n.parentNode.removeChild(n),n=null}setTimeout(function(){r.removeEvent(d,"load",s.uid),d.parentNode&&d.parentNode.removeChild(d);var t=s.getRuntime().getShimContainer();t.children.length||t.parentNode.removeChild(t),t=d=null,e()},1)}}var l,c,d;t.extend(this,{send:function(u,p){function h(){var i=b.getShimContainer()||document.body,o=document.createElement("div");o.innerHTML='<iframe id="'+f+'_iframe" name="'+f+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',d=o.firstChild,i.appendChild(d),r.addEvent(d,"load",function(){var i;try{i=d.contentWindow.document||d.contentDocument||window.frames[d.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(i.title)?l=i.title.replace(/^(\d+).*$/,"$1"):(l=200,c=t.trim(i.body.innerHTML),v.trigger({type:"progress",loaded:c.length,total:c.length}),y&&v.trigger({type:"uploadprogress",loaded:y.size||1025,total:y.size||1025}))}catch(t){if(!n.hasSameOrigin(u.url))return void e.call(v,function(){v.trigger("error")});l=404}e.call(v,function(){v.trigger("load")})},v.uid)}var f,m,g,y,v=this,b=v.getRuntime();if(l=c=null,p instanceof s&&p.hasBlob()){if(y=p.getBlob(),f=y.uid,g=i.get(f),m=i.get(f+"_form"),!m)throw new o.DOMException(o.DOMException.NOT_FOUND_ERR)}else f=t.guid("uid_"),m=document.createElement("form"),m.setAttribute("id",f+"_form"),m.setAttribute("method",u.method),m.setAttribute("enctype","multipart/form-data"),m.setAttribute("encoding","multipart/form-data"),b.getShimContainer().appendChild(m);m.setAttribute("target",f+"_iframe"),p instanceof s&&p.each(function(e,i){if(e instanceof a)g&&g.setAttribute("name",i);else{var n=document.createElement("input");t.extend(n,{type:"hidden",name:i,value:e}),g?m.insertBefore(n,g):m.appendChild(n)}}),m.setAttribute("action",u.url),h(),m.submit(),v.trigger("loadstart")},getStatus:function(){return l},getResponse:function(e){if("json"===e&&"string"===t.typeOf(c)&&window.JSON)try{return JSON.parse(c.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(e){return null}return c},abort:function(){var t=this;d&&d.contentWindow&&(d.contentWindow.stop?d.contentWindow.stop():d.contentWindow.document.execCommand?d.contentWindow.document.execCommand("Stop"):d.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})}})}return e.XMLHttpRequest=l}),n("moxie/runtime/html4/image/Image",["moxie/runtime/html4/Runtime","moxie/runtime/html5/image/Image"],function(e,t){return e.Image=t}),a(["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Dom","moxie/core/EventTarget","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/file/Blob","moxie/core/I18n","moxie/core/utils/Mime","moxie/file/FileInput","moxie/file/File","moxie/file/FileDrop","moxie/file/FileReader","moxie/core/utils/Url","moxie/runtime/RuntimeTarget","moxie/xhr/FormData","moxie/xhr/XMLHttpRequest","moxie/runtime/Transporter","moxie/image/Image","moxie/core/utils/Events","moxie/runtime/html5/image/ResizerCanvas"])}(this)}),define("../libs/plupload/js/moxie.min",function(){}),!function(e,t){var i=function(){var e={};return t.apply(e,arguments),e.plupload};"function"==typeof define&&define.amd?define("plupload",["./moxie"],i):"object"==typeof module&&module.exports?module.exports=i(require("./moxie")):e.plupload=i(e.moxie)}(this||window,function(e){!function(e,t,i){function n(e){function t(e,t,i){var o={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",urlstream_upload:"send_binary_string",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};o[e]?n[o[e]]=t:i||(n[e]=t)}var i=e.required_features,n={};return"string"==typeof i?l.each(i.split(/\s*,\s*/),function(e){t(e,!0)}):"object"==typeof i?l.each(i,function(e,i){t(i,e)}):i===!0&&(e.chunk_size>0&&(n.slice_blob=!0),l.isEmptyObj(e.resize)&&e.multipart||(n.send_binary_string=!0),l.each(e,function(e,i){t(i,!!e,!0)})),n}var o=window.setTimeout,r={},a=t.core.utils,s=t.runtime.Runtime,l={VERSION:"2.2.1",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:a.Mime.mimes,ua:a.Env,typeOf:a.Basic.typeOf,extend:a.Basic.extend,guid:a.Basic.guid,getAll:function(e){var t,i=[];"array"!==l.typeOf(e)&&(e=[e]);for(var n=e.length;n--;)t=l.get(e[n]),t&&i.push(t);return i.length?i:null},get:a.Dom.get,each:a.Basic.each,getPos:a.Dom.getPos,getSize:a.Dom.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},i=/[<>&\"\']/g;return e?(""+e).replace(i,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:a.Basic.toArray,inArray:a.Basic.inArray,inSeries:a.Basic.inSeries,addI18n:t.core.I18n.addI18n,translate:t.core.I18n.translate,sprintf:a.Basic.sprintf,isEmptyObj:a.Basic.isEmptyObj,hasClass:a.Dom.hasClass,addClass:a.Dom.addClass,removeClass:a.Dom.removeClass,getStyle:a.Dom.getStyle,addEvent:a.Events.addEvent,removeEvent:a.Events.removeEvent,removeAllEvents:a.Events.removeAllEvents,cleanName:function(e){var t,i;for(i=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<i.length;t+=2)e=e.replace(i[t],i[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(e,t){var i="";return l.each(t,function(e,t){i+=(i?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),i&&(e+=(e.indexOf("?")>0?"&":"?")+i),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===i||/\D/.test(e))return l.translate("N/A");var n=Math.pow(1024,4);return e>n?t(e/n,1)+" "+l.translate("tb"):e>(n/=1024)?t(e/n,1)+" "+l.translate("gb"):e>(n/=1024)?t(e/n,1)+" "+l.translate("mb"):e>1024?Math.round(e/1024)+" "+l.translate("kb"):e+" "+l.translate("b")},parseSize:a.Basic.parseSizeStr,predictRuntime:function(e,t){var i,n;return i=new l.Uploader(e),n=s.thatCan(i.getOption().required_features,t||e.runtimes),i.destroy(),n},addFileFilter:function(e,t){r[e]=t}};l.addFileFilter("mime_types",function(e,t,i){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:l.FILE_EXTENSION_ERROR,message:l.translate("File extension error."),file:t}),i(!1)):i(!0)}),l.addFileFilter("max_file_size",function(e,t,i){var n;e=l.parseSize(e),t.size!==n&&e&&t.size>e?(this.trigger("Error",{code:l.FILE_SIZE_ERROR,message:l.translate("File size error."),file:t}),i(!1)):i(!0)}),l.addFileFilter("prevent_duplicates",function(e,t,i){if(e)for(var n=this.files.length;n--;)if(t.name===this.files[n].name&&t.size===this.files[n].size)return this.trigger("Error",{code:l.FILE_DUPLICATE_ERROR,message:l.translate("Duplicate file error."),file:t}),void i(!1);i(!0)}),l.Uploader=function(e){function a(){var e,t,i=0;if(this.state==l.STARTED){for(t=0;t<A.length;t++)e||A[t].status!=l.QUEUED?i++:(e=A[t],this.trigger("BeforeUpload",e)&&(e.status=l.UPLOADING,this.trigger("UploadFile",e)));i==A.length&&(this.state!==l.STOPPED&&(this.state=l.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",A))}}function c(e){e.percent=e.size>0?Math.ceil(100*(e.loaded/e.size)):100,d()}function d(){var e,t;for(D.reset(),e=0;e<A.length;e++)t=A[e],t.size!==i?(D.size+=t.origSize,D.loaded+=t.loaded*t.origSize/t.size):D.size=i,t.status==l.DONE?D.uploaded++:t.status==l.FAILED?D.failed++:D.queued++;D.size===i?D.percent=A.length>0?Math.ceil(100*(D.uploaded/A.length)):0:(D.bytesPerSec=Math.ceil(D.loaded/((+new Date-T||1)/1e3)),D.percent=D.size>0?Math.ceil(100*(D.loaded/D.size)):0)}function u(){var e=I[0]||M[0];return!!e&&e.getRuntime().uid}function p(e,t){if(e.ruid){var i=s.getInfo(e.ruid);if(i)return i.can(t)}return!1}function h(){this.bind("FilesAdded FilesRemoved",function(e){e.trigger("QueueChanged"),e.refresh()}),this.bind("CancelUpload",x),this.bind("BeforeUpload",y),this.bind("UploadFile",v),this.bind("UploadProgress",b),this.bind("StateChanged",w),this.bind("QueueChanged",d),this.bind("Error",k),this.bind("FileUploaded",_),this.bind("Destroy",C)}function f(e,i){var n=this,o=0,r=[],a={runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:O,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};l.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(a[t]=e[t])}),e.browse_button&&l.each(e.browse_button,function(i){r.push(function(r){var c=new t.file.FileInput(l.extend({},a,{accept:e.filters.mime_types,name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:i}));c.onready=function(){var e=s.getInfo(this.ruid);l.extend(n.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),o++,I.push(this),r()},c.onchange=function(){n.addFile(this.files)},c.bind("mouseenter mouseleave mousedown mouseup",function(t){P||(e.browse_button_hover&&("mouseenter"===t.type?l.addClass(i,e.browse_button_hover):"mouseleave"===t.type&&l.removeClass(i,e.browse_button_hover)),e.browse_button_active&&("mousedown"===t.type?l.addClass(i,e.browse_button_active):"mouseup"===t.type&&l.removeClass(i,e.browse_button_active)))}),c.bind("mousedown",function(){n.trigger("Browse")}),c.bind("error runtimeerror",function(){c=null,r()}),c.init()})}),e.drop_element&&l.each(e.drop_element,function(e){r.push(function(i){var r=new t.file.FileDrop(l.extend({},a,{drop_zone:e}));r.onready=function(){var e=s.getInfo(this.ruid);l.extend(n.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),dragdrop:e.can("drag_and_drop")}),o++,M.push(this),i()},r.ondrop=function(){n.addFile(this.files)},r.bind("error runtimeerror",function(){r=null,i()}),r.init()})}),l.inSeries(r,function(){"function"==typeof i&&i(o)})}function m(e,n,o){var r=new t.image.Image;try{r.onload=function(){return n.width>this.width&&n.height>this.height&&n.quality===i&&n.preserve_headers&&!n.crop?(this.destroy(),o(e)):void r.downsize(n.width,n.height,n.crop,n.preserve_headers)},r.onresize=function(){o(this.getAsBlob(e.type,n.quality)),this.destroy()},r.onerror=function(){o(e)},r.load(e)}catch(t){o(e)}}function g(e,i,o){function r(e,i,n){var o=S[e];switch(e){case"max_file_size":"max_file_size"===e&&(S.max_file_size=S.filters.max_file_size=i);break;case"chunk_size":(i=l.parseSize(i))&&(S[e]=i,S.send_file_name=!0);break;case"multipart":S[e]=i,i||(S.send_file_name=!0);break;case"unique_names":S[e]=i,i&&(S.send_file_name=!0);break;case"filters":"array"===l.typeOf(i)&&(i={mime_types:i}),n?l.extend(S.filters,i):S.filters=i,i.mime_types&&("string"===l.typeOf(i.mime_types)&&(i.mime_types=t.core.utils.Mime.mimes2extList(i.mime_types)),i.mime_types.regexp=function(e){var t=[];return l.each(e,function(e){l.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}(i.mime_types),S.filters.mime_types=i.mime_types);break;case"resize":S.resize=!!i&&l.extend({preserve_headers:!0,crop:!1},i);break;case"prevent_duplicates":S.prevent_duplicates=S.filters.prevent_duplicates=!!i;break;case"container":case"browse_button":case"drop_element":i="container"===e?l.get(i):l.getAll(i);case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":S[e]=i,n||(c=!0);break;default:S[e]=i}n||a.trigger("OptionChanged",e,i,o)}var a=this,c=!1;"object"==typeof e?l.each(e,function(e,t){r(t,e,o)}):r(e,i,o),o?(S.required_features=n(l.extend({},S)),O=n(l.extend({},S,{required_features:!0}))):c&&(a.trigger("Destroy"),f.call(a,S,function(e){e?(a.runtime=s.getInfo(u()).type,a.trigger("Init",{runtime:a.runtime}),a.trigger("PostInit")):a.trigger("Error",{code:l.INIT_ERROR,message:l.translate("Init error.")})}))}function y(e,t){if(e.settings.unique_names){var i=t.name.match(/\.([^.]+)$/),n="part";i&&(n=i[1]),t.target_name=t.id+"."+n}}function v(e,i){function n(){d-- >0?o(r,1e3):(i.loaded=h,e.trigger("Error",{code:l.HTTP_ERROR,message:l.translate("HTTP Error."),file:i,response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()}))}function r(){var p,f,m,g={};i.status===l.UPLOADING&&e.state!==l.STOPPED&&(e.settings.send_file_name&&(g.name=i.target_name||i.name),c&&u.chunks&&a.size>c?(m=Math.min(c,a.size-h),p=a.slice(h,h+m)):(m=a.size,p=a),c&&u.chunks&&(e.settings.send_chunk_number?(g.chunk=Math.ceil(h/c),g.chunks=Math.ceil(a.size/c)):(g.offset=h,g.total=a.size)),E=new t.xhr.XMLHttpRequest,E.upload&&(E.upload.onprogress=function(t){i.loaded=Math.min(i.size,h+t.loaded),e.trigger("UploadProgress",i)}),E.onload=function(){return E.status>=400?void n():(d=e.settings.max_retries,m<a.size?(p.destroy(),h+=m,i.loaded=Math.min(h,a.size),e.trigger("ChunkUploaded",i,{offset:i.loaded,total:a.size,response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()}),"Android Browser"===l.ua.browser&&e.trigger("UploadProgress",i)):i.loaded=i.size,p=f=null,void(!h||h>=a.size?(i.size!=i.origSize&&(a.destroy(),a=null),e.trigger("UploadProgress",i),i.status=l.DONE,e.trigger("FileUploaded",i,{response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()})):o(r,1)))},E.onerror=function(){n()},E.onloadend=function(){this.destroy(),E=null},e.settings.multipart&&u.multipart?(E.open("post",s,!0),l.each(e.settings.headers,function(e,t){E.setRequestHeader(t,e)}),f=new t.xhr.FormData,l.each(l.extend(g,e.settings.multipart_params),function(e,t){f.append(t,e)}),f.append(e.settings.file_data_name,p),E.send(f,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:O,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(s=l.buildUrl(e.settings.url,l.extend(g,e.settings.multipart_params)),E.open("post",s,!0),l.each(e.settings.headers,function(e,t){E.setRequestHeader(t,e)}),E.hasRequestHeader("Content-Type")||E.setRequestHeader("Content-Type","application/octet-stream"),E.send(p,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:O,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})))}var a,s=e.settings.url,c=e.settings.chunk_size,d=e.settings.max_retries,u=e.features,h=0;i.loaded&&(h=i.loaded=c?c*Math.floor(i.loaded/c):0),a=i.getSource(),!l.isEmptyObj(e.settings.resize)&&p(a,"send_binary_string")&&-1!==l.inArray(a.type,["image/jpeg","image/png"])?m.call(this,a,e.settings.resize,function(e){a=e,i.size=e.size,r()}):r()}function b(e,t){c(t)}function w(e){if(e.state==l.STARTED)T=+new Date;else if(e.state==l.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==l.UPLOADING&&(e.files[t].status=l.QUEUED,d())}function x(){E&&E.abort()}function _(e){d(),o(function(){a.call(e)},1)}function k(e,t){t.code===l.INIT_ERROR?e.destroy():t.code===l.HTTP_ERROR&&(t.file.status=l.FAILED,c(t.file),e.state==l.STARTED&&(e.trigger("CancelUpload"),o(function(){a.call(e)},1)))}function C(e){e.stop(),l.each(A,function(e){e.destroy()}),A=[],I.length&&(l.each(I,function(e){e.destroy()}),I=[]),M.length&&(l.each(M,function(e){e.destroy()}),M=[]),O={},P=!1,T=E=null,D.reset()}var S,T,D,E,R=l.guid(),A=[],O={},I=[],M=[],P=!1;S={runtimes:s.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:!1,send_file_name:!0,send_chunk_number:!0},g.call(this,e,null,!0),D=new l.QueueProgress,l.extend(this,{id:R,uid:R,state:l.STOPPED,features:{},runtime:null,files:A,settings:S,total:D,init:function(){var e,t,i=this;return e=i.getOption("preinit"),"function"==typeof e?e(i):l.each(e,function(e,t){i.bind(t,e)}),h.call(i),l.each(["container","browse_button","drop_element"],function(e){return null===i.getOption(e)?(t={code:l.INIT_ERROR,message:l.sprintf(l.translate("%s specified, but cannot be found."),e)},!1):void 0}),t?i.trigger("Error",t):S.browse_button||S.drop_element?void f.call(i,S,function(e){var t=i.getOption("init");"function"==typeof t?t(i):l.each(t,function(e,t){i.bind(t,e)}),e?(i.runtime=s.getInfo(u()).type,i.trigger("Init",{runtime:i.runtime}),i.trigger("PostInit")):i.trigger("Error",{code:l.INIT_ERROR,message:l.translate("Init error.")})}):i.trigger("Error",{code:l.INIT_ERROR,message:l.translate("You must specify either browse_button or drop_element.")})},setOption:function(e,t){g.call(this,e,t,!this.runtime)},getOption:function(e){return e?S[e]:S},refresh:function(){I.length&&l.each(I,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=l.STARTED&&(this.state=l.STARTED,this.trigger("StateChanged"),a.call(this))},stop:function(){this.state!=l.STOPPED&&(this.state=l.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){P=arguments[0]===i||arguments[0],I.length&&l.each(I,function(e){e.disable(P)}),this.trigger("DisableBrowse",P)},getFile:function(e){var t;for(t=A.length-1;t>=0;t--)if(A[t].id===e)return A[t]},addFile:function(e,i){function n(e,t){var i=[];l.each(c.settings.filters,function(t,n){r[n]&&i.push(function(i){r[n].call(c,t,e,function(e){i(!e)})})}),l.inSeries(i,t)}function a(e){var r=l.typeOf(e);if(e instanceof t.file.File){if(!e.ruid&&!e.isDetached()){if(!s)return!1;e.ruid=s,e.connectRuntime(s)}a(new l.File(e))}else e instanceof t.file.Blob?(a(e.getSource()),e.destroy()):e instanceof l.File?(i&&(e.name=i),d.push(function(t){n(e,function(i){i||(A.push(e),p.push(e),c.trigger("FileFiltered",e)),o(t,1)})})):-1!==l.inArray(r,["file","blob"])?a(new t.file.File(null,e)):"node"===r&&"filelist"===l.typeOf(e.files)?l.each(e.files,a):"array"===r&&(i=null,l.each(e,a))}var s,c=this,d=[],p=[];s=u(),a(e),d.length&&l.inSeries(d,function(){p.length&&c.trigger("FilesAdded",p)})},removeFile:function(e){for(var t="string"==typeof e?e:e.id,i=A.length-1;i>=0;i--)if(A[i].id===t)return this.splice(i,1)[0]},splice:function(e,t){var n=A.splice(e===i?0:e,t===i?A.length:t),o=!1;return this.state==l.STARTED&&(l.each(n,function(e){return e.status===l.UPLOADING?(o=!0,!1):void 0}),o&&this.stop()),this.trigger("FilesRemoved",n),l.each(n,function(e){e.destroy()}),o&&this.start(),n},dispatchEvent:function(e){var t,i;if(e=e.toLowerCase(),t=this.hasEventListener(e)){t.sort(function(e,t){return t.priority-e.priority}),i=[].slice.call(arguments),i.shift(),i.unshift(this);for(var n=0;n<t.length;n++)if(t[n].fn.apply(t[n].scope,i)===!1)return!1}return!0},bind:function(e,t,i,n){l.Uploader.prototype.bind.call(this,e,t,n,i)},destroy:function(){this.trigger("Destroy"),S=D=null,this.unbindAll()}})},l.Uploader.prototype=t.core.EventTarget.instance,l.File=function(){function e(e){l.extend(this,{id:l.guid(),name:e.name||e.fileName,type:e.type||"",size:e.size||e.fileSize,origSize:e.size||e.fileSize,loaded:0,percent:0,status:l.QUEUED,lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var e=this.getSource().getSource();return-1!==l.inArray(l.typeOf(e),["blob","file"])?e:null},getSource:function(){return t[this.id]?t[this.id]:null},destroy:function(){var e=this.getSource();e&&(e.destroy(),delete t[this.id])}}),t[this.id]=e}var t={};return e}(),l.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=l}(this,e)}),define("upload",["jquery","bootstrap","plupload","template"],function(e,t,i,n){var o={list:{},config:{container:document.body,classname:".plupload:not([initialized])",previewtpl:'<li class="col-xs-3"><a href="<%=fullurl%>" data-url="<%=url%>" target="_blank" class="thumbnail"><img src="<%=fullurl%>" class="img-responsive"></a><a href="javascript:;" class="btn btn-danger btn-xs btn-trash"><i class="fa fa-trash"></i></a></li>'},events:{onPostInit:function(e){},onFileAdded:function(t,i){var n=t.settings.button;e(n).data("bakup-html",e(n).html());var o=e(n).data("maxcount"),r=e(n).data("input-id")?e(n).data("input-id"):"";if(o="undefined"!=typeof o?o:0,o>0&&r){var a=e("#"+r);if(a.size()>0){var s=e.trim(a.val()),l=""===s?0:s.split(/\,/).length,c=o-l;if(i.length>c){for(var d=0;d<i.length;d++)t.removeFile(i[d]);return Toastr.error(__("You can upload up to %d file%s",c)),!1}}}setTimeout(function(){t.start()},1)},onUploadProgress:function(e,t){},onBeforeUpload:function(e,t){},onUploadSuccess:function(t,i){var n=t.settings.button,r=t.settings.onUploadSuccess,a="undefined"!=typeof i.data?i.data:null;if(n){var s=e(n).data("input-id")?e(n).data("input-id"):"";if(s){var l=[],c=e("#"+s);e(n).data("multiple")&&""!==c.val()&&l.push(c.val()),l.push(a.url),c.val(l.join(",")).trigger("change")}var d=e(n).data("upload-success");if(d&&("function"!=typeof d&&"function"==typeof o.api.custom[d]&&(d=o.api.custom[d]),"function"==typeof d)){var u=d.call(n,a,i);if(u===!1)return}}if("function"==typeof r){var u=r.call(n,a,i);if(u===!1)return}},onUploadError:function(t,i){var n=t.settings.button,r=t.settings.onUploadError,a="undefined"!=typeof i.data?i.data:null;if(n){var s=e(n).data("upload-error");if(s&&("function"!=typeof s&&"function"==typeof o.api.custom[s]&&(s=o.api.custom[s]),"function"==typeof s)){var l=s.call(n,a,i);if(l===!1)return}}if("function"==typeof r){var l=r.call(n,a,i);if(l===!1)return}Toastr.error(i.msg+"(code:"+i.code+")")},onUploadResponse:function(t){try{var i="object"==typeof t?t:JSON.parse(t);i.hasOwnProperty("code")||e.extend(i,{code:-2,msg:t,data:null})}catch(e){var i={code:-1,msg:e.message,data:null}}return i},onUploadComplete:function(t,i){var n=t.settings.button,r=t.settings.onUploadComplete;if(n){var a=e(n).data("upload-complete");if(a&&("function"!=typeof a&&"function"==typeof o.api.custom[a]&&(a=o.api.custom[a]),"function"==typeof a)){var s=a.call(n,i);if(s===!1)return}}if("function"==typeof r){var s=r.call(n,i);if(s===!1)return}}},api:{plupload:function(t,r,a,s){t="undefined"==typeof t?o.config.classname:t,e(t,o.config.container).each(function(){if(e(this).attr("initialized"))return!0;e(this).attr("initialized",!0);var t=this,l=e(this).prop("id"),c=e(this).data("url"),d=e(this).data("maxsize"),u=e(this).data("mimetype"),p=e(this).data("multipart"),h=e(this).data("multiple"),f=e(t).data("input-id")?e(t).data("input-id"):"",m=e(t).data("preview-id")?e(t).data("preview-id"):"";c=c?c:Config.upload.uploadurl,c=Fast.api.fixurl(c),d="undefined"!=typeof d?d:Config.upload.maxsize,u="undefined"!=typeof u?u:Config.upload.mimetype,p="undefined"!=typeof p?p:Config.upload.multipart,h="undefined"!=typeof h?h:Config.upload.multiple;var g=new Array;if(u&&"*"!==u&&u.indexOf("/")===-1){for(var y=u.split(","),v=0;v<y.length;v++)g.push({title:__("Files"),extensions:y[v]});u=g}o.list[l]=new i.Uploader({runtimes:"html5,flash,silverlight,html4",multi_selection:h,browse_button:l,container:e(this).parent().get(0),flash_swf_url:"/assets/libs/plupload/js/Moxie.swf",silverlight_xap_url:"/assets/libs/plupload/js/Moxie.xap",filters:{max_file_size:d,mime_types:u},url:c,multipart_params:e.isArray(p)?{}:p,init:{PostInit:o.events.onPostInit,FilesAdded:o.events.onFileAdded,BeforeUpload:o.events.onBeforeUpload,UploadProgress:function(t,i){var n=t.settings.button;e(n).prop("disabled",!0).html("<i class='fa fa-upload'></i> "+__("Upload")+i.percent+"%"),o.events.onUploadProgress(t,i)},FileUploaded:function(t,i,n){var r=t.settings.button;e(r).prop("disabled",!1).html(e(r).data("bakup-html"));var a=o.events.onUploadResponse(n.response,n,t,i);i.ret=a,1===a.code?o.events.onUploadSuccess(t,a,i):o.events.onUploadError(t,a,i)},UploadComplete:o.events.onUploadComplete,Error:function(t,i){var n=t.settings.button;e(n).prop("disabled",!1).html(e(n).data("bakup-html"));var r={code:i.code,msg:i.message,data:null};o.events.onUploadError(t,r)}},onUploadSuccess:r,onUploadError:a,onUploadComplete:s,button:t}),m&&h&&require(["dragsort"],function(){e("#"+m).dragsort({dragSelector:"li",dragEnd:function(){e("#"+m).trigger("fa.preview.change")},placeHolderTemplate:'<li class="col-xs-3"></li>'})}),m&&f&&(e(document.body).on("keyup change","#"+f,function(){var i=e("#"+f).val(),r=i.split(/\,/);e("#"+m).empty();var a=e("#"+m).data("template")?e("#"+m).data("template"):"";e.each(r,function(i,r){if(!r)return!0;var s={url:r,fullurl:Fast.api.cdnurl(r),data:e(t).data()},l=a?n(a,s):n.render(o.config.previewtpl,s);e("#"+m).append(l)})}),e("#"+f).trigger("change")),m&&(e(document.body).on("fa.preview.change","#"+m,function(){var t=new Array;e("#"+m+" [data-url]").each(function(i,n){t.push(e(this).data("url"))}),f&&e("#"+f).val(t.join(","))}),e(document.body).on("click","#"+m+" .btn-trash",function(){e(this).closest("li").remove(),e("#"+m).trigger("fa.preview.change")})),o.list[l].init()})},send:function(t,n,r,a){var s=Layer.msg(__("Uploading"),{offset:"t",time:0}),l=i.guid(),c=o.events.onPostInit;o.events.onPostInit=function(){o.list[l].addFile(t)},e('<button type="button" id="'+l+'" class="btn btn-danger hidden plupload" />').appendTo("body"),e("#"+l).data("upload-complete",function(e){o.events.onPostInit=c,Layer.close(s)}),o.api.plupload("#"+l,n,r,a)},custom:{afteruploadcallback:function(e){console.log(this,e),alert("Custom Callback,Response URL:"+e.url)}}}};return o}),function(e){"object"==typeof module&&module.exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define("validator-core",["jquery"],e):e(jQuery)}(function(e,t){"use strict";function i(t,n){function o(){r.$el=e(t),r.$el.length?r._init(r.$el[0],n):U(t)&&(X[t]=n)}var r=this;return r instanceof i?void(i.pending?e(window).on("validatorready",o):o()):new i(t,n)}function n(t){function i(){var t=this.options;for(var i in t)i in K&&(this[i]=t[i]);e.extend(this,{_valHook:function(){return"true"===this.element.contentEditable?"text":"val"},getValue:function(){var t=this.element;return"number"===t.type&&t.validity&&t.validity.badInput?"NaN":e(t)[this._valHook()]()},setValue:function(t){e(this.element)[this._valHook()](this.value=t)},getRangeMsg:function(e,t,i){function n(e,t){return l?e>t:e>=t}if(t){var o,r=this,a=r.messages[r._r]||"",s=t[0].split("~"),l="false"===t[1],c=s[0],d=s[1],u="rg",p=[""],h=z(e)&&+e===+e;return 2===s.length?c&&d?(h&&n(e,+c)&&n(+d,e)&&(o=!0),p=p.concat(s),u=l?"gtlt":"rg"):c&&!d?(h&&n(e,+c)&&(o=!0),p.push(c),u=l?"gt":"gte"):!c&&d&&(h&&n(+d,e)&&(o=!0),p.push(d),u=l?"lt":"lte"):(e===+c&&(o=!0),p.push(c),u="eq"),a&&(i&&a[u+i]&&(u+=i),p[0]=a[u]),o||r._rules&&(r._rules[r._i].msg=r.renderMsg.apply(null,p))}},renderMsg:function(){var e=arguments,t=e[0],i=e.length;if(t){for(;--i;)t=t.replace("{"+i+"}",e[i]);return t}}})}function n(i,n,o){this.key=i,this.validator=t,e.extend(this,o,n)}return i.prototype=t,n.prototype=new i,n}function o(e,t){if(W(e)){var i,n=t?t===!0?this:t:o.prototype;for(i in e)h(i)&&(n[i]=a(e[i]))}}function r(e,t){if(W(e)){var i,n=t?t===!0?this:t:r.prototype;for(i in e)n[i]=e[i]}}function a(t){switch(e.type(t)){case"function":return t;case"array":var i=function(){return t[0].test(this.value)||t[1]||!1};return i.msg=t[1],i;case"regexp":return function(){return t.test(this.value)}}}function s(t){var i,n,o;if(t&&t.tagName){switch(t.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":i=t.form||e(t).closest("."+x);break;case"FORM":i=t;break;default:i=e(t).closest("."+x)}for(n in X)if(e(i).is(n)){o=X[n];break}return e(i).data(g)||e(i)[g](o).data(g)}}function l(e,t){var i=z(G(e,C+"-"+t));if(i&&(i=new Function("return "+i)()))return a(i)}function c(e,t,i){var n=t.msg,o=t._r;return W(n)&&(n=n[o]),U(n)||(n=G(e,S+"-"+o)||G(e,S)||(i?U(i)?i:i[o]:"")),n}function d(e){var t;return e&&(t=$.exec(e)),t&&t[0]}function u(e){return"INPUT"===e.tagName&&"checkbox"===e.type||"radio"===e.type}function p(e){return Date.parse(e.replace(/\.|\-/g,"/"))}function h(e){return/^\w+$/.test(e)}function f(e){var t="#"===e.charAt(0);return e=e.replace(/([:.{(|)}\/\[\]])/g,"\\$1"),t?e:'[name="'+e+'"]:first'}var m,g="validator",y="."+g,v=".rule",b=".field",w=".form",x="nice-"+g,_="msg-box",k="aria-invalid",C="data-rule",S="data-msg",T="data-tip",D="data-ok",E="data-timely",R="data-target",A="data-display",O="data-must",I="novalidate",M=":verifiable",P=/(&)?(!)?\b(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\|)?/g,N=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,L=/(?:([^:;\(\[]*):)?(.*)/,F=/[^\x00-\xff]/g,$=/top|right|bottom|left/,j=/(?:(cors|jsonp):)?(?:(post|get):)?(.+)/i,H=/[<>'"`\\]|&#x?\d+[A-F]?;?|%3[A-F]/gim,B=e.noop,Y=e.proxy,z=e.trim,q=e.isFunction,U=function(e){return"string"==typeof e},W=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e);
},V=document.documentMode||+(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1),G=function(e,i,n){return e&&e.tagName?n===t?e.getAttribute(i):void(null===n?e.removeAttribute(i):e.setAttribute(i,""+n)):null},X={},Q={debug:0,theme:"default",ignore:"",focusInvalid:!0,focusCleanup:!1,stopOnError:!1,beforeSubmit:null,valid:null,invalid:null,validation:null,formClass:"n-default",validClass:"n-valid",invalidClass:"n-invalid",bindClassTo:null},K={timely:1,display:null,target:null,ignoreBlank:!1,showOk:!0,dataFilter:function(e){if(U(e)||W(e)&&("error"in e||"ok"in e))return e},msgMaker:function(t){var i;return i='<span role="alert" class="msg-wrap n-'+t.type+'">'+t.arrow,t.result?e.each(t.result,function(e,n){i+='<span class="n-'+n.type+'">'+t.icon+'<span class="n-msg">'+n.msg+"</span></span>"}):i+=t.icon+'<span class="n-msg">'+t.msg+"</span>",i+="</span>"},msgWrapper:"span",msgArrow:"",msgIcon:'<span class="n-icon"></span>',msgClass:"n-right",msgStyle:"",msgShow:null,msgHide:null},Z={};return e.fn.validator=function(t){var n=this,o=arguments;return n.is(M)?n:(n.is("form")||(n=this.find("form")),n.length||(n=this),n.each(function(){var n=e(this).data(g);if(n)if(U(t)){if("_"===t.charAt(0))return;n[t].apply(n,[].slice.call(o,1))}else t&&(n._reset(!0),n._init(this,t));else new i(this,t)}),this)},e.fn.isValid=function(e,i){var n,o,r=s(this[0]),a=q(e);return!r||(a||i!==t||(i=e),r.checkOnly=!!i,o=r.options,n=r._multiValidate(this.is(M)?this:this.find(M),function(t){t||!o.focusInvalid||r.checkOnly||r.$el.find("["+k+"]:first").focus(),a&&(e.length?e(t):t&&e()),r.checkOnly=!1}),a?this:n)},e.extend(e.expr.pseudos||e.expr[":"],{verifiable:function(e){var t=e.nodeName.toLowerCase();return("input"===t&&!{submit:1,button:1,reset:1,image:1}[e.type]||"select"===t||"textarea"===t||"true"===e.contentEditable)&&!e.disabled},filled:function(t){return!!z(e(t).val())}}),i.prototype={_init:function(t,i){var a,s,l,c=this;q(i)&&(i={valid:i}),i=c._opt=i||{},l=G(t,"data-"+g+"-option"),l=c._dataOpt=l&&"{"===l.charAt(0)?new Function("return "+l)():{},s=c._themeOpt=Z[i.theme||l.theme||Q.theme],a=c.options=e.extend({},Q,K,s,c.options,i,l),c.rules=new o(a.rules,!0),c.messages=new r(a.messages,!0),c.Field=n(c),c.elements=c.elements||{},c.deferred={},c.errors={},c.fields={},c._initFields(a.fields),c.$el.data(g)||(c.$el.data(g,c).addClass(x+" "+a.formClass).on("form-submit-validate",function(e,t,i,n,o){c.vetoed=o.veto=!c.isValid,c.ajaxFormOptions=n}).on("submit"+y+" validate"+y,Y(c,"_submit")).on("reset"+y,Y(c,"_reset")).on("showmsg"+y,Y(c,"_showmsg")).on("hidemsg"+y,Y(c,"_hidemsg")).on("focusin"+y+" click"+y,M,Y(c,"_focusin")).on("focusout"+y+" validate"+y,M,Y(c,"_focusout")).on("keyup"+y+" input"+y+" compositionstart compositionend",M,Y(c,"_focusout")).on("click"+y,":radio,:checkbox","click",Y(c,"_focusout")).on("change"+y,'select,input[type="file"]',"change",Y(c,"_focusout")),c._NOVALIDATE=G(t,I),G(t,I,I)),U(a.target)&&c.$el.find(a.target).addClass("msg-container")},_guessAjax:function(t){function i(t,i,n){return!!(t&&t[i]&&e.map(t[i],function(e){return~e.namespace.indexOf(n)?1:null}).length)}var n=this;if(!(n.isAjaxSubmit=!!n.options.valid)){var o=(e._data||e.data)(t,"events");n.isAjaxSubmit=i(o,"valid","form")||i(o,"submit","form-plugin")}},_initFields:function(e){function t(e,t){if(null===t||a){var i=r.elements[e];i&&r._resetElement(i,!0),delete r.fields[e]}else r.fields[e]=new r.Field(e,U(t)?{rule:t}:t,r.fields[e])}var i,n,o,r=this,a=null===e;if(a&&(e=r.fields),W(e))for(i in e)if(~i.indexOf(","))for(n=i.split(","),o=n.length;o--;)t(z(n[o]),e[i]);else t(i,e[i]);r.$el.find(M).each(function(){r._parse(this)})},_parse:function(e){var t,i,n,o=this,r=e.name,a=G(e,C);return a&&G(e,C,null),e.id&&("#"+e.id in o.fields||!r||null!==a&&(t=o.fields[r])&&a!==t.rule&&e.id!==t.key)&&(r="#"+e.id),r||(r="#"+(e.id="N"+String(Math.random()).slice(-12))),t=o.getField(r,!0),t.rule=a||t.rule,(i=G(e,A))&&(t.display=i),t.rule&&((null!==G(e,O)||/\b(?:match|checked)\b/.test(t.rule))&&(t.must=!0),/\brequired\b/.test(t.rule)&&(t.required=!0),(n=G(e,E))?t.timely=+n:t.timely>3&&G(e,E,t.timely),o._parseRule(t),t.old={}),U(t.target)&&G(e,R,t.target),U(t.tip)&&G(e,T,t.tip),o.fields[r]=t},_parseRule:function(i){var n=L.exec(i.rule);n&&(i._i=0,n[1]&&(i.display=n[1]),n[2]&&(i._rules=[],n[2].replace(P,function(){var n=arguments;n[4]=n[4]||n[5],i._rules.push({and:"&"===n[1],not:"!"===n[2],or:"|"===n[6],method:n[3],params:n[4]?e.map(n[4].split(", "),z):t})})))},_multiValidate:function(i,n){var o=this,r=o.options;return o.hasError=!1,r.ignore&&(i=i.not(r.ignore)),i.each(function(){if(o._validate(this),o.hasError&&r.stopOnError)return!1}),n&&(o.validating=!0,e.when.apply(null,e.map(o.deferred,function(e){return e})).done(function(){n.call(o,!o.hasError),o.validating=!1})),e.isEmptyObject(o.deferred)?!o.hasError:t},_submit:function(i){var n=this,o=n.options,r=i.target,a="submit"===i.type&&"FORM"===r.tagName&&!i.isDefaultPrevented();i.preventDefault(),m&&~(m=!1)||n.submiting||"validate"===i.type&&n.$el[0]!==r||q(o.beforeSubmit)&&o.beforeSubmit.call(n,r)===!1||(n.isAjaxSubmit===t&&n._guessAjax(r),n._debug("log","\n<<< event: "+i.type),n._reset(),n.submiting=!0,n._multiValidate(n.$el.find(M),function(t){var i,s=t||2===o.debug?"valid":"invalid";t||(o.focusInvalid&&n.$el.find("["+k+"]:first").focus(),i=e.map(n.errors,function(e){return e})),n.submiting=!1,n.isValid=t,q(o[s])&&o[s].call(n,r,i),n.$el.trigger(s+w,[r,i]),n._debug("log",">>> "+s),t&&(n.vetoed?e(r).ajaxSubmit(n.ajaxFormOptions):a&&!n.isAjaxSubmit&&document.createElement("form").submit.call(r))}))},_reset:function(e){var t=this;t.errors={},e&&(t.reseting=!0,t.$el.find(M).each(function(){t._resetElement(this)}),delete t.reseting)},_resetElement:function(e,t){this._setClass(e,null),this.hideMsg(e)},_focusin:function(e){var t,i,n=this,o=n.options,r=e.target;n.validating||"click"===e.type&&document.activeElement===r||(o.focusCleanup&&"true"===G(r,k)&&(n._setClass(r,null),n.hideMsg(r)),i=G(r,T),i?n.showMsg(r,{type:"tip",msg:i}):(G(r,C)&&n._parse(r),(t=G(r,E))&&(8!==t&&9!==t||n._focusout(e))))},_focusout:function(t){var i,n,o,r,a,s,l,c,d,p=this,h=p.options,f=t.target,m=t.type,g="focusin"===m,y="validate"===m,v=0;if("compositionstart"===m&&(p.pauseValidate=!0),"compositionend"===m&&(p.pauseValidate=!1),!p.pauseValidate&&(n=f.name&&u(f)?p.$el.find('input[name="'+f.name+'"]').get(0):f,(o=p.getField(n))&&o.rule)){if(i=o._e,o._e=m,d=o.timely,!y){if(!d||u(f)&&"click"!==m)return;if(a=o.getValue(),o.ignoreBlank&&!a&&!g)return void p.hideMsg(f);if("focusout"===m){if("change"===i)return;if(2===d||8===d){if(r=o.old,!a||!r)return;o.isValid&&!r.showOk?p.hideMsg(f):p._makeMsg(f,o,r)}}else{if(d<2&&!t.data)return;if(s=+new Date,s-(f._ts||0)<100)return;if(f._ts=s,"keyup"===m){if("input"===i)return;if(l=t.keyCode,c={8:1,9:1,16:1,32:1,46:1},9===l&&!a)return;if(l<48&&!c[l])return}g||(v=d<100?"click"===m||"SELECT"===f.tagName?0:400:d)}}h.ignore&&e(f).is(h.ignore)||(clearTimeout(o._t),v?o._t=setTimeout(function(){p._validate(f,o)},v):(y&&(o.old={}),p._validate(f,o)))}},_setClass:function(t,i){var n=e(t),o=this.options;o.bindClassTo&&(n=n.closest(o.bindClassTo)),n.removeClass(o.invalidClass+" "+o.validClass),null!==i&&n.addClass(i?o.validClass:o.invalidClass)},_showmsg:function(e,t,i){var n=this,o=e.target;n.$el.is(o)?W(t)?n.showMsg(t):"tip"===t&&n.$el.find(M+"["+T+"]",o).each(function(){n.showMsg(this,{type:t,msg:i})}):n.showMsg(o,{type:t,msg:i})},_hidemsg:function(t){var i=e(t.target);i.is(M)&&this.hideMsg(i)},_validatedField:function(t,i,n){var o=this,r=o.options,a=i.isValid=n.isValid=!!n.isValid,s=a?"valid":"invalid";n.key=i.key,n.ruleName=i._r,n.id=t.id,n.value=i.value,o.elements[i.key]=n.element=t,o.isValid=o.$el[0].isValid=a?o.isFormValid():a,a?n.type="ok":(o.submiting&&(o.errors[i.key]=n.msg),o.hasError=!0),i.old=n,q(i[s])&&i[s].call(o,t,n),q(r.validation)&&r.validation.call(o,t,n),e(t).attr(k,!a||null).trigger(s+b,[n,o]),o.$el.triggerHandler("validation",[n,o]),o.checkOnly||(o._setClass(t,n.skip||"tip"===n.type?null:a),o._makeMsg.apply(o,arguments))},_makeMsg:function(t,i,n){i.msgMaker&&(n=e.extend({},n),"focusin"===i._e&&(n.type="tip"),this[n.showOk||n.msg||"tip"===n.type?"showMsg":"hideMsg"](t,n,i))},_validatedRule:function(i,n,o,r){n=n||u.getField(i),r=r||{};var a,s,l,d,u=this,p=n._r,h=n.timely,f=9===h||8===h,m=!1;if(null===o)return u._validatedField(i,n,{isValid:!0,skip:!0}),void(n._i=0);if(o===t?l=!0:o===!0||""===o?m=!0:U(o)?a=o:W(o)?o.error?a=o.error:(a=o.ok,m=!0):m=!!o,s=n._rules[n._i],s.not&&(a=t,m="required"===p||!m),s.or)if(m)for(;n._i<n._rules.length&&n._rules[n._i].or;)n._i++;else l=!0;else s.and&&(n.isValid||(l=!0));l?m=!0:(m&&n.showOk!==!1&&(d=G(i,D),a=null===d?U(n.ok)?n.ok:a:d,!U(a)&&U(n.showOk)&&(a=n.showOk),U(a)&&(r.showOk=m)),m&&!f||(a=(c(i,n,a||s.msg||u.messages[p])||u.messages.fallback).replace(/\{0\|?([^\}]*)\}/,function(e,t){return u._getDisplay(i,n.display)||t||u.messages[0]})),m||(n.isValid=m),r.msg=a,e(i).trigger((m?"valid":"invalid")+v,[p,a])),!f||l&&!s.and||(m||n._m||(n._m=a),n._v=n._v||[],n._v.push({type:m?l?"tip":"ok":"error",msg:a||s.msg})),u._debug("log","   "+n._i+": "+p+" => "+(m||a)),(m||f)&&n._i<n._rules.length-1?(n._i++,u._checkRule(i,n)):(n._i=0,f?(r.isValid=n.isValid,r.result=n._v,r.msg=n._m||"",n.value||"focusin"!==n._e||(r.type="tip")):r.isValid=m,u._validatedField(i,n,r),delete n._m,delete n._v)},_checkRule:function(i,n){var o,r,a,s=this,c=n.key,d=n._rules[n._i],u=d.method,p=d.params;s.submiting&&s.deferred[c]||(a=n.old,n._r=u,a&&!n.must&&!d.must&&d.result!==t&&a.ruleName===u&&a.id===i.id&&n.value&&a.value===n.value?o=d.result:(r=l(i,u)||s.rules[u]||B,o=r.call(n,i,p,n),r.msg&&(d.msg=r.msg)),W(o)&&q(o.then)?(s.deferred[c]=o,n.isValid=t,!s.checkOnly&&s.showMsg(i,{type:"loading",msg:s.messages.loading},n),o.then(function(o,r,a){var l,c=z(a.responseText),u=n.dataFilter;/jsonp?/.test(this.dataType)?c=o:"{"===c.charAt(0)&&(c=e.parseJSON(c)),l=u.call(this,c,n),l===t&&(l=u.call(this,c.data,n)),d.data=this.data,d.result=n.old?l:t,s._validatedRule(i,n,l)},function(e,t){s._validatedRule(i,n,s.messages[t]||t)}).always(function(){delete s.deferred[c]})):s._validatedRule(i,n,o))},_validate:function(e,t){var i=this;if(!e.disabled&&null===G(e,I)&&(t=t||i.getField(e),t&&(t._rules||i._parse(e),t._rules)))return i._debug("info",t.key),t.isValid=!0,t.element=e,t.value=t.getValue(),t.required||t.must||t.value||u(e)?(i._checkRule(e,t),t.isValid):(i._validatedField(e,t,{isValid:!0}),!0)},_debug:function(e,t){window.console&&this.options.debug&&console[e](t)},test:function(e,i){var n,o,r,a,s=this,l=N.exec(i);return l&&(r=l[1],r in s.rules&&(a=l[2]||l[3],a=a?a.split(", "):t,o=s.getField(e,!0),o._r=r,o.value=o.getValue(),n=s.rules[r].call(o,e,a))),n===!0||n===t||null===n},_getDisplay:function(e,t){return U(t)?t:q(t)?t.call(this,e):""},_getMsgOpt:function(t,i){var n=i?i:this.options;return e.extend({type:"error",pos:d(n.msgClass),target:n.target,wrapper:n.msgWrapper,style:n.msgStyle,cls:n.msgClass,arrow:n.msgArrow,icon:n.msgIcon},U(t)?{msg:t}:t)},_getMsgDOM:function(i,n){var o,r,a,s,l=e(i);if(l.is(M)?(a=n.target||G(i,R),a&&(a=q(a)?a.call(this,i):"#"===a.charAt(0)?e(a):this.$el.find(a),a.length&&(a.is(M)?(l=a,i=a.get(0)):a.hasClass(_)?o=a:s=a)),o||(r=u(i)&&i.name||!i.id?i.name:i.id,o=(s||this.$el).find(n.wrapper+"."+_+'[for="'+r+'"]'))):o=l,!n.hide&&!o.length)if(o=e("<"+n.wrapper+">").attr({class:_+(n.cls?" "+n.cls:""),style:n.style||t,for:r}),s)o.appendTo(s);else if(u(i)){var c=l.parent();o.appendTo(c.is("label")?c.parent():c)}else o[n.pos&&"right"!==n.pos?"insertBefore":"insertAfter"](l);return o},showMsg:function(t,i,n){if(t){var o,r,a,s,l=this,c=l.options;if(W(t)&&!t.jquery&&!i)return void e.each(t,function(e,t){var i=l.elements[e]||l.$el.find(f(e))[0];l.showMsg(i,t)});e(t).is(M)&&(n=n||l.getField(t)),(r=(n||c).msgMaker)&&(i=l._getMsgOpt(i,n),t=(t.name&&u(t)?l.$el.find('input[name="'+t.name+'"]'):e(t)).get(0),i.msg||"error"===i.type||(a=G(t,"data-"+i.type),null!==a&&(i.msg=a)),U(i.msg)&&(s=l._getMsgDOM(t,i),!$.test(s[0].className)&&s.addClass(i.cls),6===V&&"bottom"===i.pos&&(s[0].style.marginTop=e(t).outerHeight()+"px"),s.html(r.call(l,i))[0].style.display="",q(o=n&&n.msgShow||c.msgShow)&&o.call(l,s,i.type)))}},hideMsg:function(t,i,n){var o,r,a=this,s=a.options;t=e(t).get(0),e(t).is(M)&&(n=n||a.getField(t),n&&(n.isValid||a.reseting)&&G(t,k,null)),i=a._getMsgOpt(i,n),i.hide=!0,r=a._getMsgDOM(t,i),r.length&&(q(o=n&&n.msgHide||s.msgHide)?o.call(a,r,i.type):(r[0].style.display="none",r[0].innerHTML=""))},getField:function(e,i){var n,o,r=this;if(U(e))n=e,e=t;else{if(G(e,C))return r._parse(e);n=e.id&&"#"+e.id in r.fields||!e.name?"#"+e.id:e.name}return((o=r.fields[n])||i&&(o=new r.Field(n)))&&(o.element=e),o},setField:function(e,t){var i={};e&&(U(e)?i[e]=t:i=e,this._initFields(i))},isFormValid:function(){var e,t,i=this.fields;for(e in i)if(t=i[e],t._rules&&(t.required||t.must||t.value)&&!t.isValid)return!1;return!0},holdSubmit:function(e){this.submiting=e===t||e},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1),this.$el.off(y).removeData(g),G(this.$el[0],I,this._NOVALIDATE)}},e(window).on("beforeunload",function(){this.focus()}),e(document).on("click",":submit",function(){var e,t=this;t.form&&(e=t.getAttributeNode("formnovalidate"),(e&&null!==e.nodeValue||null!==G(t,I))&&(m=!0))}).on("focusin submit validate","form,."+x,function(t){if(null===G(this,I)){var i,n=e(this);!n.data(g)&&(i=s(this))&&(e.isEmptyObject(i.fields)?(G(this,I,I),n.off(y).removeData(g)):"focusin"===t.type?i._focusin(t):i._submit(t))}}),new r({fallback:"This field is not valid.",loading:"Validating..."}),new o({required:function(t,i){var n=this,o=z(n.value),r=!0;if(i)if(1===i.length){if(h(i[0])){if(n.rules[i[0]]&&!o&&!n.test(t,i[0]))return null}else if(!o&&!e(i[0],n.$el).length)return null}else if("not"===i[0])e.each(i.slice(1),function(){return r=o!==z(this)});else if("from"===i[0]){var a,s=n.$el.find(i[1]),l="_validated_";return r=s.filter(function(){var e=n.getField(this);return e&&!!z(e.getValue())}).length>=(i[2]||1),r?o||(a=null):a=c(s[0],n)||!1,e(t).data(l)||s.data(l,1).each(function(){t!==this&&n._validate(this)}).removeData(l),a}return r&&!!o},integer:function(e,t){var i,n="0|",o="[1-9]\\d*",r=t?t[0]:"*";switch(r){case"+":i=o;break;case"-":i="-"+o;break;case"+0":i=n+o;break;case"-0":i=n+"-"+o;break;default:i=n+"-?"+o}return i="^(?:"+i+")$",new RegExp(i).test(this.value)||this.messages.integer&&this.messages.integer[r]},match:function(t,i){if(i){var n,o,r,a,s,l,c,d=this,u=!0,h="eq";if(1===i.length?r=i[0]:(h=i[0],r=i[1]),s=f(r),l=d.$el.find(s)[0]){if(c=d.getField(l),n=d.value,o=c.getValue(),d._match||(d.$el.on("valid"+b+y,s,function(){e(t).trigger("validate")}),d._match=c._match=1),!d.required&&""===n&&""===o)return null;if(a=i[2],a&&(/^date(time)?$/i.test(a)?(n=p(n),o=p(o)):"time"===a&&(n=+n.replace(/:/g,""),o=+o.replace(/:/g,""))),"eq"!==h&&!isNaN(+n)&&isNaN(+o))return!0;switch(h){case"lt":u=+n<+o;break;case"lte":u=+n<=+o;break;case"gte":u=+n>=+o;break;case"gt":u=+n>+o;break;case"neq":u=n!==o;break;default:u=n===o}return u||W(d.messages.match)&&d.messages.match[h].replace("{1}",d._getDisplay(t,c.display||r))}}},range:function(e,t){return this.getRangeMsg(this.value,t)},checked:function(e,t){if(u(e)){var i,n,o=this;return e.name?n=o.$el.find('input[name="'+e.name+'"]').filter(function(){var e=this;return!i&&u(e)&&(i=e),!e.disabled&&e.checked}).length:(i=e,n=i.checked),t?o.getRangeMsg(n,t):!!n||c(i,o,"")||o.messages.required||!1}},length:function(e,t){var i=this.value,n=("true"===t[1]?i.replace(F,"xx"):i).length;return this.getRangeMsg(n,t,t[1]?"_2":"")},remote:function(t,i){if(i){var n,o=this,r=j.exec(i[0]),a=o._rules[o._i],s={},l="",c=r[3],d=r[2]||"POST",u=(r[1]||"").toLowerCase();return a.must=!0,s[t.name]=o.value,i[1]&&e.map(i.slice(1),function(e){var t,i;~e.indexOf("=")?l+="&"+e:(t=e.split(":"),e=z(t[0]),i=z(t[1])||e,s[e]=o.$el.find(f(i)).val())}),s=e.param(s)+l,!o.must&&a.data&&a.data===s?a.result:("cors"!==u&&/^https?:/.test(c)&&!~c.indexOf(location.host)&&(n="jsonp"),e.ajax({url:c,type:d,data:s,dataType:n}))}},filter:function(e,t){var i=this.value,n=i.replace(t?new RegExp("["+t[0]+"]","gm"):H,"");n!==i&&this.setValue(n)}}),i.config=function(t,i){function n(e,t){"rules"===e?new o(t):"messages"===e?new r(t):e in K?K[e]=t:Q[e]=t}W(t)?e.each(t,n):U(t)&&n(t,i)},i.setTheme=function(t,i){W(t)?e.extend(!0,Z,t):U(t)&&W(i)&&(Z[t]=e.extend(Z[t],i))},i.load=function(t){if(t){var n,o,r,a=document,s={},l=a.scripts[0];t.replace(/([^?=&]+)=([^&#]*)/g,function(e,t,i){s[t]=i}),n=s.dir||i.dir,i.css||""===s.css||(o=a.createElement("link"),o.rel="stylesheet",o.href=i.css=n+"jquery.validator.css",l.parentNode.insertBefore(o,l)),!i.local&&~t.indexOf("local")&&""!==s.local&&(i.local=(s.local||a.documentElement.lang||"en").replace("_","-"),i.pending=1,o=a.createElement("script"),o.src=n+"local/"+i.local+".js",r="onload"in o?"onload":"onreadystatechange",o[r]=function(){o.readyState&&!/loaded|complete/.test(o.readyState)||(o=o[r]=null,delete i.pending,e(window).triggerHandler("validatorready"))},l.parentNode.insertBefore(o,l))}},function(){for(var e,t,n=document.scripts,o=n.length,r=/(.*validator(?:\.min)?.js)(\?.*(?:local|css|dir)(?:=[\w\-]*)?)?/;o--&&!t;)e=n[o],t=(e.hasAttribute?e.src:e.getAttribute("src",4)||"").match(r);t&&(i.dir=t[1].split("/").slice(0,-1).join("/")+"/",i.load(t[2]))}(),e[g]=i}),function(e){"object"==typeof module&&module.exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define("validator-lang",["jquery"],e):e(jQuery)}(function(e){e.validator.config({rules:{digits:[/^\d+$/,"请填写数字"],letters:[/^[a-z]+$/i,"请填写字母"],date:[/^\d{4}-\d{2}-\d{2}$/,"请填写有效的日期，格式:yyyy-mm-dd"],time:[/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/,"请填写有效的时间，00:00到23:59之间"],email:[/^[\w\+\-]+(\.[\w\+\-]+)*@[a-z\d\-]+(\.[a-z\d\-]+)*\.([a-z]{2,4})$/i,"请填写有效的邮箱"],url:[/^(https?|s?ftp):\/\/\S+$/i,"请填写有效的网址"],qq:[/^[1-9]\d{4,}$/,"请填写有效的QQ号"],IDcard:[/^\d{6}(19|2\d)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)?$/,"请填写正确的身份证号码"],tel:[/^(?:(?:0\d{2,3}[\- ]?[1-9]\d{6,7})|(?:[48]00[\- ]?[1-9]\d{6}))$/,"请填写有效的电话号码"],mobile:[/^1[3-9]\d{9}$/,"请填写有效的手机号"],zipcode:[/^\d{6}$/,"请检查邮政编码格式"],chinese:[/^[\u0391-\uFFE5]+$/,"请填写中文字符"],username:[/^\w{3,12}$/,"请填写3-12位数字、字母、下划线"],password:[/^[\S]{6,16}$/,"请填写6-16位字符，不能包含空格"],accept:function(t,i){if(!i)return!0;var n=i[0],o=e(t).val();return"*"===n||new RegExp(".(?:"+n+")$","i").test(o)||this.renderMsg("只接受{1}后缀的文件",n.replace(/\|/g,","))}},messages:{0:"此处",fallback:"{0}格式不正确",loading:"正在验证...",error:"网络异常",timeout:"请求超时",required:"{0}不能为空",remote:"{0}已被使用",integer:{"*":"请填写整数","+":"请填写正整数","+0":"请填写正整数或0","-":"请填写负整数","-0":"请填写负整数或0"},match:{eq:"{0}与{1}不一致",neq:"{0}与{1}不能相同",lt:"{0}必须小于{1}",gt:"{0}必须大于{1}",lte:"{0}不能大于{1}",gte:"{0}不能小于{1}"},range:{rg:"请填写{1}到{2}的数",gte:"请填写不小于{1}的数",lte:"请填写最大{1}的数",gtlt:"请填写{1}到{2}之间的数",gt:"请填写大于{1}的数",lt:"请填写小于{1}的数"},checked:{eq:"请选择{1}项",rg:"请选择{1}到{2}项",gte:"请至少选择{1}项",lte:"请最多选择{1}项"},length:{eq:"请填写{1}个字符",rg:"请填写{1}到{2}个字符",gte:"请至少填写{1}个字符",lte:"请最多填写{1}个字符",eq_2:"",rg_2:"",gte_2:"",lte_2:""}}});var t='<span class="n-arrow"><b>◆</b><i>◆</i></span>';e.validator.setTheme({simple_right:{formClass:"n-simple",msgClass:"n-right"},simple_bottom:{formClass:"n-simple",msgClass:"n-bottom"},yellow_top:{formClass:"n-yellow",msgClass:"n-top",msgArrow:t},yellow_right:{formClass:"n-yellow",msgClass:"n-right",msgArrow:t},yellow_right_effect:{formClass:"n-yellow",msgClass:"n-right",msgArrow:t,msgShow:function(e,t){var i=e.children();i.is(":animated")||("error"===t?i.css({left:"20px",opacity:0}).delay(100).show().stop().animate({left:"-4px",opacity:1},150).animate({left:"3px"},80).animate({left:0},80):i.css({left:0,opacity:1}).fadeIn(200))},msgHide:function(e,t){var i=e.children();i.stop().delay(100).show().animate({left:"20px",opacity:0},300,function(){e.hide()})}}})}),define("validator",["validator-core","validator-lang"],function(e,t){return e}),define("form",["jquery","bootstrap","upload","validator"],function(e,t,i,n){var o={config:{},events:{validator:function(t,i,n,r){t.is("form")&&(t.validator(e.extend({validClass:"has-success",invalidClass:"has-error",bindClassTo:".form-group",formClass:"n-default n-bootstrap",msgClass:"n-right",stopOnError:!0,display:function(t){return e(t).closest(".form-group").find(".control-label").text().replace(/\:/,"")},dataFilter:function(e){return 1===e.code?"":e.msg},target:function(t){var i=e(t).closest(".form-group"),n=i.find("span.msg-box");return n.length?n:[]},valid:function(a){var s=this,l=e(".layer-footer [type=submit]",t);return s.holdSubmit(),e(".layer-footer [type=submit]",t).addClass("disabled"),o.api.submit(e(a),function(t,n){if(s.holdSubmit(!1),l.removeClass("disabled"),!1===e(this).triggerHandler("success.form",[t,n]))return!1;if("function"==typeof i&&!1===i.call(e(this),t,n))return!1;var o=n.hasOwnProperty("msg")&&""!==n.msg?n.msg:__("Operation completed");parent.Toastr.success(o),parent.$(".btn-refresh").trigger("click");var r=parent.Layer.getFrameIndex(window.name);return parent.Layer.close(r),!1},function(t,i){return s.holdSubmit(!1),!1!==e(this).triggerHandler("error.form",[t,i])&&(l.removeClass("disabled"),("function"!=typeof n||!1!==n.call(e(this),t,i))&&void 0)},r),!1}},t.data("validator-options")||{})),e(".layer-footer [type=submit],.fixed-footer [type=submit],.normal-footer [type=submit]",t).removeClass("disabled"))},selectpicker:function(t){e(".selectpicker",t).size()>0&&require(["bootstrap-select","bootstrap-select-lang"],function(){e(".selectpicker",t).selectpicker()})},selectpage:function(t){e(".selectpage",t).size()>0&&(require(["selectpage"],function(){e(".selectpage",t).selectPage({eAjaxSuccess:function(e){return e.list="undefined"!=typeof e.rows?e.rows:"undefined"!=typeof e.list?e.list:[],e.totalRow="undefined"!=typeof e.total?e.total:"undefined"!=typeof e.totalRow?e.totalRow:e.list.length,e}})}),e(document).on("change",".sp_hidden",function(){e(this).trigger("validate")}),e(document).on("change",".sp_input",function(){e(this).closest(".sp_container").find(".sp_hidden").trigger("change")}),e(t).on("reset",function(){setTimeout(function(){e(".selectpage",t).selectPageClear()},1)}))},cxselect:function(t){e("[data-toggle='cxselect']",t).size()>0&&require(["cxselect"],function(){e.cxSelect.defaults.jsonName="name",e.cxSelect.defaults.jsonValue="value",e.cxSelect.defaults.jsonSpace="data",e("[data-toggle='cxselect']",t).cxSelect()})},citypicker:function(t){e("[data-toggle='city-picker']",t).size()>0&&require(["citypicker"],function(){})},datetimepicker:function(t){e(".datetimepicker",t).size()>0&&require(["bootstrap-datetimepicker"],function(){var i={format:"YYYY-MM-DD HH:mm:ss",icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-history",clear:"fa fa-trash",close:"fa fa-remove"},showTodayButton:!0,showClose:!0};e(".datetimepicker",t).parent().css("position","relative"),e(".datetimepicker",t).datetimepicker(i)})},daterangepicker:function(t){e(".datetimerange",t).size()>0&&require(["bootstrap-daterangepicker"],function(){var i={};i[__("Today")]=[Moment().startOf("day"),Moment().endOf("day")],i[__("Yesterday")]=[Moment().subtract(1,"days").startOf("day"),Moment().subtract(1,"days").endOf("day")],i[__("Last 7 Days")]=[Moment().subtract(6,"days").startOf("day"),Moment().endOf("day")],i[__("Last 30 Days")]=[Moment().subtract(29,"days").startOf("day"),Moment().endOf("day")],i[__("This Month")]=[Moment().startOf("month"),Moment().endOf("month")],i[__("Last Month")]=[Moment().subtract(1,"month").startOf("month"),Moment().subtract(1,"month").endOf("month")];var n={timePicker:!1,autoUpdateInput:!1,timePickerSeconds:!0,timePicker24Hour:!0,autoApply:!0,locale:{format:"YYYY-MM-DD HH:mm:ss",customRangeLabel:__("Custom Range"),applyLabel:__("Apply"),cancelLabel:__("Clear")},ranges:i},o=function(t,i){e(this.element).val(t.format(n.locale.format)+" - "+i.format(n.locale.format)),e(this.element).trigger("blur")};e(".datetimerange",t).each(function(){var t="function"==typeof e(this).data("callback")?e(this).data("callback"):o;e(this).on("apply.daterangepicker",function(e,i){t.call(i,i.startDate,i.endDate)}),e(this).on("cancel.daterangepicker",function(t,i){e(this).val("").trigger("blur")}),e(this).daterangepicker(e.extend({},n,e(this).data()),t)})})},plupload:function(t){e(".plupload",t).size()>0&&i.api.plupload(e(".plupload",t))},faselect:function(t){e(".fachoose",t).size()>0&&e(".fachoose",t).on("click",function(){var t=this,i=!!e(this).data("multiple")&&e(this).data("multiple"),n=e(this).data("mimetype")?e(this).data("mimetype"):"";return parent.Fast.api.open("general/attachment/select?element_id="+e(this).attr("id")+"&multiple="+i+"&mimetype="+n,__("Choose"),{callback:function(i){var n=e("#"+e(t).attr("id")),o=e(n).data("maxcount"),r=e(n).data("input-id")?e(n).data("input-id"):"";if(o="undefined"!=typeof o?o:0,r&&i.multiple){var a=[],s=e("#"+r),l=e.trim(s.val());""!==l&&a.push(s.val()),a.push(i.url);var c=a.join(",");if(o>0){var d=""===l?0:l.split(/\,/).length,u=""!==i.url?i.url.split(/\,/):[],p=o-d;if(u.length>p)return Toastr.error(__("You can choose up to %d file%s",p)),!1}s.val(c).trigger("change")}else e("#"+r).val(i.url).trigger("change")}}),!1})},fieldlist:function(t){e(".fieldlist",t).size()>0&&(e(".fieldlist",t).on("click",".append",function(){var t=parseInt(e(this).closest("dl").attr("rel"))+1,i=e(this).closest("dl").data("name");e(this).closest("dl").attr("rel",t),e('<dd class="form-inline"><input type="text" name="'+i+"[field]["+t+']" class="form-control" value="" size="10" /> <input type="text" name="'+i+"[value]["+t+']" class="form-control" value="" size="40" /> <span class="btn btn-sm btn-danger btn-remove"><i class="fa fa-times"></i></span> <span class="btn btn-sm btn-primary btn-dragsort"><i class="fa fa-arrows"></i></span></dd>').insertBefore(e(this).parent())}),e(".fieldlist",t).on("click","dd .btn-remove",function(){e(this).parent().remove()}),require(["dragsort"],function(){e("dl.fieldlist",t).dragsort({itemSelector:"dd",dragSelector:".btn-dragsort",dragEnd:function(){},placeHolderTemplate:"<dd></dd>"})}))},bindevent:function(e){}},api:{submit:function(t,i,n,o){if(0===t.size())return Toastr.error("表单未初始化完成,无法提交");if("function"==typeof o&&!1===o.call(t))return!1;var r=t.attr("method").toUpperCase();r=!r||"GET"!==r&&"POST"!==r?"GET":r,url=t.attr("action"),url=url?url:location.href;var a={},s=e("[name$='[]']",t);if(s.size()>0){var l=t.serializeArray().map(function(t){return e(t).prop("name")});e.each(s,function(t,i){l.indexOf(e(this).prop("name"))<0&&(a[e(this).prop("name")]="")})}return Fast.api.ajax({type:r,url:url,data:t.serialize()+(Object.keys(a).length>0?"&"+e.param(a):""),dataType:"json",complete:function(i){var n=i.getResponseHeader("__token__");n&&e("input[name='__token__']",t).val(n)}},function(n,o){if(e(".form-group",t).removeClass("has-feedback has-success has-error"),n&&"object"==typeof n&&("undefined"!=typeof n.token&&e("input[name='__token__']",t).val(n.token),"undefined"!=typeof n.callback&&"function"==typeof n.callback&&n.callback.call(t,n)),"function"==typeof i&&!1===i.call(t,n,o))return!1},function(i,o){if(i&&"object"==typeof i&&"undefined"!=typeof i.token&&e("input[name='__token__']",t).val(i.token),"function"==typeof n&&!1===n.call(t,i,o))return!1}),!1},bindevent:function(t,i,n,r){t="object"==typeof t?t:e(t);var a=o.events;a.bindevent(t),a.validator(t,i,n,r),a.selectpicker(t),a.daterangepicker(t),a.selectpage(t),a.cxselect(t),a.citypicker(t),a.datetimepicker(t),a.plupload(t),a.faselect(t),a.fieldlist(t)},custom:{}}};return o}),function(e){e.fn.dragsort=function(t){if("destroy"==t)return void e(this.selector).trigger("dragsort-uninit");var i=e.extend({},e.fn.dragsort.defaults,t),n=[],o=null,r=null;return this.each(function(t,a){e(a).is("table")&&1==e(a).children().size()&&e(a).children().is("tbody")&&(a=e(a).children().get(0));var s={draggedItem:null,placeHolderItem:null,pos:null,offset:null,offsetLimit:null,scroll:null,container:a,init:function(){i.tagName=""==i.tagName?0==e(this.container).children().size()?"li":e(this.container).children().get(0).tagName.toLowerCase():i.tagName,""==i.itemSelector&&(i.itemSelector=i.tagName),""==i.dragSelector&&(i.dragSelector=i.tagName),""==i.placeHolderTemplate&&(i.placeHolderTemplate="<"+i.tagName+">&nbsp;</"+i.tagName+">"),e(this.container).attr("data-listidx",t).mousedown(this.grabItem).bind("dragsort-uninit",this.uninit),this.styleDragHandlers(!0)},uninit:function(){var t=n[e(this).attr("data-listidx")];e(t.container).unbind("mousedown",t.grabItem).unbind("dragsort-uninit"),t.styleDragHandlers(!1)},getItems:function(){return e(this.container).children(i.itemSelector)},styleDragHandlers:function(t){this.getItems().map(function(){return e(this).is(i.dragSelector)?this:e(this).find(i.dragSelector).get()}).css("cursor",t?"pointer":"")},grabItem:function(t){var o=n[e(this).attr("data-listidx")],r=e(t.target).closest("[data-listidx] > "+i.tagName).get(0),a=o.getItems().filter(function(){return this==r}).size()>0;if(!(1!=t.which||e(t.target).is(i.dragSelectorExclude)||e(t.target).closest(i.dragSelectorExclude).size()>0)&&a){for(var s=t.target;!e(s).is(i.dragSelector);){if(s==this)return;s=s.parentNode}e(s).attr("data-cursor",e(s).css("cursor")),e(s).css("cursor","move");var l=this,c=function(){o.dragStart.call(l,t),e(o.container).unbind("mousemove",c)};e(o.container).mousemove(c).mouseup(function(){e(o.container).unbind("mousemove",c),e(s).css("cursor",e(s).attr("data-cursor"))})}},dragStart:function(t){null!=o&&null!=o.draggedItem&&o.dropItem(),o=n[e(this).attr("data-listidx")],o.draggedItem=e(t.target).closest("[data-listidx] > "+i.tagName),o.draggedItem.attr("data-origpos",e(this).attr("data-listidx")+"-"+e(o.container).children().index(o.draggedItem));var r=parseInt(o.draggedItem.css("marginTop")),a=parseInt(o.draggedItem.css("marginLeft"));if(o.offset=o.draggedItem.offset(),o.offset.top=t.pageY-o.offset.top+(isNaN(r)?0:r)-1,o.offset.left=t.pageX-o.offset.left+(isNaN(a)?0:a)-1,!i.dragBetween){var s=0==e(o.container).outerHeight()?Math.max(1,Math.round(.5+o.getItems().size()*o.draggedItem.outerWidth()/e(o.container).outerWidth()))*o.draggedItem.outerHeight():e(o.container).outerHeight();o.offsetLimit=e(o.container).offset(),o.offsetLimit.right=o.offsetLimit.left+e(o.container).outerWidth()-o.draggedItem.outerWidth(),o.offsetLimit.bottom=o.offsetLimit.top+s-o.draggedItem.outerHeight()}var l=o.draggedItem.height(),c=o.draggedItem.width();if("tr"==i.tagName?(o.draggedItem.children().each(function(){e(this).width(e(this).width())}),o.placeHolderItem=o.draggedItem.clone().attr("data-placeholder",!0),o.draggedItem.after(o.placeHolderItem),o.placeHolderItem.children().each(function(){e(this).html("&nbsp;")})):(o.draggedItem.after(i.placeHolderTemplate),o.placeHolderItem=o.draggedItem.next().css({height:l,width:c}).attr("data-placeholder",!0)),"td"==i.tagName){var d=o.draggedItem.closest("table").get(0);e("<table id='"+d.id+"' style='border-width: 0px;' class='dragSortItem "+d.className+"'><tr></tr></table>").appendTo("body").children().append(o.draggedItem)}var u=o.draggedItem.attr("style");o.draggedItem.attr("data-origstyle",u?u:""),o.draggedItem.css({position:"absolute",opacity:.8,"z-index":999,height:l,width:c}),o.scroll={moveX:0,moveY:0,maxX:e(document).width()-e(window).width(),maxY:e(document).height()-e(window).height()},o.scroll.scrollY=window.setInterval(function(){if(i.scrollContainer!=window)return void e(i.scrollContainer).scrollTop(e(i.scrollContainer).scrollTop()+o.scroll.moveY);var t=e(i.scrollContainer).scrollTop();(o.scroll.moveY>0&&t<o.scroll.maxY||o.scroll.moveY<0&&t>0)&&(e(i.scrollContainer).scrollTop(t+o.scroll.moveY),o.draggedItem.css("top",o.draggedItem.offset().top+o.scroll.moveY+1))},10),o.scroll.scrollX=window.setInterval(function(){if(i.scrollContainer!=window)return void e(i.scrollContainer).scrollLeft(e(i.scrollContainer).scrollLeft()+o.scroll.moveX);
var t=e(i.scrollContainer).scrollLeft();(o.scroll.moveX>0&&t<o.scroll.maxX||o.scroll.moveX<0&&t>0)&&(e(i.scrollContainer).scrollLeft(t+o.scroll.moveX),o.draggedItem.css("left",o.draggedItem.offset().left+o.scroll.moveX+1))},10),e(n).each(function(e,t){t.createDropTargets(),t.buildPositionTable()}),o.setPos(t.pageX,t.pageY),e(document).bind("mousemove",o.swapItems),e(document).bind("mouseup",o.dropItem),i.scrollContainer!=window&&e(window).bind("wheel",o.wheel)},setPos:function(t,n){var r=n-this.offset.top,a=t-this.offset.left;i.dragBetween||(r=Math.min(this.offsetLimit.bottom,Math.max(r,this.offsetLimit.top)),a=Math.min(this.offsetLimit.right,Math.max(a,this.offsetLimit.left)));var s=this.draggedItem.offsetParent().not("body").offset();if(null!=s&&(r-=s.top,a-=s.left),i.scrollContainer==window)n-=e(window).scrollTop(),t-=e(window).scrollLeft(),n=Math.max(0,n-e(window).height()+5)+Math.min(0,n-5),t=Math.max(0,t-e(window).width()+5)+Math.min(0,t-5);else{var l=e(i.scrollContainer),c=l.offset();n=Math.max(0,n-l.height()-c.top)+Math.min(0,n-c.top),t=Math.max(0,t-l.width()-c.left)+Math.min(0,t-c.left)}o.scroll.moveX=0==t?0:t*i.scrollSpeed/Math.abs(t),o.scroll.moveY=0==n?0:n*i.scrollSpeed/Math.abs(n),this.draggedItem.css({top:r,left:a})},wheel:function(t){if(o&&i.scrollContainer!=window){var n=e(i.scrollContainer),r=n.offset();if(t=t.originalEvent,t.clientX>r.left&&t.clientX<r.left+n.width()&&t.clientY>r.top&&t.clientY<r.top+n.height()){var a=(0==t.deltaMode?1:10)*t.deltaY;n.scrollTop(n.scrollTop()+a),t.preventDefault()}}},buildPositionTable:function(){var t=[];this.getItems().not([o.draggedItem[0],o.placeHolderItem[0]]).each(function(i){var n=e(this).offset();n.right=n.left+e(this).outerWidth(),n.bottom=n.top+e(this).outerHeight(),n.elm=this,t[i]=n}),this.pos=t},dropItem:function(){if(null!=o.draggedItem){var t=o.draggedItem.attr("data-origstyle");if(o.draggedItem.attr("style",t),""==t&&o.draggedItem.removeAttr("style"),o.draggedItem.removeAttr("data-origstyle"),o.styleDragHandlers(!0),o.placeHolderItem.before(o.draggedItem),o.placeHolderItem.remove(),e("[data-droptarget], .dragSortItem").remove(),window.clearInterval(o.scroll.scrollY),window.clearInterval(o.scroll.scrollX),o.draggedItem.attr("data-origpos")!=e(n).index(o)+"-"+e(o.container).children().index(o.draggedItem)&&0==i.dragEnd.apply(o.draggedItem)){var r=o.draggedItem.attr("data-origpos").split("-"),a=e(n[r[0]].container).children().not(o.draggedItem).eq(r[1]);a.size()>0?a.before(o.draggedItem):0==r[1]?e(n[r[0]].container).prepend(o.draggedItem):e(n[r[0]].container).append(o.draggedItem)}return o.draggedItem.removeAttr("data-origpos"),o.draggedItem=null,e(document).unbind("mousemove",o.swapItems),e(document).unbind("mouseup",o.dropItem),i.scrollContainer!=window&&e(window).unbind("wheel",o.wheel),!1}},swapItems:function(t){if(null==o.draggedItem)return!1;o.setPos(t.pageX,t.pageY);for(var a=o.findPos(t.pageX,t.pageY),s=o,l=0;a==-1&&i.dragBetween&&l<n.length;l++)a=n[l].findPos(t.pageX,t.pageY),s=n[l];if(a==-1)return!1;var c=function(){return e(s.container).children().not(s.draggedItem)},d=c().not(i.itemSelector).each(function(e){this.idx=c().index(this)});return null==r||r.top>o.draggedItem.offset().top||r.left>o.draggedItem.offset().left?e(s.pos[a].elm).before(o.placeHolderItem):e(s.pos[a].elm).after(o.placeHolderItem),d.each(function(){var t=c().eq(this.idx).get(0);this!=t&&c().index(this)<this.idx?e(this).insertAfter(t):this!=t&&e(this).insertBefore(t)}),e(n).each(function(e,t){t.createDropTargets(),t.buildPositionTable()}),r=o.draggedItem.offset(),!1},findPos:function(e,t){for(var i=0;i<this.pos.length;i++)if(this.pos[i].left<e&&this.pos[i].right>e&&this.pos[i].top<t&&this.pos[i].bottom>t)return i;return-1},createDropTargets:function(){i.dragBetween&&e(n).each(function(){var t=e(this.container).find("[data-placeholder]"),n=e(this.container).find("[data-droptarget]");t.size()>0&&n.size()>0?n.remove():0==t.size()&&0==n.size()&&("td"==i.tagName?e(i.placeHolderTemplate).attr("data-droptarget",!0).appendTo(this.container):e(this.container).append(o.placeHolderItem.removeAttr("data-placeholder").clone().attr("data-droptarget",!0)),o.placeHolderItem.attr("data-placeholder",!0))})}};s.init(),n.push(s)}),this},e.fn.dragsort.defaults={tagName:"",itemSelector:"",dragSelector:"",dragSelectorExclude:"input, textarea",dragEnd:function(){},dragBetween:!1,placeHolderTemplate:"",scrollContainer:window,scrollSpeed:5}}(jQuery),define("dragsort",function(){}),function(e){e.fn.drag=function(t,i,n){var o="string"==typeof t?t:"",r=e.isFunction(t)?t:e.isFunction(i)?i:null;return 0!==o.indexOf("drag")&&(o="drag"+o),n=(t==r?i:n)||{},r?this.bind(o,n,r):this.trigger(o)};var t=e.event,i=t.special,n=i.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var i=e.data(this,n.datakey),o=t.data||{};i.related+=1,e.each(n.defaults,function(e,t){void 0!==o[e]&&(i[e]=o[e])})},remove:function(){e.data(this,n.datakey).related-=1},setup:function(){if(!e.data(this,n.datakey)){var i=e.extend({related:0},n.defaults);e.data(this,n.datakey,i),t.add(this,"touchstart mousedown",n.init,i),this.attachEvent&&this.attachEvent("ondragstart",n.dontstart)}},teardown:function(){var i=e.data(this,n.datakey)||{};i.related||(e.removeData(this,n.datakey),t.remove(this,"touchstart mousedown",n.init),n.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",n.dontstart))},init:function(o){if(!n.touched){var r,a=o.data;if(!(0!=o.which&&a.which>0&&o.which!=a.which)&&!e(o.target).is(a.not)&&(!a.handle||e(o.target).closest(a.handle,o.currentTarget).length)&&(n.touched="touchstart"==o.type?this:null,a.propagates=1,a.mousedown=this,a.interactions=[n.interaction(this,a)],a.target=o.target,a.pageX=o.pageX,a.pageY=o.pageY,a.dragging=null,r=n.hijack(o,"draginit",a),a.propagates))return r=n.flatten(r),r&&r.length&&(a.interactions=[],e.each(r,function(){a.interactions.push(n.interaction(this,a))})),a.propagates=a.interactions.length,a.drop!==!1&&i.drop&&i.drop.handler(o,a),n.textselect(!1),n.touched?t.add(n.touched,"touchmove touchend",n.handler,a):t.add(document,"mousemove mouseup",n.handler,a),!(!n.touched||a.live)&&void 0}},interaction:function(t,i){var o=e(t)[i.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new n.callback,droppable:[],offset:o}},handler:function(o){var r=o.data;switch(o.type){case!r.dragging&&"touchmove":o.preventDefault();case!r.dragging&&"mousemove":if(Math.pow(o.pageX-r.pageX,2)+Math.pow(o.pageY-r.pageY,2)<Math.pow(r.distance,2))break;o.target=r.target,n.hijack(o,"dragstart",r),r.propagates&&(r.dragging=!0);case"touchmove":o.preventDefault();case"mousemove":if(r.dragging){if(n.hijack(o,"drag",r),r.propagates){r.drop!==!1&&i.drop&&i.drop.handler(o,r);break}o.type="mouseup"}case"touchend":case"mouseup":default:n.touched?t.remove(n.touched,"touchmove touchend",n.handler):t.remove(document,"mousemove mouseup",n.handler),r.dragging&&(r.drop!==!1&&i.drop&&i.drop.handler(o,r),n.hijack(o,"dragend",r)),n.textselect(!0),r.click===!1&&r.dragging&&e.data(r.mousedown,"suppress.click",(new Date).getTime()+5),r.dragging=n.touched=!1}},hijack:function(i,o,r,a,s){if(r){var l,c,d,u={event:i.originalEvent,type:i.type},p=o.indexOf("drop")?"drag":"drop",h=a||0,f=isNaN(a)?r.interactions.length:a;i.type=o,i.originalEvent=null,r.results=[];do if(c=r.interactions[h]){if("dragend"!==o&&c.cancelled)continue;d=n.properties(i,r,c),c.results=[],e(s||c[p]||r.droppable).each(function(a,s){if(d.target=s,i.isPropagationStopped=function(){return!1},l=s?t.dispatch.call(s,i,d):null,l===!1?("drag"==p&&(c.cancelled=!0,r.propagates-=1),"drop"==o&&(c[p][a]=null)):"dropinit"==o&&c.droppable.push(n.element(l)||s),"dragstart"==o&&(c.proxy=e(n.element(l)||c.drag)[0]),c.results.push(l),delete i.result,"dropinit"!==o)return l}),r.results[h]=n.flatten(c.results),"dropinit"==o&&(c.droppable=n.flatten(c.droppable)),"dragstart"!=o||c.cancelled||d.update()}while(++h<f);return i.type=u.type,i.originalEvent=u.event,n.flatten(r.results)}},properties:function(e,t,i){var o=i.callback;return o.drag=i.drag,o.proxy=i.proxy||i.drag,o.startX=t.pageX,o.startY=t.pageY,o.deltaX=e.pageX-t.pageX,o.deltaY=e.pageY-t.pageY,o.originalX=i.offset.left,o.originalY=i.offset.top,o.offsetX=o.originalX+o.deltaX,o.offsetY=o.originalY+o.deltaY,o.drop=n.flatten((i.drop||[]).slice()),o.available=n.flatten((i.droppable||[]).slice()),o},element:function(e){if(e&&(e.jquery||1==e.nodeType))return e},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?n.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",n.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};n.callback.prototype={update:function(){i.drop&&this.available.length&&e.each(this.available,function(e){i.drop.locate(this,e)})}};var o=t.dispatch;t.dispatch=function(t){return e.data(this,"suppress."+t.type)-(new Date).getTime()>0?void e.removeData(this,"suppress."+t.type):o.apply(this,arguments)};var r=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,i){if(i){var n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0]||null;n&&e.each(r.props,function(e,i){t[i]=n[i]})}return t}};i.draginit=i.dragstart=i.dragend=n}(jQuery),define("drag",function(){}),function(e){e.fn.drop=function(t,i,n){var o="string"==typeof t?t:"",r=e.isFunction(t)?t:e.isFunction(i)?i:null;return 0!==o.indexOf("drop")&&(o="drop"+o),n=(t==r?i:n)||{},r?this.bind(o,n,r):this.trigger(o)},e.drop=function(t){t=t||{},n.multi=t.multi===!0?1/0:t.multi===!1?1:isNaN(t.multi)?n.multi:t.multi,n.delay=t.delay||n.delay,n.tolerance=e.isFunction(t.tolerance)?t.tolerance:null===t.tolerance?null:n.tolerance,n.mode=t.mode||n.mode||"intersect"};var t=e.event,i=t.special,n=e.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(t){var i=e.data(this,n.datakey);i.related+=1},remove:function(){e.data(this,n.datakey).related-=1},setup:function(){if(!e.data(this,n.datakey)){var t={related:0,active:[],anyactive:0,winner:0,location:{}};return e.data(this,n.datakey,t),n.targets.push(this),!1}},teardown:function(){var t=e.data(this,n.datakey)||{};if(!t.related){e.removeData(this,n.datakey);var i=this;n.targets=e.grep(n.targets,function(e){return e!==i})}},handler:function(t,o){var r;if(o)switch(t.type){case"mousedown":case"touchstart":r=e(n.targets),"string"==typeof o.drop&&(r=r.filter(o.drop)),r.each(function(){var t=e.data(this,n.datakey);t.active=[],t.anyactive=0,t.winner=0}),o.droppable=r,i.drag.hijack(t,"dropinit",o);break;case"mousemove":case"touchmove":n.event=t,n.timer||n.tolerate(o);break;case"mouseup":case"touchend":n.timer=clearTimeout(n.timer),o.propagates&&(i.drag.hijack(t,"drop",o),i.drag.hijack(t,"dropend",o))}},locate:function(t,i){var o=e.data(t,n.datakey),r=e(t),a=r.offset()||{},s=r.outerHeight(),l=r.outerWidth(),c={elem:t,width:l,height:s,top:a.top,left:a.left,right:a.left+l,bottom:a.top+s};return o&&(o.location=c,o.index=i,o.elem=t),c},contains:function(e,t){return(t[0]||t.left)>=e.left&&(t[0]||t.right)<=e.right&&(t[1]||t.top)>=e.top&&(t[1]||t.bottom)<=e.bottom},modes:{intersect:function(e,t,i){return this.contains(i,[e.pageX,e.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(e,t,i){return Math.max(0,Math.min(i.bottom,t.bottom)-Math.max(i.top,t.top))*Math.max(0,Math.min(i.right,t.right)-Math.max(i.left,t.left))},fit:function(e,t,i){return this.contains(i,t)?1:0},middle:function(e,t,i){return this.contains(i,[t.left+.5*t.width,t.top+.5*t.height])?1:0}},sort:function(e,t){return t.winner-e.winner||e.index-t.index},tolerate:function(t){var o,r,a,s,l,c,d,u,p=0,h=t.interactions.length,f=[n.event.pageX,n.event.pageY],m=n.tolerance||n.modes[n.mode];do if(u=t.interactions[p]){if(!u)return;u.drop=[],l=[],c=u.droppable.length,m&&(a=n.locate(u.proxy)),o=0;do if(d=u.droppable[o]){if(s=e.data(d,n.datakey),r=s.location,!r)continue;s.winner=m?m.call(n,n.event,a,r):n.contains(r,f)?1:0,l.push(s)}while(++o<c);l.sort(n.sort),o=0;do(s=l[o])&&(s.winner&&u.drop.length<n.multi?(s.active[p]||s.anyactive||(i.drag.hijack(n.event,"dropstart",t,p,s.elem)[0]!==!1?(s.active[p]=1,s.anyactive+=1):s.winner=0),s.winner&&u.drop.push(s.elem)):s.active[p]&&1==s.anyactive&&(i.drag.hijack(n.event,"dropend",t,p,s.elem),s.active[p]=0,s.anyactive-=1));while(++o<c)}while(++p<h);n.last&&f[0]==n.last.pageX&&f[1]==n.last.pageY?delete n.timer:n.timer=setTimeout(function(){n.tolerate(t)},n.delay),n.last=n.event}};i.dropinit=i.dropstart=i.dropend=n}(jQuery),define("drop",function(){}),$.fn.addtabs=function(e){var t=$(this);e=$.extend({content:"",close:!0,monitor:"body",nav:".nav-addtabs",tab:".tab-addtabs",iframeUse:!0,iframeHeight:$(window).height()-50,iframeForceRefresh:!1,callback:function(){}},e||{});var i=$(e.nav),n=$(e.tab);history.pushState&&$(window).on("popstate",function(t){var i=t.originalEvent.state;i&&$("a[addtabs="+i.id+"]",e.monitor).data("pushstate",!0).trigger("click")}),$(e.monitor).on("click","[addtabs]",function(t){if(0!==$(this).attr("url").indexOf("javascript:")){$(this).is("a")&&t.preventDefault();var i=$(this).attr("addtabs"),n=$(this).attr("title")?$(this).attr("title"):$.trim($(this).text()),o=$(this).attr("url"),r=e.content?e.content:$(this).attr("content"),a=!!$(this).attr("ajax"),s={url:o,title:n,id:i,content:r,ajax:a};if(document.title=n,history.pushState&&!$(this).data("pushstate")){var l=o.indexOf("ref=addtabs")==-1?o+(o.indexOf("?")>-1?"&":"?")+"ref=addtabs":o;window.history.pushState(s,n,l)}$(this).data("pushstate",null),_add.call(this,{id:i,title:$(this).attr("title")?$(this).attr("title"):$(this).html(),content:r,url:o,ajax:a})}}),i.on("click",".close-tab",function(e){return id=$(this).prev("a").attr("aria-controls"),_close(id),!1}),i.on("dblclick","li[role=presentation]",function(e){$(this).find(".close-tab").trigger("click")}),i.on("click","li[role=presentation]",function(e){$("a[addtabs="+$("a",this).attr("node-id")+"]").trigger("click")}),$(window).resize(function(){$("#nav").width($("#header > .navbar").width()-$(".sidebar-toggle").outerWidth()-$(".navbar-custom-menu").outerWidth()-20),_drop()}),_add=function(t){var o,r,a,s;if(o=t.id,r="tab_"+t.id,a="con_"+t.id,s=t.url,s+=t.url.indexOf("?")>-1?"&addtabs=1":"?addtabs=1",i.find("[role='presentation']").removeClass("active"),n.find("[role='tabpanel']").removeClass("active"),0==$("#"+r).size()){if(title=$('<li role="presentation" id="'+r+'"><a href="#'+a+'" node-id="'+t.id+'" aria-controls="'+o+'" role="tab" data-toggle="tab">'+t.title+"</a></li>"),e.close&&$("li",i).size()>0&&title.append(' <i class="close-tab fa fa-remove"></i>'),content=$('<div role="tabpanel" class="tab-pane" id="'+a+'"></div>'),t.content)content.append(t.content);else if(e.iframeUse&&!t.ajax){var l=e.iframeHeight;content.append('<iframe src="'+s+'" width="100%" height="'+l+'" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling-x="no" scrolling-y="auto" allowtransparency="yes"></iframe></div>')}else $.get(s,function(e){content.append(e)});$(".tabdrop li").size()>0?$(".tabdrop ul").append(title):i.append(title),n.append(content)}else e.iframeForceRefresh&&$("#"+a+" iframe").attr("src",function(e,t){return t});localStorage.setItem("addtabs",$(this).prop("outerHTML")),$("#"+r).addClass("active"),$("#"+a).addClass("active"),_drop()},_close=function(n){var o="tab_"+n,r="con_"+n;t.find("li.active").not(".tabdrop").attr("id")==o&&($("#"+o).prev().not(".tabdrop").size()>0?$("#"+o).prev().not(".tabdrop").find("a").trigger("click"):$("#"+o).next().size()>0?$("#"+o).next().trigger("click"):$(">li:last > a",i).trigger("click")),$("#"+o).remove(),$("#"+r).remove(),_drop(),e.callback()},_drop=function(){var e=$('<li class="dropdown pull-right hide tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="javascript:;"><i class="glyphicon glyphicon-align-justify"></i> <b class="caret"></b></a><ul class="dropdown-menu"></ul></li>');$(".tabdrop").html()?e=i.find(".tabdrop"):e.prependTo(i),i.parent().is(".tabs-below")&&e.addClass("dropup");var t=0,n=i.width()-60,o=0,r=i.append(e.find("li")).find(">li").not(".tabdrop"),a=r.size();r.each(function(r,s){return o+=$(this).width(),0==t&&r==a-1&&o<=i.width()||void(o>n&&(e.find("ul").append($(this)),t++))}),t>0?(e.removeClass("hide"),1==e.find(".active").length?e.addClass("active"):e.removeClass("active")):e.addClass("hide")}},define("addtabs",function(){}),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),n=i.data(c.dataKey),o=e.extend({},l,i.data(),n&&n.option,"object"==typeof t&&t);n||i.data(c.dataKey,n=new c(this,o))})}function i(t){return e(t).closest("div.sp_container").find("input.sp_input")}function n(){return this.each(function(){var e=i(this),t=e.data(c.dataKey);t&&(t.prop.init_set=!0,t.clearAll(t),t.prop.init_set=!1)})}function o(){return this.each(function(){var e=i(this),t=e.data(c.dataKey);t&&t.elem.hidden.val()&&t.setInitRecord(!0)})}function r(t){return this.each(function(){if(t&&e.isArray(t)){var n=i(this),o=n.data(c.dataKey);o&&(o.clearAll(o),o.option.data=t)}})}function a(t){var n=!1;return this.each(function(){var o=i(this),r=o.data(c.dataKey);r&&("undefined"!==e.type(t)?r.disabled(r,t):n=r.disabled(r))}),n}function s(){var t="";return this.each(function(){var n=i(this),o=n.data(c.dataKey);if(o)if(o.option.multiple){var r=[];o.elem.element_box.find("li.selected_tag").each(function(t,i){r.push(e(i).text())}),t+=r.toString()}else t+=o.elem.combo_input.val()}),t}var l={data:void 0,lang:"cn",multiple:!1,pagination:!0,dropButton:!0,listSize:10,multipleControlbar:!0,maxSelectLimit:0,selectToCloseList:!1,initRecord:void 0,dbTable:"tbl",keyField:"id",showField:"name",searchField:void 0,andOr:"AND",orderBy:void 0,pageSize:10,params:void 0,formatItem:void 0,autoFillResult:!1,autoSelectFirst:!1,noResultClean:!0,selectOnly:!1,inputDelay:.5,eSelect:void 0,eOpen:void 0,eAjaxSuccess:void 0,eTagRemove:void 0,eClear:void 0},c=function(t,i){e.each({data:"source",keyField:"primaryKey",showField:"field",pageSize:"perPage"},function(e,t){"undefined"!=typeof i[t]&&(i[e]=i[t],delete i[t])}),this.setOption(i),this.setLanguage(),this.setCssClass(),this.setProp(),this.setElem(t),this.setButtonAttrDefault(),this.setInitRecord(),this.eDropdownButton(),this.eInput(),this.eWhole()};c.version="2.18",c.dataKey="selectPageObject",c.prototype.setOption=function(t){t.searchField=t.searchField||t.showField,t.andOr=t.andOr.toUpperCase(),"AND"!==t.andOr&&"OR"!==t.andOr&&(t.andOr="AND");for(var i=["searchField"],n=0;n<i.length;n++)t[i[n]]=this.strToArray(t[i[n]]);t.orderBy=t.orderBy||t.showField,t.orderBy=this.setOrderbyOption(t.orderBy,t.showField),t.multiple&&!t.selectToCloseList&&(t.autoFillResult=!1,t.autoSelectFirst=!1),t.pagination||(t.pageSize=200),("number"!==e.type(t.listSize)||t.listSize<0)&&(t.listSize=10),this.option=t},c.prototype.strToArray=function(e){return e?e.replace(/[\s　]+/g,"").split(","):""},c.prototype.setOrderbyOption=function(t,i){var n=[],o=[];if("object"==typeof t)for(var r=0;r<t.length;r++)o=e.trim(t[r]).split(" "),n[r]=2==o.length?o:[o[0],"ASC"];else o=e.trim(t).split(" "),n[0]=2==o.length?o:o[0].match(/^(ASC|DESC)$/i)?[i,o[0]]:[o[0],"ASC"];return n},c.prototype.setLanguage=function(){var e,t=this.option;switch(t.lang){case"en":e={add_btn:"Add button",add_title:"add a box",del_btn:"Del button",del_title:"delete a box",next:"Next",next_title:"Next"+t.pageSize+" (Right key)",prev:"Prev",prev_title:"Prev"+t.pageSize+" (Left key)",first_title:"First (Shift + Left key)",last_title:"Last (Shift + Right key)",get_all_btn:"Get All (Down key)",get_all_alt:"(button)",close_btn:"Close (Tab key)",close_alt:"(button)",loading:"loading...",loading_alt:"(loading)",page_info:"page_num of page_count",select_ng:"Attention : Please choose from among the list.",select_ok:"OK : Correctly selected.",not_found:"not found",ajax_error:"An error occurred while connecting to server.",clear:"Clear content",select_all:"Select current page",unselect_all:"Clear current page",clear_all:"Clear all selected",max_selected:"You can only select up to max_selected_limit items"};break;case"cn":default:e={add_btn:"添加按钮",add_title:"添加区域",del_btn:"删除按钮",del_title:"删除区域",next:"下一页",next_title:"下"+t.pageSize+" (→)",prev:"上一页",prev_title:"上"+t.pageSize+" (←)",first_title:"首页 (Shift + ←)",last_title:"尾页 (Shift + →)",get_all_btn:"获得全部 (↓)",get_all_alt:"(按钮)",close_btn:"关闭 (Tab键)",close_alt:"(按钮)",loading:"读取中...",loading_alt:"(读取中)",page_info:"第 page_num 页(共page_count页)",select_ng:"请注意：请从列表中选择.",select_ok:"OK : 已经选择.",not_found:"无查询结果",ajax_error:"连接到服务器时发生错误！",clear:"清除内容",select_all:"选择当前页项目",unselect_all:"取消选择当前页项目",clear_all:"清除全部已选择项目",max_selected:"最多只能选择 max_selected_limit 个项目"}}this.message=e},c.prototype.setCssClass=function(){var e={container:"sp_container",container_open:"sp_container_open",re_area:"sp_result_area",result_open:"sp_result_area_open",control_box:"sp_control_box",element_box:"sp_element_box",navi:"sp_navi",results:"sp_results",re_off:"sp_results_off",select:"sp_over",select_ok:"sp_select_ok",select_ng:"sp_select_ng",selected:"sp_selected",input_off:"sp_input_off",message_box:"sp_message_box",disabled:"sp_disabled",button:"sp_button",btn_on:"sp_btn_on",btn_out:"sp_btn_out",input:"sp_input",clear_btn:"sp_clear_btn",align_right:"sp_align_right"};this.css_class=e},c.prototype.setProp=function(){this.prop={disabled:!1,current_page:1,max_page:1,is_loading:!1,xhr:!1,key_paging:!1,key_select:!1,prev_value:"",selected_text:"",last_input_time:void 0,init_set:!1},this.template={tag:{content:'<li class="selected_tag" itemvalue="#item_value#">#item_text#<span class="tag_close"><i class="spfont sp-close"></i></span></li>',textKey:"#item_text#",valueKey:"#item_value#"},page:{current:"page_num",total:"page_count"},msg:{maxSelectLimit:"max_selected_limit"}}},c.prototype.elementRealSize=function(t,i){var n,o,r,a={absolute:!1,clone:!1,includeMargin:!1,display:"block"},s=a,l=t.eq(0),c=[],d="";n=function(){r=l.parents().addBack().filter(":hidden"),d+="visibility: hidden !important; display: "+s.display+" !important; ",s.absolute===!0&&(d+="position: absolute !important;"),r.each(function(){var t=e(this),i=t.attr("style");c.push(i),t.attr("style",i?i+";"+d:d)})},o=function(){r.each(function(t){var i=e(this),n=c[t];void 0===n?i.removeAttr("style"):i.attr("style",n)})},n();var u=/(outer)/.test(i)?l[i](s.includeMargin):l[i]();return o(),u},c.prototype.setElem=function(t){var i={},n=this.option,o=this.css_class,r=this.message,a=e(t),s=a.outerWidth();s<=0&&(s=this.elementRealSize(a,"outerWidth")),s<150&&(s=150),i.combo_input=a.attr({autocomplete:"off"}).addClass(o.input).wrap("<div>"),n.selectOnly&&i.combo_input.prop("readonly",!0),i.container=i.combo_input.parent().addClass(o.container),i.combo_input.prop("disabled")&&(n.multiple?i.container.addClass(o.disabled):i.combo_input.addClass(o.input_off)),i.container.width(s),i.button=e("<div>").addClass(o.button),i.dropdown=e('<span class="sp_caret"></span>'),i.clear_btn=e("<div>").html(e("<i>").addClass("spfont sp-close")).addClass(o.clear_btn).attr("title",r.clear),n.dropButton||i.clear_btn.addClass(o.align_right),i.element_box=e("<ul>").addClass(o.element_box),n.multiple&&n.multipleControlbar&&(i.control=e("<div>").addClass(o.control_box)),i.result_area=e("<div>").addClass(o.re_area),n.pagination&&(i.navi=e("<div>").addClass("sp_pagination").append("<ul>")),i.results=e("<ul>").addClass(o.results);var l="_text",c=i.combo_input.attr("id")||i.combo_input.attr("name"),d=i.combo_input.attr("name")||"selectPage",u=d,p=c;if(i.hidden=e('<input type="hidden" class="sp_hidden" />').attr({name:u,id:p}).val(""),i.combo_input.attr({name:d+l,id:c+l}),i.container.append(i.hidden),n.dropButton&&(i.container.append(i.button),i.button.append(i.dropdown)),e(document.body).append(i.result_area),i.result_area.append(i.results),n.pagination&&i.result_area.append(i.navi),n.multiple){n.multipleControlbar&&(i.control.append('<button type="button" class="btn btn-default sp_clear_all" ><i class="spfont sp-clear"></i></button>'),i.control.append('<button type="button" class="btn btn-default sp_unselect_all" ><i class="spfont sp-unselect-all"></i></button>'),i.control.append('<button type="button" class="btn btn-default sp_select_all" ><i class="spfont sp-select-all"></i></button>'),i.control_text=e("<p>"),i.control.append(i.control_text),i.result_area.prepend(i.control)),i.container.addClass("sp_container_combo"),i.combo_input.addClass("sp_combo_input").before(i.element_box);var h=e("<li>").addClass("input_box");h.append(i.combo_input),i.element_box.append(h),i.combo_input.attr("placeholder")&&i.combo_input.attr("placeholder_bak",i.combo_input.attr("placeholder"))}this.elem=i},c.prototype.setButtonAttrDefault=function(){this.option.dropButton&&this.elem.button.attr("title",this.message.close_btn)},c.prototype.setInitRecord=function(t){var i=this,n=i.option,o=i.elem,r="";if("undefined"!=e.type(o.combo_input.data("init"))&&(n.initRecord=String(o.combo_input.data("init"))),t||n.initRecord||!o.combo_input.val()||(n.initRecord=o.combo_input.val()),o.combo_input.val(""),t||o.hidden.val(n.initRecord),r=t&&o.hidden.val()?o.hidden.val():n.initRecord)if("object"==typeof n.data){var a=new Array,s=r.split(",");e.each(s,function(e,t){for(var i=0;i<n.data.length;i++)if(n.data[i][n.keyField]==t){a.push(n.data[i]);break}}),!n.multiple&&a.length>1&&(a=[a[0]]),i.afterInit(i,a)}else e.ajax({dataType:"json",type:"POST",url:n.data,data:{searchTable:n.dbTable,searchKey:n.keyField,searchValue:r,orderBy:n.orderBy,showField:n.showField,keyField:n.keyField,keyValue:r,searchField:n.searchField},success:function(t){var o=null;n.eAjaxSuccess&&e.isFunction(n.eAjaxSuccess)&&(o=n.eAjaxSuccess(t)),i.afterInit(i,o.list)},error:function(e,t,n){i.ajaxErrorNotify(i,n)}})},c.prototype.afterInit=function(t,i){if(i&&(!e.isArray(i)||0!==i.length)){e.isArray(i)||(i=[i]);var n=t.option,o=t.css_class,r=function(t){var i=t[n.showField];if(n.formatItem&&e.isFunction(n.formatItem))try{i=n.formatItem(t)}catch(e){}return i};if(n.multiple)t.prop.init_set=!0,t.clearAll(t),e.each(i,function(e,i){var o={text:r(i),value:i[n.keyField]};t.isAlreadySelected(t,o)||t.addNewTag(t,o)}),t.tagValuesSet(t),t.inputResize(t),console.log(t.elem.hidden.blur()),t.prop.init_set=!1;else{var a=i[0];t.elem.combo_input.val(r(a)),t.elem.hidden.val(a[n.keyField]),t.prop.prev_value=r(a),t.prop.selected_text=r(a),n.selectOnly&&t.elem.combo_input.attr("title",t.message.select_ok).removeClass(o.select_ng).addClass(o.select_ok),t.putClearButton()}}},c.prototype.eDropdownButton=function(){var e=this;e.option.dropButton&&e.elem.button.mouseup(function(t){t.stopPropagation(),e.elem.result_area.is(":hidden")&&!e.elem.combo_input.prop("disabled")?e.elem.combo_input.focus():e.hideResults(e)})},c.prototype.eInput=function(){var t=this,i=t.option,n=t.elem,o=t.message,r=function(){t.prop.page_move=!1,t.suggest(t),t.setCssFocusedInput(t)};n.combo_input.keyup(function(e){t.processKey(t,e)}).keydown(function(e){t.processControl(t,e)}).focus(function(e){n.result_area.is(":hidden")&&(e.stopPropagation(),t.prop.first_show=!0,r())}),n.container.on("click.SelectPage","div."+t.css_class.clear_btn,function(n){n.stopPropagation(),t.disabled(t)||(t.clearAll(t),t.elem.hidden.change(),i.eClear&&e.isFunction(i.eClear)&&i.eClear(t))}),n.result_area.on("mousedown.SelectPage",function(e){e.stopPropagation()}),i.multiple&&(i.multipleControlbar&&(n.control.find(".sp_select_all").on("click.SelectPage",function(e){t.selectAllLine(t)}).hover(function(){n.control_text.html(o.select_all)},function(){n.control_text.html("")}),n.control.find(".sp_unselect_all").on("click.SelectPage",function(e){t.unSelectAllLine(t)}).hover(function(){n.control_text.html(o.unselect_all)},function(){n.control_text.html("")}),n.control.find(".sp_clear_all").on("click.SelectPage",function(e){t.clearAll(t)}).hover(function(){n.control_text.html(o.clear_all)},function(){n.control_text.html("")})),n.element_box.on("click.SelectPage",function(t){var i=t.target||t.srcElement;e(i).is("ul")&&n.combo_input.focus()}),n.element_box.on("click.SelectPage","span.tag_close",function(){var n=e(this).closest("li");t.removeTag(t,n),r(),i.eTagRemove&&e.isFunction(i.eTagRemove)&&i.eTagRemove(1,t)}),t.inputResize(t))},c.prototype.eWhole=function(){var t=this,i=t.css_class,n=function(e){e.elem.combo_input.val(""),e.option.multiple||e.elem.hidden.val(""),e.prop.selected_text=""};e(document.body).off("mousedown.selectPage").on("mousedown.selectPage",function(t){var o=t.target||t.srcElement,r=e(o).closest("div."+i.container);e("div."+i.container+"."+i.container_open).each(function(){if(this!=r[0]){var t=e(this),o=t.find("input."+i.input).data(c.dataKey);return o.elem.combo_input.val()||!o.elem.hidden.val()||o.option.multiple?void(o.elem.results.find("li").not("."+i.message_box).size()?o.option.autoFillResult?o.elem.hidden.val()?o.hideResults(o):o.elem.results.find("li.sp_over").size()?o.selectCurrentLine(o,!0):o.option.autoSelectFirst?(o.nextLine(o),o.selectCurrentLine(o,!0)):o.hideResults(o):o.hideResults(o):(o.option.noResultClean?n(o):o.option.multiple||o.elem.hidden.val(""),o.hideResults(o))):(o.prop.current_page=1,n(o),o.hideResults(o),!0)}})})},c.prototype.eResultList=function(){var t=this,i=this.css_class;t.elem.results.children("li").hover(function(){return t.prop.key_select?void(t.prop.key_select=!1):void(e(this).hasClass(i.selected)||e(this).hasClass(i.message_box)||(e(this).addClass(i.select),t.setCssFocusedResults(t)))},function(){e(this).removeClass(i.select)}).click(function(n){return t.prop.key_select?void(t.prop.key_select=!1):(n.preventDefault(),n.stopPropagation(),void(e(this).hasClass(i.selected)||t.selectCurrentLine(t,!1)))})},c.prototype.eScroll=function(){var t=this.css_class;e(window).on("scroll.SelectPage",function(i){e("div."+t.container+"."+t.container_open).each(function(){var i=e(this),n=i.find("input."+t.input).data(c.dataKey),o=n.elem.result_area.offset(),r=e(window).scrollTop(),a=e(document).height(),s=e(window).height(),l=n.elem.result_area.outerHeight(),d=o.top+l,u=a>s,p=n.elem.result_area.hasClass("shadowDown");u&&(p?d>s+r&&n.calcResultsSize(n):o.top<r&&n.calcResultsSize(n))})})},c.prototype.ePaging=function(){var e=this;e.option.pagination&&(e.elem.navi.find("li.csFirstPage").off("click").on("click",function(t){t.preventDefault(),e.firstPage(e)}),e.elem.navi.find("li.csPreviousPage").off("click").on("click",function(t){t.preventDefault(),e.prevPage(e)}),e.elem.navi.find("li.csNextPage").off("click").on("click",function(t){t.preventDefault(),e.nextPage(e)}),e.elem.navi.find("li.csLastPage").off("click").on("click",function(t){t.preventDefault(),e.lastPage(e)}))},c.prototype.ajaxErrorNotify=function(e,t){e.showMessage(e.message.ajax_error)},c.prototype.showMessage=function(e,t){if(t){var i='<li class="'+e.css_class.message_box+'"><i class="spfont sp-warning"></i> '+t+"</li>";e.elem.results.empty().append(i).show(),e.calcResultsSize(e),e.setOpenStatus(e,!0),e.elem.control.hide(),e.option.pagination&&e.elem.navi.hide()}},c.prototype.scrollWindow=function(t,i){var n,o=t.getCurrentLine(t),r=o&&!i?o.offset().top:t.elem.container.offset().top;t.prop.size_li=t.elem.results.children("li:first").outerHeight(),n=t.prop.size_li;var a,s=e(window).height(),l=e(window).scrollTop(),c=l+s-n;if(o.length)if(r<l||n>s)a=r-l;else{if(!(r>c))return;a=r-c}else r<l&&(a=r-l);window.scrollBy(0,a)},c.prototype.setOpenStatus=function(e,t){var i=e.elem,n=e.css_class;t?(i.container.addClass(n.container_open),i.result_area.addClass(n.result_open)):(i.container.removeClass(n.container_open),i.result_area.removeClass(n.result_open))},c.prototype.setCssFocusedInput=function(e){},c.prototype.setCssFocusedResults=function(e){},c.prototype.checkValue=function(e){var t=e.elem.combo_input.val();
t!=e.prop.prev_value&&(e.prop.prev_value=t,e.prop.first_show=!1,e.option.selectOnly&&e.setButtonAttrDefault(),e.option.multiple||t||(e.elem.combo_input.val(""),e.elem.hidden.val(""),e.elem.clear_btn.remove()),e.suggest(e))},c.prototype.processKey=function(t,i){e.inArray(i.keyCode,[37,38,39,40,27,9,13])===-1&&(16!=i.keyCode&&t.setCssFocusedInput(t),t.inputResize(t),"string"===e.type(t.option.data)?(t.prop.last_input_time=i.timeStamp,setTimeout(function(){i.timeStamp-t.prop.last_input_time===0&&t.checkValue(t)},1e3*t.option.inputDelay)):t.checkValue(t))},c.prototype.processControl=function(t,i){if(e.inArray(i.keyCode,[37,38,39,40,27,9])>-1&&t.elem.result_area.is(":visible")||e.inArray(i.keyCode,[13,9])>-1&&t.getCurrentLine(t))switch(i.preventDefault(),i.stopPropagation(),i.cancelBubble=!0,i.returnValue=!1,i.keyCode){case 37:i.shiftKey?t.firstPage(t):t.prevPage(t);break;case 38:t.prop.key_select=!0,t.prevLine(t);break;case 39:i.shiftKey?t.lastPage(t):t.nextPage(t);break;case 40:t.elem.results.children("li").length?(t.prop.key_select=!0,t.nextLine(t)):t.suggest(t);break;case 9:t.prop.key_paging=!0,t.selectCurrentLine(t,!0);break;case 13:t.selectCurrentLine(t,!0);break;case 27:t.prop.key_paging=!0,t.hideResults(t)}},c.prototype.abortAjax=function(e){e.prop.xhr&&(e.prop.xhr.abort(),e.prop.xhr=!1)},c.prototype.suggest=function(t){var i,n=e.trim(t.elem.combo_input.val());i=t.option.multiple?n:n&&n===t.prop.selected_text?"":n,i=i.split(/[\s　]+/),t.option.eOpen&&e.isFunction(t.option.eOpen)&&t.option.eOpen.call(t),t.abortAjax(t);var o=t.prop.current_page||1;"object"==typeof t.option.data?t.searchForJson(t,i,o):t.searchForDb(t,i,o)},c.prototype.setLoading=function(e){""===e.elem.results.html()&&e.setOpenStatus(e,!0)},c.prototype.searchForDb=function(t,i,n){var o=t.option;o.eAjaxSuccess&&e.isFunction(o.eAjaxSuccess)||t.hideResults(t);var r=o.params,a={},s=o.searchField;i.length&&i[0]&&i[0]!==t.prop.prev_value&&(n=1);var l={q_word:i,pageNumber:n,pageSize:o.pageSize,andOr:o.andOr,orderBy:o.orderBy,searchTable:o.dbTable,showField:t.option.showField,keyField:t.option.keyField,searchField:t.option.searchField};if(l[s]=i[0],r){var c=e.isFunction(r)?r():r;a=c&&e.isPlainObject(c)?e.extend({},l,c):l}else a=l;t.prop.xhr=e.ajax({dataType:"json",url:o.data,type:"POST",data:a,success:function(r){if(!r||!e.isPlainObject(r))return t.hideResults(t),void t.ajaxErrorNotify(t,errorThrown);var a={},s={};try{a=o.eAjaxSuccess(r),s.originalResult=a.list,s.cnt_whole=a.totalRow}catch(e){return void t.showMessage(t,t.message.ajax_error)}if(t.elem.navi&&e(t.elem.navi).toggleClass("hide",s.cnt_whole<=s.originalResult.length),s.candidate=[],s.keyField=[],"object"!=typeof s.originalResult)return t.prop.xhr=null,void t.notFoundSearch(t);s.cnt_page=s.originalResult.length;for(var l=0;l<s.cnt_page;l++)for(var c in s.originalResult[l])c==o.keyField&&s.keyField.push(s.originalResult[l][c]),c==o.showField&&s.candidate.push(s.originalResult[l][c]);t.prepareResults(t,s,i,n)},error:function(e,i,n){"abort"!=i&&(t.hideResults(t),t.ajaxErrorNotify(t,n))},complete:function(){t.prop.xhr=null}})},c.prototype.searchForJson=function(t,i,n){var o=t.option,r=[],a=[],s=[],l={},c=0,d=[];do a[c]=i[c].replace(/\W/g,"\\$&").toString(),d[c]=new RegExp(a[c],"gi"),c++;while(c<i.length);for(c=0;c<o.data.length;c++){for(var u,p=!1,h=o.data[c],f=0;f<d.length;f++)if(u=h[o.searchField],o.formatItem&&e.isFunction(o.formatItem)&&(u=o.formatItem(h)),u.match(d[f])){if(p=!0,"OR"==o.andOr)break}else if(p=!1,"AND"==o.andOr)break;p&&r.push(h)}var m=new RegExp("^"+a[0]+"$","gi"),g=new RegExp("^"+a[0],"gi"),y=[],v=[],b=[];for(c=0;c<r.length;c++){var w=o.orderBy[0][0],x=String(r[c][w]);x.match(m)?y.push(r[c]):x.match(g)?v.push(r[c]):b.push(r[c])}if(o.orderBy[0][1].match(/^asc$/i)?(y=t.sortAsc(t,y),v=t.sortAsc(t,v),b=t.sortAsc(t,b)):(y=t.sortDesc(t,y),v=t.sortDesc(t,v),b=t.sortDesc(t,b)),s=s.concat(y).concat(v).concat(b),l.cnt_whole=s.length,t.prop.page_move)s.length<=(n-1)*o.pageSize&&(n=1,t.prop.current_page=1);else if(!o.multiple){var _=t.elem.hidden.val();if("undefined"!==e.type(_)&&""!==e.trim(_)){var k=0;e.each(s,function(e,t){if(t[o.keyField]==_)return k=e+1,!1}),n=Math.ceil(k/o.pageSize),n<1&&(n=1),t.prop.current_page=n}}var C=(n-1)*o.pageSize,S=C+o.pageSize;for(l.originalResult=[],c=C;c<S&&void 0!==s[c];c++){l.originalResult.push(s[c]);for(var T in s[c])T==o.keyField&&(void 0===l.keyField&&(l.keyField=[]),l.keyField.push(s[c][T])),T==o.showField&&(void 0===l.candidate&&(l.candidate=[]),l.candidate.push(s[c][T]))}void 0===l.candidate&&(l.candidate=[]),l.cnt_page=l.candidate.length,t.prepareResults(t,l,i,n)},c.prototype.sortAsc=function(t,i){return i.sort(function(i,n){var o=i[t.option.orderBy[0][0]],r=n[t.option.orderBy[0][0]];return"number"===e.type(o)?o-r:String(o).localeCompare(String(r))}),i},c.prototype.sortDesc=function(t,i){return i.sort(function(i,n){var o=i[t.option.orderBy[0][0]],r=n[t.option.orderBy[0][0]];return"number"===e.type(o)?r-o:String(r).localeCompare(String(o))}),i},c.prototype.notFoundSearch=function(e){e.elem.results.empty(),e.calcResultsSize(e),e.setOpenStatus(e,!0),e.setCssFocusedInput(e)},c.prototype.prepareResults=function(e,t,i,n){e.option.pagination&&e.setNavi(e,t.cnt_whole,t.cnt_page,n),t.keyField||(t.keyField=!1),e.option.selectOnly&&1===t.candidate.length&&t.candidate[0]==i[0]&&(e.elem.hidden.val(t.keyField[0]),this.setButtonAttrDefault());var o=!1;i&&i.length&&i[0]&&(o=!0),e.displayResults(e,t,o)},c.prototype.setNavi=function(e,t,i,n){var o=e.message,r=function(e,t,i,n){var r=function(){var t=o.page_info;return t.replace(e.template.page.current,i).replace(e.template.page.total,n)};if(0===t.find("li").size()){t.hide().empty();var a="spfont sp-first",s="spfont sp-previous",l="spfont sp-next",c="spfont sp-last";t.append('<li class="csFirstPage" title="'+o.first_title+'" ><a href="javascript:void(0);"> <i class="'+a+'"></i> </a></li>'),t.append('<li class="csPreviousPage" title="'+o.prev_title+'" ><a href="javascript:void(0);"><i class="'+s+'"></i></a></li>'),t.append('<li class="pageInfoBox"><a href="javascript:void(0);"> '+r()+" </a></li>"),t.append('<li class="csNextPage" title="'+o.next_title+'" ><a href="javascript:void(0);"><i class="'+l+'"></i></a></li>'),t.append('<li class="csLastPage" title="'+o.last_title+'" ><a href="javascript:void(0);"> <i class="'+c+'"></i> </a></li>'),t.show()}else t.find("li.pageInfoBox a").html(r())},a=e.elem.navi.find("ul"),s=Math.ceil(t/e.option.pageSize);0===s?n=0:s<n?n=s:0===n&&(n=1),e.prop.current_page=n,e.prop.max_page=s,r(e,a,n,s);var l="disabled",c=a.find("li.csFirstPage"),d=a.find("li.csPreviousPage"),u=a.find("li.csNextPage"),p=a.find("li.csLastPage");1===n||0===n?(c.hasClass(l)||c.addClass(l),d.hasClass(l)||d.addClass(l)):(c.hasClass(l)&&c.removeClass(l),d.hasClass(l)&&d.removeClass(l)),n===s||0===s?(u.hasClass(l)||u.addClass(l),p.hasClass(l)||p.addClass(l)):(u.hasClass(l)&&u.removeClass(l),p.hasClass(l)&&p.removeClass(l)),s>1&&e.ePaging()},c.prototype.displayResults=function(t,i,n){var o=t.option,r=t.elem;if(r.results.hide().empty(),o.multiple&&"number"===e.type(o.maxSelectLimit)&&o.maxSelectLimit>0){var a=r.element_box.find("li.selected_tag").size();if(a>0&&a>=o.maxSelectLimit){var s=t.message.max_selected;return void t.showMessage(t,s.replace(t.template.msg.maxSelectLimit,o.maxSelectLimit))}}if(i.candidate.length)for(var l=i.candidate,c=i.keyField,d=r.hidden.val(),u=d?d.split(","):new Array,p="",h=0;h<l.length;h++){if(o.formatItem&&e.isFunction(o.formatItem))try{p=o.formatItem(i.originalResult[h])}catch(e){console.error("formatItem内容格式化函数内容设置不正确！"),p=l[h]}else p=l[h];var f=e("<li>").html(p).attr({pkey:c[h]});o.formatItem||f.attr("title",p),e.inArray(c[h].toString(),u)!==-1&&f.addClass(t.css_class.selected),f.data("dataObj",i.originalResult[h]),r.results.append(f)}else{var m='<li class="'+t.css_class.message_box+'"><i class="spfont sp-warning"></i> '+t.message.not_found+"</li>";r.results.append(m)}r.results.show(),o.multiple&&o.multipleControlbar&&r.control.show(),o.pagination&&r.navi.show(),t.calcResultsSize(t),t.setOpenStatus(t,!0),t.eResultList(),t.eScroll(),n&&i.candidate.length&&o.autoSelectFirst&&t.nextLine(t)},c.prototype.calcResultsSize=function(t){var i=t.option,n=t.elem,o=function(){if("static"!==n.container.css("position")){if(!i.pagination){var t=n.results.find("li:first").outerHeight(!0),o=t*i.listSize;n.results.css({"max-height":o,"overflow-y":"auto"})}var r=e(document).width(),a=e(document).height(),s=e(window).height(),l=n.container.offset(),c=e(window).scrollTop(),d=n.result_area.outerWidth(),o=n.result_area.outerHeight(),u=l.left,p=n.container.outerHeight(),h=l.left+d>r?u-(d-n.container.outerWidth()):u,f=l.top,m=0,g=5,y=f+p+o+g,v=a>s;return f-c-g>o&&v&&y>s+c||!v&&y>s?(m=l.top-o-g,n.result_area.removeClass("shadowUp shadowDown").addClass("shadowUp")):(m=l.top+(i.multiple?n.container.outerHeight():p),n.result_area.removeClass("shadowUp shadowDown").addClass("shadowDown"),m+=g),{top:m+"px",left:h+"px"}}var l=n.combo_input.offset();n.result_area.css({top:l.top+n.combo_input.outerHeight()+"px",left:l.left+"px"})};if(n.result_area.is(":visible"))n.result_area.css(o());else{var r=o();n.result_area.css(r).show(1,function(){var e=o();r.top===e.top&&r.left===e.left||n.result_area.css(e)})}},c.prototype.hideResults=function(t){t.prop.key_paging&&(t.scrollWindow(t,!0),t.prop.key_paging=!1),t.setCssFocusedInput(t),t.option.autoFillResult,t.elem.results.empty(),t.elem.result_area.hide(),t.setOpenStatus(t,!1),e(window).off("scroll.SelectPage"),t.abortAjax(t),t.setButtonAttrDefault()},c.prototype.disabled=function(t,i){var n=(t.option,t.elem);return"undefined"===e.type(i)?n.combo_input.prop("disabled"):void("boolean"===e.type(i)&&(n.combo_input.prop("disabled",i),i?n.container.addClass(t.css_class.disabled):n.container.removeClass(t.css_class.disabled)))},c.prototype.firstPage=function(e){e.prop.current_page>1&&(e.prop.current_page=1,e.prop.page_move=!0,e.suggest(e))},c.prototype.prevPage=function(e){e.prop.current_page>1&&(e.prop.current_page--,e.prop.page_move=!0,e.suggest(e))},c.prototype.nextPage=function(e){e.prop.current_page<e.prop.max_page&&(e.prop.current_page++,e.prop.page_move=!0,e.suggest(e))},c.prototype.lastPage=function(e){e.prop.current_page<e.prop.max_page&&(e.prop.current_page=e.prop.max_page,e.prop.page_move=!0,e.suggest(e))},c.prototype.afterAction=function(e){e.inputResize(e),e.elem.combo_input.change(),e.setCssFocusedInput(e),e.prop.init_set||(e.option.multiple?e.option.selectToCloseList?(e.hideResults(e),e.elem.combo_input.blur()):(e.suggest(e),e.elem.combo_input.focus()):(e.hideResults(e),e.elem.combo_input.blur()))},c.prototype.selectCurrentLine=function(t,i){t.scrollWindow(t,!0);var n=t.option,o=t.getCurrentLine(t);if(o){if(n.multiple){t.elem.combo_input.val("");var r={text:o.text(),value:o.attr("pkey")};t.isAlreadySelected(t,r)||(t.addNewTag(t,r),t.tagValuesSet(t))}else t.elem.combo_input.val(o.text()),t.elem.hidden.val(o.attr("pkey"));n.selectOnly&&t.setButtonAttrDefault(),n.eSelect&&e.isFunction(n.eSelect)&&n.eSelect(o.data("dataObj"),t),t.prop.prev_value=t.elem.combo_input.val(),t.prop.selected_text=t.elem.combo_input.val(),t.putClearButton()}t.afterAction(t)},c.prototype.putClearButton=function(){this.option.multiple||this.elem.combo_input.prop("disabled")||this.elem.container.append(this.elem.clear_btn)},c.prototype.selectAllLine=function(t){var i=t.option,n=new Array;t.elem.results.find("li").each(function(o,r){var a=e(r),s={text:a.text(),value:a.attr("pkey")};if(t.isAlreadySelected(t,s)||(t.addNewTag(t,s),t.tagValuesSet(t)),n.push(a.data("dataObj")),"number"===e.type(i.maxSelectLimit)&&i.maxSelectLimit>0&&i.maxSelectLimit===t.elem.element_box.find("li.selected_tag").size())return!1}),i.eSelect&&e.isFunction(i.eSelect)&&i.eSelect(n,t),t.afterAction(t)},c.prototype.unSelectAllLine=function(t){var i=t.option,n=t.elem.results.find("li").size();t.elem.results.find("li").each(function(i,n){var o=e(n).attr("pkey"),r=t.elem.element_box.find('li.selected_tag[itemvalue="'+o+'"]');t.removeTag(t,r)}),t.afterAction(t),i.eTagRemove&&e.isFunction(i.eTagRemove)&&i.eTagRemove(n,t)},c.prototype.clearAll=function(t){var i=t.option,n=0;i.multiple&&(n=t.elem.element_box.find("li.selected_tag").size(),t.elem.element_box.find("li.selected_tag").remove()),t.reset(t),t.afterAction(t),i.multiple||t.elem.clear_btn.remove(),i.multiple&&i.eTagRemove&&e.isFunction(i.eTagRemove)&&i.eTagRemove(n,t)},c.prototype.reset=function(e){e.elem.combo_input.val(""),e.elem.hidden.val(""),e.prop.prev_value="",e.prop.selected_text="",e.prop.current_page=1},c.prototype.getCurrentLine=function(e){if(e.elem.result_area.is(":hidden"))return!1;var t=e.elem.results.find("li."+e.css_class.select);return!!t.size()&&t},c.prototype.isAlreadySelected=function(t,i){var n=!1;if(i.value){var o=t.elem.hidden.val();if(o){var r=o.split(",");r&&r.length&&e.inArray(i.value,r)!=-1&&(n=!0)}}return n},c.prototype.addNewTag=function(t,i){if(t.option.multiple&&i){var n,o=t.template.tag.content;o=o.replace(t.template.tag.textKey,i.text),o=o.replace(t.template.tag.valueKey,i.value),n=e(o),t.elem.combo_input.prop("disabled")&&n.find("span.tag_close").hide(),t.elem.combo_input.closest("li").before(n)}},c.prototype.removeTag=function(t,i){var n=e(i).attr("itemvalue"),o=t.elem.hidden.val();if("undefined"!=e.type(n)&&o){var r=o.split(","),a=e.inArray(n.toString(),r);a!=-1&&(r.splice(a,1),t.elem.hidden.val(r.toString()))}e(i).remove(),t.afterAction(t)},c.prototype.tagValuesSet=function(t){if(t.option.multiple){var i=t.elem.element_box.find("li.selected_tag");if(i&&i.size()){var n=new Array;e.each(i,function(t,i){var o=e(i).attr("itemvalue");"undefined"!==e.type(o)&&n.push(o)}),n.length&&t.elem.hidden.val(n.join(","))}}},c.prototype.inputResize=function(e){if(e.option.multiple){var t=e.elem.combo_input.closest("li"),i=function(e,t){t.removeClass("full_width");var i=e.elem.combo_input.val().length+1,n=.75*i+"em";e.elem.combo_input.css("width",n).removeAttr("placeholder")};0===e.elem.element_box.find("li.selected_tag").size()&&e.elem.combo_input.attr("placeholder_bak")?(t.hasClass("full_width")||t.addClass("full_width"),e.elem.combo_input.attr("placeholder",e.elem.combo_input.attr("placeholder_bak")).removeAttr("style")):i(e,t)}},c.prototype.nextLine=function(e){var t,i=e.getCurrentLine(e);if(i?(t=e.elem.results.children("li").index(i),i.removeClass(e.css_class.select)):t=-1,t++,t<e.elem.results.children("li").length){var n=e.elem.results.children("li").eq(t);n.addClass(e.css_class.select),e.setCssFocusedResults(e)}else e.setCssFocusedInput(e);e.scrollWindow(e,!1)},c.prototype.prevLine=function(e){var t,i=e.getCurrentLine(e);if(i?(t=e.elem.results.children("li").index(i),i.removeClass(e.css_class.select)):t=e.elem.results.children("li").length,t--,t>-1){var n=e.elem.results.children("li").eq(t);n.addClass(e.css_class.select),e.setCssFocusedResults(e)}else e.setCssFocusedInput(e);e.scrollWindow(e,!1)};var d=e.fn.selectPage;e.fn.selectPage=t,e.fn.selectPage.Constructor=c,e.fn.selectPageClear=n,e.fn.selectPageRefresh=o,e.fn.selectPageData=r,e.fn.selectPageDisabled=a,e.fn.selectPageText=s,e.fn.selectPage.noConflict=function(){return e.fn.selectPage=d,this}}(window.jQuery),define("selectpage",function(){});